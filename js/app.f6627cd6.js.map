{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?29bf","webpack:///./src/components/AnimatedAbcNotation.vue?ee83","webpack:///./src/App.vue","webpack:///./src/components/ShowPlay.vue","webpack:///./src/components/AbcNotation.vue","webpack:///./src/components/AbcNotation.vue?0a36","webpack:///./src/components/AbcNotation.vue?c01e","webpack:///./src/components/ShowPlay.vue?13d7","webpack:///./src/components/ShowPlay.vue?c0ab","webpack:///./src/components/Challenge.vue","webpack:///./src/components/AnimatedAbcNotation.vue","webpack:///./src/components/AnimatedAbcNotation.vue?760d","webpack:///./src/challengeGenerator.ts","webpack:///./src/Foundations.ts","webpack:///./src/components/Challenge.vue?0562","webpack:///./src/components/Challenge.vue?a556","webpack:///./src/components/MidiCapability.vue","webpack:///./src/components/MidiCapability.vue?5fa4","webpack:///./src/components/MidiCapability.vue?4004","webpack:///./src/components/SubscriptionHandlingDeviceSelector.vue","webpack:///./src/components/MidiDeviceSelector.vue","webpack:///./src/components/MidiDeviceSelector.vue?0d28","webpack:///./src/components/MidiDeviceSelector.vue?76af","webpack:///./src/components/SubscriptionHandlingDeviceSelector.vue?90b9","webpack:///./src/components/SubscriptionHandlingDeviceSelector.vue?7442","webpack:///./src/components/Preferences.vue","webpack:///./src/components/SchemaBasedForm.vue","webpack:///./src/components/form/FormDropdown.vue","webpack:///./src/components/form/FormDropdown.vue?9d90","webpack:///./src/components/form/FormDropdown.vue?ac95","webpack:///./src/components/SchemaBasedForm.vue?5104","webpack:///./src/components/SchemaBasedForm.vue?bd9f","webpack:///./src/components/Preferences.vue?9adf","webpack:///./src/components/Preferences.vue?40c6","webpack:///./src/storedData.ts","webpack:///./src/components/ScoreBoard.vue","webpack:///./src/components/ScoreBoard.vue?5672","webpack:///./src/components/ScoreBoard.vue?f3ff","webpack:///./src/WebmidiInputKeyboardAdapter.ts","webpack:///./src/components/VirtualKeyboard.vue","webpack:///./src/components/VirtualKeyboard.vue?6451","webpack:///./src/components/VirtualKeyboard.vue?cb5c","webpack:///./src/VirtualKeyboardEventObserver.ts","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/main.ts","webpack:///./src/components/Challenge.vue?5f7b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","$i18n","midiReady","showMidiOptions","deviceId","midiOptions","input","deviceChanged","midiInput","keyboard","showPreferences","preferences","$event","games","keyboards","base-note","noteReading","baseNote","note-limit","noteLimit","speed","accidentals","gameFinished","settings","keyboardSettings","virtualKeyboard","broadcast","ref","abc","props","required","type","String","watch","this","render","mounted","methods","renderAbc","$refs","notation","add_classes","$emit","emits","components","AbcNotation","unmounted","removeListener","midiSubscription","addListener","pitch","scientificToAbcNotation","midiToNoteName","notes","innerHTML","class","gaming","animationDuration","heat","challenge","note","heats","successes","mistakes","finish","finished","reset","start","startViaKeyHint","postProcessAbc","style","styleVariables","Number","abcWidth","computed","$el","children","clientWidth","querySelectorAll","forEach","el","pathDefinition","getAttribute","replace","setAttribute","AccidentalsConfiguration","KEYS_IN_OCTAVE","MIDI_TOP_PITCH","accidentalKeys","generatePitchOptions","avoidAccidentals","pitches","octave","includes","getRandomValueFromArray","array","Math","floor","random","repetitionIsAvoidable","sharps","validPitches","previous","START_ON_KEY","validator","isInteger","default","timeout","undefined","generator","AnimatedAbcNotation","evaluateInput","midiToAbc","assign","$data","$options","next","clearTimeout","Error","done","setTimeout","noResponse","midiPitch","evaluateResponse","href","target","loading","error","keypath","tag","for","$t","disable","created","enabled","enable","err","preferred","disabled","id","selected","inputs","option","manufacturer","getInputById","current","MidiDeviceSelector","legend","schema","form-data","i18n-prefix","preferencesUpdated","augmentedSchema","modelValue","formData","uuid","label","options","optionLabel","optionValue","placeholder","Dropdown","Array","FormDropdown","i18nPrefix","augmentSchema","SchemaForm","fields","keys","prop","placeholderMessage","component","te","SchemaBasedForm","Fieldset","storedData","version","defaultValue","buildKey","storeValueJSON","localStorage","getItem","watchedValue","JSON","parse","newValue","setItem","stringify","deep","round","virtuosicScore","game","max","gameInfo","listeners","dispatcher","midiEvent","listener","index","indexOf","highlightedNotes","octaves","ceil","startNote","rest","startOctave","endOctave","piano","destroy","keyPlay","pianoChartNote","toString","midi","addKeyMouseUpListener","keyUp","addKeyMouseDownListener","keyDown","specificListener","SubscriptionHandlingDeviceSelector","MidiCapability","Challenge","ShowPlay","Preferences","ScoreBoard","VirtualKeyboard","setup","defaults","wrapMidiInput","webmidiInput","time","Date","toISOString","i18n","locale","messages","en","App","use","mount"],"mappings":"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","file":"js/app.f6627cd6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=54a25060&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AnimatedAbcNotation.vue?vue&type=style&index=0&id=15a9cd8e&lang=css\"","<template>\n  <h1>{{ $i18n.t(\"header.title\") }}</h1>\n  <p>{{ $i18n.t(\"header.punchline\") }}</p>\n  <hr />\n  <MidiCapability @midiReady=\"midiReady\">\n    <div v-if=\"showMidiOptions\">\n      <button @click=\"showMidiOptions = false\">\n        {{ $i18n.t(\"midiOptions.close\") }}\n      </button>\n      <h2>{{ $i18n.t(\"midiOptions.title\") }}</h2>\n      <fieldset>\n        <legend>{{ $i18n.t(\"midiOptions.input.title\") }}</legend>\n        <SubscriptionHandlingDeviceSelector\n          :deviceId=\"midiOptions.input\"\n          @deviceChanged=\"deviceChanged\"\n        />\n        <div v-if=\"midiInput\">\n          <h3>{{ $i18n.t(\"midiOptions.input.preview.title\") }}</h3>\n          <p>{{ $i18n.t(\"midiOptions.input.preview.description\") }}</p>\n          <ShowPlay :keyboard=\"midiInput\" />\n        </div>\n      </fieldset>\n    </div>\n    <div v-else-if=\"showPreferences\">\n      <button @click=\"showPreferences = false\">\n        {{ $i18n.t(\"preferences.close\") }}\n      </button>\n      <Preferences :preferences=\"preferences\" @updated=\"preferences = $event\" />\n    </div>\n    <div v-else>\n      <button @click=\"showMidiOptions = true\">\n        {{ $i18n.t(\"midiOptions.title\") }}\n      </button>\n      <button @click=\"showPreferences = true\">\n        {{ $i18n.t(\"preferences.title\") }}\n      </button>\n      <hr />\n      <ScoreBoard :games=\"games\" />\n      <hr />\n      <Challenge\n        :keyboards=\"keyboards\"\n        :base-note=\"preferences.noteReading.baseNote\"\n        :note-limit=\"preferences.noteReading.noteLimit\"\n        :speed=\"preferences.noteReading.speed\"\n        :accidentals=\"preferences.noteReading.accidentals\"\n        @finished=\"gameFinished\"\n      />\n      <VirtualKeyboard\n        :settings=\"preferences.keyboardSettings\"\n        @noteon=\"virtualKeyboard.broadcast($event)\"\n      />\n      <div v-if=\"!midiInput\">\n        {{ $i18n.t(\"error.noMidiDevice\") }}\n      </div>\n    </div>\n  </MidiCapability>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport ShowPlay from \"./components/ShowPlay.vue\";\nimport Challenge from \"./components/Challenge.vue\";\nimport MidiCapability from \"./components/MidiCapability.vue\";\nimport SubscriptionHandlingDeviceSelector from \"./components/SubscriptionHandlingDeviceSelector.vue\";\nimport Preferences from \"@/components/Preferences.vue\";\nimport WebMidi, { Input } from \"webmidi\";\nimport storedData from \"@/storedData\";\nimport midiOptionsDefaults from \"./midiOptions.defaults.json\";\nimport preferencesDefaults from \"./preferences.defaults.json\";\nimport ScoreBoard from \"@/components/ScoreBoard.vue\";\nimport GameInfo from \"@/types/GameInfo\";\nimport GameResult from \"@/types/GameResult\";\nimport WebmidiInputKeyboardAdapter from \"@/WebmidiInputKeyboardAdapter\";\nimport Keyboard from \"@/types/Keyboard\";\nimport VirtualKeyboard from \"@/components/VirtualKeyboard.vue\";\nimport VirtualKeyboardEventObserver from \"@/VirtualKeyboardEventObserver\";\n\nexport default defineComponent({\n  name: \"App\",\n  data: () => ({\n    showMidiOptions: false,\n    showPreferences: false,\n    midiInput: null as Keyboard | null,\n    virtualKeyboard: new VirtualKeyboardEventObserver()\n  }),\n  components: {\n    SubscriptionHandlingDeviceSelector,\n    MidiCapability,\n    Challenge,\n    ShowPlay,\n    Preferences,\n    ScoreBoard,\n    VirtualKeyboard\n  },\n  computed: {\n    keyboards(): Keyboard[] {\n      const keyboards: Keyboard[] = [this.virtualKeyboard];\n      if (this.midiInput) {\n        keyboards.push(this.midiInput);\n      }\n      return keyboards;\n    }\n  },\n  setup() {\n    return {\n      midiOptions: storedData(\n        \"midiOptions\",\n        midiOptionsDefaults.version.toString(),\n        midiOptionsDefaults.defaults\n      ),\n      preferences: storedData(\n        \"preferences\",\n        preferencesDefaults.version.toString(),\n        preferencesDefaults.defaults\n      ),\n      games: storedData(\"games\", \"1\", [] as GameResult[])\n    };\n  },\n  methods: {\n    deviceChanged(current: Input) {\n      this.midiOptions.input = current.id;\n      this.midiInput = this.wrapMidiInput(current);\n    },\n    midiReady() {\n      if (this.midiOptions.input) {\n        const webmidiInput = WebMidi.getInputById(this.midiOptions.input);\n        this.midiInput = webmidiInput ? this.wrapMidiInput(webmidiInput) : null;\n      }\n      this.showMidiOptions = !this.midiInput;\n    },\n    gameFinished(gameInfo: GameInfo) {\n      this.games.push({\n        name: \"noteReading\",\n        time: new Date().toISOString(),\n        preferences: this.preferences.noteReading,\n        gameInfo\n      } as GameResult);\n    },\n    wrapMidiInput(input: Input) {\n      return new WebmidiInputKeyboardAdapter(input);\n    }\n  }\n});\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","<template>\n  <AbcNotation :abc=\"abc\" />\n  <p ref=\"notes\"></p>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport AbcNotation from \"./AbcNotation.vue\";\nimport Midi from \"@tonaljs/midi\";\nimport TonalAbcNotation from \"@tonaljs/abc-notation\";\nimport Keyboard from \"@/types/Keyboard\";\n\nexport default defineComponent({\n  name: \"ShowPlay\",\n  props: {\n    keyboard: {\n      required: true,\n      type: Object as PropType<Keyboard>\n    }\n  },\n  data: () => ({\n    abc: \"\"\n  }),\n  components: {\n    AbcNotation\n  },\n  unmounted() {\n    this.keyboard.removeListener(this.midiSubscription);\n  },\n  mounted() {\n    this.keyboard.addListener(this.midiSubscription);\n  },\n  methods: {\n    midiSubscription(pitch: number) {\n      const abc = TonalAbcNotation.scientificToAbcNotation(\n        Midi.midiToNoteName(pitch)\n      );\n      this.abc = `X:1\\nK:C\\n${abc}`;\n      (this.$refs.notes as HTMLElement).innerHTML += `${pitch} (${abc})<br />`;\n    }\n  }\n});\n</script>\n","<template>\n  <div ref=\"notation\"></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport AbcNotation from \"abcjs\";\nimport \"abcjs/abcjs-midi.css\";\n\nexport default defineComponent({\n  props: {\n    abc: {\n      required: true,\n      type: String\n    }\n  },\n  watch: {\n    abc() {\n      this.render();\n    }\n  },\n  mounted() {\n    this.render();\n  },\n  methods: {\n    render() {\n      if (this.abc === \"\") {\n        return;\n      }\n      AbcNotation.renderAbc(this.$refs.notation as HTMLElement, this.abc, {\n        add_classes: true\n      });\n      this.$emit(\"rendered\");\n    }\n  },\n  emits: [\"rendered\"]\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\nimport AbcNotation from \"abcjs\";\nimport \"abcjs/abcjs-midi.css\";\n\nexport default defineComponent({\n  props: {\n    abc: {\n      required: true,\n      type: String\n    }\n  },\n  watch: {\n    abc() {\n      this.render();\n    }\n  },\n  mounted() {\n    this.render();\n  },\n  methods: {\n    render() {\n      if (this.abc === \"\") {\n        return;\n      }\n      AbcNotation.renderAbc(this.$refs.notation as HTMLElement, this.abc, {\n        add_classes: true\n      });\n      this.$emit(\"rendered\");\n    }\n  },\n  emits: [\"rendered\"]\n});\n","import { render } from \"./AbcNotation.vue?vue&type=template&id=1d6a81d6\"\nimport script from \"./AbcNotation.vue?vue&type=script&lang=ts\"\nexport * from \"./AbcNotation.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, PropType } from \"vue\";\nimport AbcNotation from \"./AbcNotation.vue\";\nimport Midi from \"@tonaljs/midi\";\nimport TonalAbcNotation from \"@tonaljs/abc-notation\";\nimport Keyboard from \"@/types/Keyboard\";\n\nexport default defineComponent({\n  name: \"ShowPlay\",\n  props: {\n    keyboard: {\n      required: true,\n      type: Object as PropType<Keyboard>\n    }\n  },\n  data: () => ({\n    abc: \"\"\n  }),\n  components: {\n    AbcNotation\n  },\n  unmounted() {\n    this.keyboard.removeListener(this.midiSubscription);\n  },\n  mounted() {\n    this.keyboard.addListener(this.midiSubscription);\n  },\n  methods: {\n    midiSubscription(pitch: number) {\n      const abc = TonalAbcNotation.scientificToAbcNotation(\n        Midi.midiToNoteName(pitch)\n      );\n      this.abc = `X:1\\nK:C\\n${abc}`;\n      (this.$refs.notes as HTMLElement).innerHTML += `${pitch} (${abc})<br />`;\n    }\n  }\n});\n","import { render } from \"./ShowPlay.vue?vue&type=template&id=479351a5\"\nimport script from \"./ShowPlay.vue?vue&type=script&lang=ts\"\nexport * from \"./ShowPlay.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"challenge\">\n    <h1>{{ $i18n.t(\"game.noteReading.title\") }}</h1>\n    <div v-if=\"gaming\">\n      <p>{{ $i18n.t(\"game.noteReading.description\") }}</p>\n      <AnimatedAbcNotation\n        :abc=\"abc\"\n        :animationDuration=\"speed\"\n        :key=\"`heat_no_${heat}`\"\n      />\n      <span>{{ challenge.pitch }} ({{ challenge.note }})</span>\n      <br />\n      <span>{{ heat }}/{{ heats }}</span>\n      <br />\n      <span>\n        {{ $i18n.t(\"game.noteReading.analysis.successes\") }} {{ successes }},\n        {{ $i18n.t(\"game.noteReading.analysis.mistakes\") }} {{ mistakes }}\n      </span>\n      <br />\n      <button @click=\"finish()\">\n        {{ $i18n.t(\"game.noteReading.stop\") }}\n      </button>\n    </div>\n    <div v-else-if=\"finished\">\n      {{ $i18n.t(\"game.noteReading.finished\") }}<br />\n      {{ $i18n.t(\"game.noteReading.analysis.successes\") }} {{ successes }},\n      {{ $i18n.t(\"game.noteReading.analysis.mistakes\") }} {{ mistakes }}\n      <br />\n      <button @click=\"reset()\">\n        {{ $i18n.t(\"game.noteReading.reset\") }}\n      </button>\n    </div>\n    <div v-else>\n      <button @click=\"start()\">\n        {{ $i18n.t(\"game.noteReading.start\") }}\n      </button>\n      <p>\n        <sub>{{ startViaKeyHint }}</sub>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport AnimatedAbcNotation from \"./AnimatedAbcNotation.vue\";\nimport Midi from \"@tonaljs/midi\";\nimport TonalAbcNotation from \"@tonaljs/abc-notation\";\nimport challengeGenerator, {\n  AccidentalsConfiguration,\n  Challenge\n} from \"@/challengeGenerator\";\nimport { VueI18n } from \"vue-i18n\";\nimport GameInfo from \"@/types/GameInfo\";\nimport Keyboard from \"@/types/Keyboard\";\n\nexport const START_ON_KEY = 60; // middle C\n\nexport default defineComponent({\n  props: {\n    keyboards: {\n      required: true,\n      type: Object as PropType<Keyboard[]>\n    },\n    baseNote: {\n      required: true,\n      type: Number,\n      validator: Number.isInteger\n    },\n    noteLimit: {\n      required: true,\n      type: Number,\n      validator: Number.isInteger\n    },\n    speed: {\n      required: true,\n      type: Number,\n      validator: Number.isInteger\n    },\n    accidentals: {\n      required: true,\n      type: String\n    },\n    heats: {\n      default: 10,\n      type: Number\n    }\n  },\n  data: () => ({\n    gaming: false,\n    finished: false,\n    challenge: {} as Challenge,\n    mistakes: 0,\n    successes: 0,\n    timeout: undefined as number | undefined,\n    generator: undefined as Generator<Challenge> | undefined,\n    heat: 0\n  }),\n  components: {\n    AnimatedAbcNotation\n  },\n  unmounted() {\n    this.keyboards.forEach(keyboard =>\n      keyboard.removeListener(this.evaluateInput)\n    );\n  },\n  mounted() {\n    this.keyboards.forEach(keyboard =>\n      keyboard.addListener(this.evaluateInput)\n    );\n  },\n  computed: {\n    startViaKeyHint(): string {\n      return (this.$i18n as VueI18n).t(\"game.noteReading.startViaKeyHint\", {\n        key: `${START_ON_KEY} (${this.midiToAbc(START_ON_KEY)})`\n      });\n    },\n    abc(): string {\n      return `X:1\\nK:C\\n${this.challenge.note}`;\n    }\n  },\n  methods: {\n    reset() {\n      // @ts-ignore The 'this' context… is not assignable to method's 'this' - no idea how to make this work nicely\n      Object.assign(this.$data, this.$options.data!.apply(this));\n    },\n    start() {\n      this.reset();\n      this.gaming = true;\n      this.generator = challengeGenerator(\n        this.baseNote,\n        this.noteLimit,\n        AccidentalsConfiguration[\n          this.accidentals as keyof typeof AccidentalsConfiguration\n        ]\n      );\n      this.next();\n    },\n    finish() {\n      window.clearTimeout(this.timeout);\n      this.gaming = false;\n      this.finished = true;\n      this.$emit(\"finished\", {\n        heats: this.heats,\n        heat: this.heat,\n        successes: this.successes,\n        mistakes: this.mistakes\n      } as GameInfo);\n    },\n    next() {\n      if (!this.generator) {\n        throw new Error(\"Can only run after generator was set up\");\n      }\n      const challenge = this.generator.next();\n\n      if (challenge.done || this.heat >= this.heats) {\n        this.finish();\n        return;\n      }\n\n      this.challenge = challenge.value;\n\n      this.timeout = window.setTimeout(this.noResponse, this.speed);\n\n      this.heat++;\n    },\n    evaluateInput(midiPitch: number) {\n      if (this.gaming) {\n        this.evaluateResponse(midiPitch);\n      } else {\n        if (midiPitch === START_ON_KEY) {\n          if (this.finished) {\n            this.reset();\n          } else {\n            this.start();\n          }\n        }\n      }\n    },\n    noResponse() {\n      this.mistakes++;\n      this.next();\n    },\n    evaluateResponse(midiPitch: number) {\n      if (midiPitch === this.challenge.pitch) {\n        window.clearTimeout(this.timeout);\n        this.successes++;\n        this.next();\n      } else {\n        this.mistakes++;\n      }\n    },\n    midiToAbc(pitch: number) {\n      return TonalAbcNotation.scientificToAbcNotation(\n        Midi.midiToNoteName(pitch)\n      );\n    }\n  },\n  emits: [\"finished\"]\n});\n</script>\n\n<style>\n.challenge {\n  height: 300px;\n}\n</style>\n","<template>\n  <AbcNotation\n    class=\"animated-abc-notation\"\n    :abc=\"abc\"\n    ref=\"abc\"\n    @rendered=\"postProcessAbc\"\n    :style=\"styleVariables\"\n  />\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport AbcNotation from \"./AbcNotation\";\n\nexport default defineComponent({\n  components: { AbcNotation },\n  props: {\n    abc: {\n      required: true,\n      type: String\n    },\n    animationDuration: {\n      required: true,\n      type: Number\n    }\n  },\n  data: () => ({\n    abcWidth: 0\n  }),\n  computed: {\n    styleVariables() {\n      return {\n        \"--staff-width\": this.abcWidth - 100 + \"px\",\n        \"--animation-duration\": this.animationDuration + \"ms\"\n      };\n    }\n  },\n  methods: {\n    postProcessAbc() {\n      this.abcWidth = this.$refs.abc.$el.children[0].clientWidth;\n\n      // remove \"margins\" from staff lines which happen to be part of the lines' path\n      this.$refs.abc.$el.querySelectorAll(\".abcjs-staff\").forEach(el => {\n        const pathDefinition = el\n          .getAttribute(\"d\")\n          .replace(\"M 15 \", \"M 0 \")\n          .replace(\"L 15 \", \"L 0 \");\n        el.setAttribute(\"d\", pathDefinition);\n      });\n    }\n  }\n});\n</script>\n\n<style>\n/* auxiliary staff lines match the class, too - selecting \"g\" to make sure we don't stretch those */\n.animated-abc-notation g .abcjs-staff {\n  transform: scaleX(10);\n}\n\n/* that is notes and possibly their respective auxiliary staff line */\n.animated-abc-notation .abcjs-note,\n.animated-abc-notation svg > .abcjs-staff {\n  animation-duration: var(--animation-duration);\n  animation-timing-function: linear;\n  animation-direction: normal;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-name: inchacross;\n}\n\n@keyframes inchacross {\n  from {\n    transform: translateX(0);\n  }\n  to {\n    transform: translateX(var(--staff-width));\n  }\n}\n</style>\n","import { render } from \"./AnimatedAbcNotation.vue?vue&type=template&id=15a9cd8e\"\nimport script from \"./AnimatedAbcNotation.vue?vue&type=script&lang=js\"\nexport * from \"./AnimatedAbcNotation.vue?vue&type=script&lang=js\"\n\nimport \"./AnimatedAbcNotation.vue?vue&type=style&index=0&id=15a9cd8e&lang=css\"\nscript.render = render\n\nexport default script","import TonalAbcNotation from \"@tonaljs/abc-notation\";\nimport Midi from \"@tonaljs/midi\";\nimport { KEYS_IN_OCTAVE } from \"@/Foundations\";\n\nconst MIDI_TOP_PITCH = 127;\n\n// get this from a 3rd party. that'd be great\nconst accidentalKeys = [1, 3, 6, 8, 10];\n\nexport enum AccidentalsConfiguration {\n  \"no\" = \"no\",\n  \"sharps\" = \"sharps\",\n  \"flats\" = \"flats\",\n  \"random\" = \"random\"\n}\n\nexport function generatePitchOptions(\n  baseNote: number,\n  noteLimit: number,\n  avoidAccidentals: boolean\n): number[] {\n  const pitches = [];\n  let pitch = -1;\n  for (let octave = -1; octave <= 9; octave++) {\n    for (let note = 0; note < KEYS_IN_OCTAVE; note++) {\n      pitch++;\n\n      if (pitch > MIDI_TOP_PITCH || pitches.length >= noteLimit) {\n        return pitches;\n      }\n\n      if (pitch < baseNote) {\n        continue;\n      }\n      if (avoidAccidentals && accidentalKeys.includes(note)) {\n        continue;\n      }\n\n      pitches.push(pitch);\n    }\n  }\n  return pitches;\n}\n\nfunction getRandomValueFromArray<T>(array: T[]): T {\n  return array[Math.floor(Math.random() * array.length)];\n}\n\nfunction repetitionIsAvoidable(noteLimit: number): boolean {\n  return noteLimit !== 1;\n}\n\nfunction midiToAbc(pitch: number, sharps: boolean) {\n  return TonalAbcNotation.scientificToAbcNotation(\n    Midi.midiToNoteName(pitch, { sharps })\n  );\n}\n\nexport class Challenge {\n  constructor(readonly note: string, readonly pitch: number) {}\n}\n\nexport default function*(\n  baseNote: number,\n  noteLimit: number,\n  accidentals: AccidentalsConfiguration\n) {\n  const validPitches = generatePitchOptions(\n    baseNote,\n    noteLimit,\n    accidentals === \"no\"\n  );\n\n  let previous: Challenge | null = null;\n  while (true) {\n    let pitch: number;\n    do {\n      pitch = getRandomValueFromArray(validPitches);\n    } while (\n      previous &&\n      pitch === previous.pitch &&\n      repetitionIsAvoidable(noteLimit)\n    );\n\n    const note = midiToAbc(\n      pitch,\n      accidentals === \"sharps\" ||\n        (accidentals === \"random\" && Math.random() < 0.5)\n    );\n\n    const challenge: Challenge = new Challenge(note, pitch);\n\n    previous = challenge;\n\n    yield challenge;\n  }\n}\n","export const KEYS_IN_OCTAVE = 12;\n","\nimport { defineComponent, PropType } from \"vue\";\nimport AnimatedAbcNotation from \"./AnimatedAbcNotation.vue\";\nimport Midi from \"@tonaljs/midi\";\nimport TonalAbcNotation from \"@tonaljs/abc-notation\";\nimport challengeGenerator, {\n  AccidentalsConfiguration,\n  Challenge\n} from \"@/challengeGenerator\";\nimport { VueI18n } from \"vue-i18n\";\nimport GameInfo from \"@/types/GameInfo\";\nimport Keyboard from \"@/types/Keyboard\";\n\nexport const START_ON_KEY = 60; // middle C\n\nexport default defineComponent({\n  props: {\n    keyboards: {\n      required: true,\n      type: Object as PropType<Keyboard[]>\n    },\n    baseNote: {\n      required: true,\n      type: Number,\n      validator: Number.isInteger\n    },\n    noteLimit: {\n      required: true,\n      type: Number,\n      validator: Number.isInteger\n    },\n    speed: {\n      required: true,\n      type: Number,\n      validator: Number.isInteger\n    },\n    accidentals: {\n      required: true,\n      type: String\n    },\n    heats: {\n      default: 10,\n      type: Number\n    }\n  },\n  data: () => ({\n    gaming: false,\n    finished: false,\n    challenge: {} as Challenge,\n    mistakes: 0,\n    successes: 0,\n    timeout: undefined as number | undefined,\n    generator: undefined as Generator<Challenge> | undefined,\n    heat: 0\n  }),\n  components: {\n    AnimatedAbcNotation\n  },\n  unmounted() {\n    this.keyboards.forEach(keyboard =>\n      keyboard.removeListener(this.evaluateInput)\n    );\n  },\n  mounted() {\n    this.keyboards.forEach(keyboard =>\n      keyboard.addListener(this.evaluateInput)\n    );\n  },\n  computed: {\n    startViaKeyHint(): string {\n      return (this.$i18n as VueI18n).t(\"game.noteReading.startViaKeyHint\", {\n        key: `${START_ON_KEY} (${this.midiToAbc(START_ON_KEY)})`\n      });\n    },\n    abc(): string {\n      return `X:1\\nK:C\\n${this.challenge.note}`;\n    }\n  },\n  methods: {\n    reset() {\n      // @ts-ignore The 'this' context… is not assignable to method's 'this' - no idea how to make this work nicely\n      Object.assign(this.$data, this.$options.data!.apply(this));\n    },\n    start() {\n      this.reset();\n      this.gaming = true;\n      this.generator = challengeGenerator(\n        this.baseNote,\n        this.noteLimit,\n        AccidentalsConfiguration[\n          this.accidentals as keyof typeof AccidentalsConfiguration\n        ]\n      );\n      this.next();\n    },\n    finish() {\n      window.clearTimeout(this.timeout);\n      this.gaming = false;\n      this.finished = true;\n      this.$emit(\"finished\", {\n        heats: this.heats,\n        heat: this.heat,\n        successes: this.successes,\n        mistakes: this.mistakes\n      } as GameInfo);\n    },\n    next() {\n      if (!this.generator) {\n        throw new Error(\"Can only run after generator was set up\");\n      }\n      const challenge = this.generator.next();\n\n      if (challenge.done || this.heat >= this.heats) {\n        this.finish();\n        return;\n      }\n\n      this.challenge = challenge.value;\n\n      this.timeout = window.setTimeout(this.noResponse, this.speed);\n\n      this.heat++;\n    },\n    evaluateInput(midiPitch: number) {\n      if (this.gaming) {\n        this.evaluateResponse(midiPitch);\n      } else {\n        if (midiPitch === START_ON_KEY) {\n          if (this.finished) {\n            this.reset();\n          } else {\n            this.start();\n          }\n        }\n      }\n    },\n    noResponse() {\n      this.mistakes++;\n      this.next();\n    },\n    evaluateResponse(midiPitch: number) {\n      if (midiPitch === this.challenge.pitch) {\n        window.clearTimeout(this.timeout);\n        this.successes++;\n        this.next();\n      } else {\n        this.mistakes++;\n      }\n    },\n    midiToAbc(pitch: number) {\n      return TonalAbcNotation.scientificToAbcNotation(\n        Midi.midiToNoteName(pitch)\n      );\n    }\n  },\n  emits: [\"finished\"]\n});\n","import { render } from \"./Challenge.vue?vue&type=template&id=cd9352c0\"\nimport script from \"./Challenge.vue?vue&type=script&lang=ts\"\nexport * from \"./Challenge.vue?vue&type=script&lang=ts\"\n\nimport \"./Challenge.vue?vue&type=style&index=0&id=cd9352c0&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div v-if=\"loading\">\n    {{ $i18n.t(\"midi.loading\") }}\n  </div>\n  <template v-else>\n    <div v-if=\"error\">\n      <i18n-t keypath=\"midi.error\" :tag=\"false\" for=\"midi.compatibilityAnchor\">\n        <a href=\"https://caniuse.com/midi\" target=\"_blank\">\n          {{ $t(\"midi.compatibilityAnchor\") }}\n        </a>\n      </i18n-t>\n    </div>\n    <slot v-else />\n  </template>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport WebMidi from \"webmidi\";\n\nexport default defineComponent({\n  name: \"MidiCapability\",\n  data: () => ({\n    loading: true,\n    error: false\n  }),\n  unmounted() {\n    WebMidi.disable();\n  },\n  created() {\n    if (!WebMidi.enabled) {\n      WebMidi.enable(err => {\n        this.error = !!err;\n        this.loading = false;\n        this.$emit(\"midiReady\");\n      }, false);\n    }\n  },\n  emits: [\"midiReady\"]\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\nimport WebMidi from \"webmidi\";\n\nexport default defineComponent({\n  name: \"MidiCapability\",\n  data: () => ({\n    loading: true,\n    error: false\n  }),\n  unmounted() {\n    WebMidi.disable();\n  },\n  created() {\n    if (!WebMidi.enabled) {\n      WebMidi.enable(err => {\n        this.error = !!err;\n        this.loading = false;\n        this.$emit(\"midiReady\");\n      }, false);\n    }\n  },\n  emits: [\"midiReady\"]\n});\n","import { render } from \"./MidiCapability.vue?vue&type=template&id=3c622957\"\nimport script from \"./MidiCapability.vue?vue&type=script&lang=ts\"\nexport * from \"./MidiCapability.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <MidiDeviceSelector :preferred=\"preferred\" @deviceChanged=\"deviceChanged\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport MidiDeviceSelector from \"./MidiDeviceSelector.vue\";\nimport { Input } from \"webmidi\";\n\nexport default defineComponent({\n  name: \"SubscriptionHandlingDeviceSelector\",\n  components: {\n    MidiDeviceSelector\n  },\n  props: {\n    deviceId: {\n      required: false,\n      type: String\n    }\n  },\n  data: () => ({\n    preferred: \"\"\n  }),\n  created() {\n    if (this.deviceId) {\n      this.preferred = this.deviceId;\n    }\n  },\n  methods: {\n    deviceChanged(current: Input, previous: Input | null) {\n      // remove subscriptions from previous device\n      if (previous && typeof previous.removeListener === \"function\") {\n        previous.removeListener();\n      }\n\n      this.$emit(\"deviceChanged\", current, previous);\n    }\n  },\n  emits: [\"deviceChanged\"]\n});\n</script>\n","<template>\n  <div>\n    <label for=\"jaslmus-settings-midi-device\">\n      {{ $i18n.t(\"midiOptions.input.device.title\") }}\n    </label>\n    <select id=\"jaslmus-settings-midi-device\" v-model=\"selected\">\n      <option disabled value=\"\">\n        {{ $i18n.t(\"midiOptions.input.device.placeholder\") }}\n      </option>\n      <option\n        v-for=\"option in inputs\"\n        v-bind:value=\"option.id\"\n        v-bind:key=\"option.id\"\n      >\n        {{ option.name }} ({{ option.manufacturer }})\n      </option>\n    </select>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport WebMidi, { Input } from \"webmidi\";\n\nexport default defineComponent({\n  name: \"MidiDeviceSelector\",\n  props: {\n    preferred: {\n      required: false,\n      type: String,\n      default: \"\"\n    }\n  },\n  data(): { selected: string; inputs: Input[] } {\n    return {\n      selected: WebMidi.getInputById(this.preferred) ? this.preferred : \"\",\n      inputs: []\n    };\n  },\n  watch: {\n    selected(current, previous) {\n      this.$emit(\n        \"deviceChanged\",\n        WebMidi.getInputById(current) || null,\n        WebMidi.getInputById(previous) || null\n      );\n    }\n  },\n  created() {\n    if (!WebMidi.enabled) {\n      throw new Error(\"WebMidi must be enabled for this component to work!\");\n    }\n\n    this.inputs = WebMidi.inputs;\n  },\n  emits: [\"deviceChanged\"]\n});\n</script>\n\n<style></style>\n","\nimport { defineComponent } from \"vue\";\nimport WebMidi, { Input } from \"webmidi\";\n\nexport default defineComponent({\n  name: \"MidiDeviceSelector\",\n  props: {\n    preferred: {\n      required: false,\n      type: String,\n      default: \"\"\n    }\n  },\n  data(): { selected: string; inputs: Input[] } {\n    return {\n      selected: WebMidi.getInputById(this.preferred) ? this.preferred : \"\",\n      inputs: []\n    };\n  },\n  watch: {\n    selected(current, previous) {\n      this.$emit(\n        \"deviceChanged\",\n        WebMidi.getInputById(current) || null,\n        WebMidi.getInputById(previous) || null\n      );\n    }\n  },\n  created() {\n    if (!WebMidi.enabled) {\n      throw new Error(\"WebMidi must be enabled for this component to work!\");\n    }\n\n    this.inputs = WebMidi.inputs;\n  },\n  emits: [\"deviceChanged\"]\n});\n","import { render } from \"./MidiDeviceSelector.vue?vue&type=template&id=771169cc\"\nimport script from \"./MidiDeviceSelector.vue?vue&type=script&lang=ts\"\nexport * from \"./MidiDeviceSelector.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport MidiDeviceSelector from \"./MidiDeviceSelector.vue\";\nimport { Input } from \"webmidi\";\n\nexport default defineComponent({\n  name: \"SubscriptionHandlingDeviceSelector\",\n  components: {\n    MidiDeviceSelector\n  },\n  props: {\n    deviceId: {\n      required: false,\n      type: String\n    }\n  },\n  data: () => ({\n    preferred: \"\"\n  }),\n  created() {\n    if (this.deviceId) {\n      this.preferred = this.deviceId;\n    }\n  },\n  methods: {\n    deviceChanged(current: Input, previous: Input | null) {\n      // remove subscriptions from previous device\n      if (previous && typeof previous.removeListener === \"function\") {\n        previous.removeListener();\n      }\n\n      this.$emit(\"deviceChanged\", current, previous);\n    }\n  },\n  emits: [\"deviceChanged\"]\n});\n","import { render } from \"./SubscriptionHandlingDeviceSelector.vue?vue&type=template&id=53b35b38\"\nimport script from \"./SubscriptionHandlingDeviceSelector.vue?vue&type=script&lang=ts\"\nexport * from \"./SubscriptionHandlingDeviceSelector.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <h2>{{ $i18n.t(\"preferences.title\") }}</h2>\n    <Fieldset :legend=\"$i18n.t('preferences.keyboardSettings.title')\">\n      <SchemaBasedForm\n        :schema=\"schema.keyboardSettings\"\n        :form-data=\"preferences.keyboardSettings\"\n        i18n-prefix=\"preferences.keyboardSettings\"\n        @updated=\"preferencesUpdated('keyboardSettings', $event)\"\n      />\n    </Fieldset>\n    <Fieldset :legend=\"$i18n.t('preferences.noteReading.title')\">\n      <SchemaBasedForm\n        :schema=\"schema.noteReading\"\n        :form-data=\"preferences.noteReading\"\n        i18n-prefix=\"preferences.noteReading\"\n        @updated=\"preferencesUpdated('noteReading', $event)\"\n      />\n    </Fieldset>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Fieldset from \"primevue/fieldset\";\nimport SchemaBasedForm from \"@/components/SchemaBasedForm.vue\";\nimport preferencesSchema from \"@/preferences.schema.json\";\n\nexport default defineComponent({\n  components: {\n    SchemaBasedForm,\n    Fieldset\n  },\n  props: {\n    preferences: Object\n  },\n  data() {\n    return {\n      schema: preferencesSchema\n    };\n  },\n  emits: [\"updated\"],\n  methods: {\n    preferencesUpdated(key: string, preferences: Record<string, any>): void {\n      this.$emit(\"updated\", {\n        ...this.preferences,\n        [key]: preferences\n      });\n    }\n  }\n});\n</script>\n","<template>\n  <SchemaForm\n    :schema=\"augmentedSchema\"\n    :modelValue=\"formData\"\n    @update:modelValue=\"$emit('updated', $event)\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, markRaw } from \"vue\";\nimport { SchemaFormFactory } from \"formvuelate\";\nimport { VueI18n } from \"vue-i18n\";\nimport FormDropdown from \"@/components/form/FormDropdown.vue\";\n\nmarkRaw(FormDropdown);\n\ninterface OurSchema extends Record<string, OurSchemaProp> {}\n\ninterface OurSchemaProp {\n  component: string;\n  options?: OurSchemaOption[];\n}\n\ninterface OurSchemaOption {\n  id: string;\n  value: string;\n  label?: string;\n}\n\ninterface FormvuelateSchema extends Record<string, FormvuelateSchemaProp> {}\n\ninterface FormvuelateSchemaOption {\n  label: string;\n  value: string;\n}\n\ninterface FormvuelateSchemaProp {\n  component: string;\n  label: string;\n  placeholder: string;\n  options?: FormvuelateSchemaOption[];\n}\n\nexport default defineComponent({\n  props: {\n    schema: {\n      required: true,\n      type: Object as PropType<OurSchema>\n    },\n    formData: {\n      required: true,\n      type: Object\n    },\n    i18nPrefix: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    augmentedSchema(): FormvuelateSchema {\n      return this.augmentSchema(\n        this.schema,\n        this.$i18n as VueI18n,\n        this.i18nPrefix\n      );\n    }\n  },\n  components: {\n    SchemaForm: SchemaFormFactory([], { FormDropdown })\n  },\n  emits: [\"updated\"],\n  methods: {\n    augmentSchema(\n      schema: OurSchema,\n      $i18n: VueI18n,\n      i18nPrefix: string\n    ): FormvuelateSchema {\n      const fields: FormvuelateSchema = {};\n\n      Object.keys(schema).forEach(prop => {\n        const settings = schema[prop];\n\n        const options: FormvuelateSchemaOption[] = [];\n        if (settings.options) {\n          settings.options.forEach(option => {\n            let label;\n            if (option.label) {\n              label = option.label;\n            } else {\n              label = $i18n.t(`${i18nPrefix}.${prop}.options.${option.id}`);\n            }\n            options.push({\n              label,\n              value: option.value\n            });\n          });\n        }\n\n        const placeholderMessage = `${i18nPrefix}.${prop}.placeholder`;\n\n        fields[prop] = {\n          component: settings.component,\n          label: $i18n.t(`${i18nPrefix}.${prop}.label`),\n          placeholder: $i18n.te(placeholderMessage)\n            ? $i18n.t(placeholderMessage)\n            : \"\",\n          options: options.length ? options : undefined\n        };\n      });\n\n      return fields;\n    }\n  }\n});\n</script>\n","<template>\n  <span class=\"p-float-label\">\n    <label :for=\"uuid\">{{ label }}</label>\n    <Dropdown\n      :modelValue=\"modelValue\"\n      :options=\"options\"\n      optionLabel=\"label\"\n      optionValue=\"value\"\n      :placeholder=\"placeholder\"\n      :id=\"uuid\"\n      @change=\"$emit('update:modelValue', $event.value)\"\n    />\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Dropdown from \"primevue/dropdown\";\n\nexport default defineComponent({\n  components: {\n    Dropdown\n  },\n  props: {\n    modelValue: { required: true },\n    label: {\n      type: String,\n      required: true\n    },\n    options: {\n      type: Array,\n      required: true\n    },\n    uuid: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"update:modelValue\"]\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\nimport Dropdown from \"primevue/dropdown\";\n\nexport default defineComponent({\n  components: {\n    Dropdown\n  },\n  props: {\n    modelValue: { required: true },\n    label: {\n      type: String,\n      required: true\n    },\n    options: {\n      type: Array,\n      required: true\n    },\n    uuid: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"update:modelValue\"]\n});\n","import { render } from \"./FormDropdown.vue?vue&type=template&id=13640a67\"\nimport script from \"./FormDropdown.vue?vue&type=script&lang=ts\"\nexport * from \"./FormDropdown.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, PropType, markRaw } from \"vue\";\nimport { SchemaFormFactory } from \"formvuelate\";\nimport { VueI18n } from \"vue-i18n\";\nimport FormDropdown from \"@/components/form/FormDropdown.vue\";\n\nmarkRaw(FormDropdown);\n\ninterface OurSchema extends Record<string, OurSchemaProp> {}\n\ninterface OurSchemaProp {\n  component: string;\n  options?: OurSchemaOption[];\n}\n\ninterface OurSchemaOption {\n  id: string;\n  value: string;\n  label?: string;\n}\n\ninterface FormvuelateSchema extends Record<string, FormvuelateSchemaProp> {}\n\ninterface FormvuelateSchemaOption {\n  label: string;\n  value: string;\n}\n\ninterface FormvuelateSchemaProp {\n  component: string;\n  label: string;\n  placeholder: string;\n  options?: FormvuelateSchemaOption[];\n}\n\nexport default defineComponent({\n  props: {\n    schema: {\n      required: true,\n      type: Object as PropType<OurSchema>\n    },\n    formData: {\n      required: true,\n      type: Object\n    },\n    i18nPrefix: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    augmentedSchema(): FormvuelateSchema {\n      return this.augmentSchema(\n        this.schema,\n        this.$i18n as VueI18n,\n        this.i18nPrefix\n      );\n    }\n  },\n  components: {\n    SchemaForm: SchemaFormFactory([], { FormDropdown })\n  },\n  emits: [\"updated\"],\n  methods: {\n    augmentSchema(\n      schema: OurSchema,\n      $i18n: VueI18n,\n      i18nPrefix: string\n    ): FormvuelateSchema {\n      const fields: FormvuelateSchema = {};\n\n      Object.keys(schema).forEach(prop => {\n        const settings = schema[prop];\n\n        const options: FormvuelateSchemaOption[] = [];\n        if (settings.options) {\n          settings.options.forEach(option => {\n            let label;\n            if (option.label) {\n              label = option.label;\n            } else {\n              label = $i18n.t(`${i18nPrefix}.${prop}.options.${option.id}`);\n            }\n            options.push({\n              label,\n              value: option.value\n            });\n          });\n        }\n\n        const placeholderMessage = `${i18nPrefix}.${prop}.placeholder`;\n\n        fields[prop] = {\n          component: settings.component,\n          label: $i18n.t(`${i18nPrefix}.${prop}.label`),\n          placeholder: $i18n.te(placeholderMessage)\n            ? $i18n.t(placeholderMessage)\n            : \"\",\n          options: options.length ? options : undefined\n        };\n      });\n\n      return fields;\n    }\n  }\n});\n","import { render } from \"./SchemaBasedForm.vue?vue&type=template&id=63d08c57\"\nimport script from \"./SchemaBasedForm.vue?vue&type=script&lang=ts\"\nexport * from \"./SchemaBasedForm.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport Fieldset from \"primevue/fieldset\";\nimport SchemaBasedForm from \"@/components/SchemaBasedForm.vue\";\nimport preferencesSchema from \"@/preferences.schema.json\";\n\nexport default defineComponent({\n  components: {\n    SchemaBasedForm,\n    Fieldset\n  },\n  props: {\n    preferences: Object\n  },\n  data() {\n    return {\n      schema: preferencesSchema\n    };\n  },\n  emits: [\"updated\"],\n  methods: {\n    preferencesUpdated(key: string, preferences: Record<string, any>): void {\n      this.$emit(\"updated\", {\n        ...this.preferences,\n        [key]: preferences\n      });\n    }\n  }\n});\n","import { render } from \"./Preferences.vue?vue&type=template&id=3ceac286\"\nimport script from \"./Preferences.vue?vue&type=script&lang=ts\"\nexport * from \"./Preferences.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { ref, watch, Ref } from \"vue\";\n\nexport default function storedData<T extends any>(\n  name: string,\n  version: string,\n  defaultValue: T\n): Ref<T> {\n  function buildKey() {\n    return `storedData_${name}_${version}`;\n  }\n\n  const storeValueJSON = window.localStorage.getItem(buildKey());\n  const watchedValue = ref(\n    storeValueJSON ? JSON.parse(storeValueJSON) : defaultValue\n  );\n\n  watch(\n    watchedValue,\n    (newValue: any) => {\n      window.localStorage.setItem(buildKey(), JSON.stringify(newValue));\n    },\n    { deep: true }\n  );\n\n  return watchedValue;\n}\n","<template>\n  <div>\n    <span>{{ $i18n.t(\"scoreBoard.games\") }} {{ games.length }}</span>\n    &mdash;\n    <span>\n      {{ $i18n.t(\"scoreBoard.virtuosicScore\") }}\n      <span v-if=\"games.length\"> {{ Math.round(virtuosicScore * 100) }}% </span>\n      <span v-else>\n        {{ $i18n.t(\"scoreBoard.noVirtuosicScore\") }}\n      </span>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport GameResult from \"@/types/GameResult\";\n\nexport default defineComponent({\n  props: {\n    games: {\n      required: true,\n      type: Array as PropType<GameResult[]>\n    }\n  },\n  computed: {\n    virtuosicScore(): number {\n      let successes = 0,\n        heats = 0;\n      this.games.forEach(game => {\n        successes += Math.max(\n          game.gameInfo.successes - game.gameInfo.mistakes,\n          1\n        );\n        heats += game.gameInfo.heats;\n      });\n      if (heats === 0) {\n        return 0;\n      }\n      return successes / heats;\n    }\n  }\n});\n</script>\n","\nimport { defineComponent, PropType } from \"vue\";\nimport GameResult from \"@/types/GameResult\";\n\nexport default defineComponent({\n  props: {\n    games: {\n      required: true,\n      type: Array as PropType<GameResult[]>\n    }\n  },\n  computed: {\n    virtuosicScore(): number {\n      let successes = 0,\n        heats = 0;\n      this.games.forEach(game => {\n        successes += Math.max(\n          game.gameInfo.successes - game.gameInfo.mistakes,\n          1\n        );\n        heats += game.gameInfo.heats;\n      });\n      if (heats === 0) {\n        return 0;\n      }\n      return successes / heats;\n    }\n  }\n});\n","import { render } from \"./ScoreBoard.vue?vue&type=template&id=cacc84fc\"\nimport script from \"./ScoreBoard.vue?vue&type=script&lang=ts\"\nexport * from \"./ScoreBoard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { Input, InputEventNoteon } from \"webmidi\";\nimport Keyboard, { KeyboardListener } from \"@/types/Keyboard\";\n\nexport default class WebmidiInputKeyboardAdapter implements Keyboard {\n  private listeners: KeyboardListener[] = [];\n  private readonly dispatcher: (midiEvent: InputEventNoteon) => void;\n\n  constructor(readonly input: Input) {\n    this.dispatcher = (midiEvent: InputEventNoteon) => {\n      this.listeners.forEach(listener => listener(midiEvent.data[1]));\n    };\n  }\n\n  addListener(listener: KeyboardListener): this {\n    this.listeners.push(listener);\n    if (this.listeners.length === 1) {\n      this.input.addListener(\"noteon\", \"all\", this.dispatcher);\n    }\n    return this;\n  }\n\n  removeListener(listener?: KeyboardListener): this {\n    if (listener) {\n      const index = this.listeners.indexOf(listener);\n      if (index !== -1) {\n        this.listeners.splice(index, 1);\n      }\n    } else {\n      this.listeners = [];\n    }\n    if (this.listeners.length === 0) {\n      this.input.removeListener(\"noteon\", \"all\", this.dispatcher);\n    }\n    return this;\n  }\n}\n","<template>\n  <div ref=\"keyboard\"></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport { Instrument, INoteValue as PianoChartNote, Note } from \"piano-chart\";\nimport { note } from \"@tonaljs/core\";\nimport { KEYS_IN_OCTAVE } from \"@/Foundations\";\n\ninterface Settings {\n  keys: number;\n}\n\nexport default defineComponent({\n  props: {\n    settings: {\n      required: true,\n      type: Object as PropType<Settings>\n    },\n    highlightedNotes: {\n      required: false,\n      default: []\n    }\n  },\n  computed: {\n    octaves(): number {\n      return Math.ceil(this.settings.keys / KEYS_IN_OCTAVE);\n    },\n    startNote(): string {\n      const rest = this.settings.keys % KEYS_IN_OCTAVE;\n      if (this.octaves > 7 && rest > 0) {\n        return \"A\";\n      }\n      return \"C\";\n    },\n    startOctave(): number {\n      return 4 - Math.floor(this.octaves / 2);\n    },\n    endOctave(): number {\n      return 4 + Math.floor(this.octaves / 2);\n    }\n  },\n  watch: {\n    settings() {\n      this.render();\n    }\n  },\n  data: () => ({\n    piano: (null as unknown) as Instrument\n  }),\n  unmounted() {\n    this.piano.destroy();\n  },\n  mounted() {\n    this.render();\n  },\n  methods: {\n    keyPlay(pianoChartNote: PianoChartNote) {\n      const midiPitch = note(pianoChartNote.toString()).midi;\n      // we just swallow keys outside of midi range here - hmm…\n      if (midiPitch) {\n        this.$emit(\"noteon\", midiPitch);\n      }\n    },\n    render() {\n      this.piano = new Instrument(this.$refs.keyboard as HTMLElement, {\n        startOctave: this.startOctave,\n        startNote: this.startNote as Note,\n        endOctave: this.endOctave,\n        highlightedNotes: this.highlightedNotes\n      });\n      this.piano.create();\n      this.piano.addKeyMouseUpListener(this.piano.keyUp);\n      this.piano.addKeyMouseDownListener(note => {\n        this.piano.keyDown(note);\n        this.keyPlay(note);\n      });\n    }\n  },\n  emits: [\"noteon\"]\n});\n</script>\n","\nimport { defineComponent, PropType } from \"vue\";\nimport { Instrument, INoteValue as PianoChartNote, Note } from \"piano-chart\";\nimport { note } from \"@tonaljs/core\";\nimport { KEYS_IN_OCTAVE } from \"@/Foundations\";\n\ninterface Settings {\n  keys: number;\n}\n\nexport default defineComponent({\n  props: {\n    settings: {\n      required: true,\n      type: Object as PropType<Settings>\n    },\n    highlightedNotes: {\n      required: false,\n      default: []\n    }\n  },\n  computed: {\n    octaves(): number {\n      return Math.ceil(this.settings.keys / KEYS_IN_OCTAVE);\n    },\n    startNote(): string {\n      const rest = this.settings.keys % KEYS_IN_OCTAVE;\n      if (this.octaves > 7 && rest > 0) {\n        return \"A\";\n      }\n      return \"C\";\n    },\n    startOctave(): number {\n      return 4 - Math.floor(this.octaves / 2);\n    },\n    endOctave(): number {\n      return 4 + Math.floor(this.octaves / 2);\n    }\n  },\n  watch: {\n    settings() {\n      this.render();\n    }\n  },\n  data: () => ({\n    piano: (null as unknown) as Instrument\n  }),\n  unmounted() {\n    this.piano.destroy();\n  },\n  mounted() {\n    this.render();\n  },\n  methods: {\n    keyPlay(pianoChartNote: PianoChartNote) {\n      const midiPitch = note(pianoChartNote.toString()).midi;\n      // we just swallow keys outside of midi range here - hmm…\n      if (midiPitch) {\n        this.$emit(\"noteon\", midiPitch);\n      }\n    },\n    render() {\n      this.piano = new Instrument(this.$refs.keyboard as HTMLElement, {\n        startOctave: this.startOctave,\n        startNote: this.startNote as Note,\n        endOctave: this.endOctave,\n        highlightedNotes: this.highlightedNotes\n      });\n      this.piano.create();\n      this.piano.addKeyMouseUpListener(this.piano.keyUp);\n      this.piano.addKeyMouseDownListener(note => {\n        this.piano.keyDown(note);\n        this.keyPlay(note);\n      });\n    }\n  },\n  emits: [\"noteon\"]\n});\n","import { render } from \"./VirtualKeyboard.vue?vue&type=template&id=a968ca7c\"\nimport script from \"./VirtualKeyboard.vue?vue&type=script&lang=ts\"\nexport * from \"./VirtualKeyboard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import Keyboard, { KeyboardListener } from \"@/types/Keyboard\";\n\nexport default class VirtualKeyboardEventObserver implements Keyboard {\n  private listeners: KeyboardListener[] = [];\n\n  addListener(listener: KeyboardListener): this {\n    this.listeners.push(listener);\n    return this;\n  }\n\n  removeListener(specificListener?: KeyboardListener): this {\n    if (specificListener) {\n      const index = this.listeners.indexOf(specificListener);\n      if (index !== -1) {\n        this.listeners.splice(index, 1);\n      }\n    } else {\n      this.listeners = [];\n    }\n    return this;\n  }\n\n  broadcast(midiPitch: number): void {\n    this.listeners.forEach(listener => listener(midiPitch));\n  }\n}\n","\nimport { defineComponent } from \"vue\";\nimport ShowPlay from \"./components/ShowPlay.vue\";\nimport Challenge from \"./components/Challenge.vue\";\nimport MidiCapability from \"./components/MidiCapability.vue\";\nimport SubscriptionHandlingDeviceSelector from \"./components/SubscriptionHandlingDeviceSelector.vue\";\nimport Preferences from \"@/components/Preferences.vue\";\nimport WebMidi, { Input } from \"webmidi\";\nimport storedData from \"@/storedData\";\nimport midiOptionsDefaults from \"./midiOptions.defaults.json\";\nimport preferencesDefaults from \"./preferences.defaults.json\";\nimport ScoreBoard from \"@/components/ScoreBoard.vue\";\nimport GameInfo from \"@/types/GameInfo\";\nimport GameResult from \"@/types/GameResult\";\nimport WebmidiInputKeyboardAdapter from \"@/WebmidiInputKeyboardAdapter\";\nimport Keyboard from \"@/types/Keyboard\";\nimport VirtualKeyboard from \"@/components/VirtualKeyboard.vue\";\nimport VirtualKeyboardEventObserver from \"@/VirtualKeyboardEventObserver\";\n\nexport default defineComponent({\n  name: \"App\",\n  data: () => ({\n    showMidiOptions: false,\n    showPreferences: false,\n    midiInput: null as Keyboard | null,\n    virtualKeyboard: new VirtualKeyboardEventObserver()\n  }),\n  components: {\n    SubscriptionHandlingDeviceSelector,\n    MidiCapability,\n    Challenge,\n    ShowPlay,\n    Preferences,\n    ScoreBoard,\n    VirtualKeyboard\n  },\n  computed: {\n    keyboards(): Keyboard[] {\n      const keyboards: Keyboard[] = [this.virtualKeyboard];\n      if (this.midiInput) {\n        keyboards.push(this.midiInput);\n      }\n      return keyboards;\n    }\n  },\n  setup() {\n    return {\n      midiOptions: storedData(\n        \"midiOptions\",\n        midiOptionsDefaults.version.toString(),\n        midiOptionsDefaults.defaults\n      ),\n      preferences: storedData(\n        \"preferences\",\n        preferencesDefaults.version.toString(),\n        preferencesDefaults.defaults\n      ),\n      games: storedData(\"games\", \"1\", [] as GameResult[])\n    };\n  },\n  methods: {\n    deviceChanged(current: Input) {\n      this.midiOptions.input = current.id;\n      this.midiInput = this.wrapMidiInput(current);\n    },\n    midiReady() {\n      if (this.midiOptions.input) {\n        const webmidiInput = WebMidi.getInputById(this.midiOptions.input);\n        this.midiInput = webmidiInput ? this.wrapMidiInput(webmidiInput) : null;\n      }\n      this.showMidiOptions = !this.midiInput;\n    },\n    gameFinished(gameInfo: GameInfo) {\n      this.games.push({\n        name: \"noteReading\",\n        time: new Date().toISOString(),\n        preferences: this.preferences.noteReading,\n        gameInfo\n      } as GameResult);\n    },\n    wrapMidiInput(input: Input) {\n      return new WebmidiInputKeyboardAdapter(input);\n    }\n  }\n});\n","import { render } from \"./App.vue?vue&type=template&id=54a25060\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=54a25060&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport { createI18n } from \"vue-i18n\";\nimport englishI18n from \"../i18n/en.json\";\n\nimport PrimeVue from \"primevue/config\";\nimport \"primevue/resources/themes/saga-blue/theme.css\";\nimport \"primevue/resources/primevue.min.css\";\nimport \"primeicons/primeicons.css\";\n\nconst i18n = createI18n({\n  locale: \"en\",\n  messages: {\n    en: englishI18n\n  }\n});\n\ncreateApp(App)\n  .use(i18n)\n  .use(PrimeVue)\n  .mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Challenge.vue?vue&type=style&index=0&id=cd9352c0&lang=css\""],"sourceRoot":""}