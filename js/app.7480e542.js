(function(e){function t(t){for(var i,r,c=t[0],s=t[1],l=t[2],u=0,p=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"029e":function(e,t,n){},"68ac":function(e){e.exports=JSON.parse('{"noteReading":{"speed":{"component":"jaslmus-form-dropdown","options":[{"id":"largo","value":7000},{"id":"adagio","value":5000},{"id":"moderato","value":4000},{"id":"allegro","value":3000},{"id":"presto","value":2000}]},"noteLimit":{"component":"jaslmus-form-dropdown","options":[{"id":"3","value":3},{"id":"5","value":5},{"id":"9","value":9},{"id":"15","value":15},{"id":"0","value":0}]},"accidentals":{"component":"jaslmus-form-dropdown","options":[{"id":"no","value":"no"},{"id":"sharps","value":"sharps"},{"id":"flats","value":"flats"},{"id":"random","value":"random"}]}}}')},"75d1":function(e){e.exports=JSON.parse('{"header":{"title":"Jaslmus","punchline":"Learn to play the piano, all right."},"midi":{"loading":"Loading MIDI capability…","error":"Problem loading MIDI capability. Please check browser {0} and permissions.","compatibilityAnchor":"compatibility"},"midiOptions":{"title":"MIDI options","close":"Close","input":{"title":"MIDI In","device":{"title":"Select Device:","placeholder":"Please select one"},"preview":{"title":"Preview","description":"Strike a key to try the device! Notes will be shown here.","placeholder":"Please select one"}}},"preferences":{"title":"Preferences","close":"Close","noteReading":{"title":"Note reading","noteLimit":{"label":"Notes","placeholder":"Please select one","options":{"0":"all notes","3":"3","5":"5","9":"9","15":"15"}},"speed":{"label":"Speed","options":{"largo":"Largo","adagio":"Adagio","moderato":"Moderato","allegro":"Allegro","presto":"Presto"}},"accidentals":{"label":"Accidentals","options":{"no":"no sharps/no flats","sharps":"sharps","flats":"flats","random":"random"}}}},"error":{"noMidiDevice":"Jaslmus needs at least one input device to work. Please configure one."},"game":{"noteReading":{"title":"Note reading","description":"Play the respective key!","analysis":{"successes":"Successes:","mistakes":"Mistakes:"},"start":"Start","stop":"Stop","reset":"Reset","startViaKeyHint":"You can also start the game via key {key} on your MIDI device.","finished":"Finished!"}},"scoreBoard":{"games":"Games: ","virtuosicScore":"Virtuosic score: ","noVirtuosicScore":"We shall see…"}}')},a856:function(e,t,n){"use strict";n("029e")},b236:function(e,t,n){"use strict";n("c6ae")},c6ae:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),o=Object(i["createVNode"])("hr",null,null,-1),a={key:0},r={key:0},c={key:1},s={key:2},l=Object(i["createVNode"])("hr",null,null,-1),d=Object(i["createVNode"])("hr",null,null,-1),u={key:0},p={key:1};function b(e,t,n,b,m,h){var f=Object(i["resolveComponent"])("SubscriptionHandlingDeviceSelector"),O=Object(i["resolveComponent"])("ShowPlay"),g=Object(i["resolveComponent"])("Preferences"),j=Object(i["resolveComponent"])("ScoreBoard"),v=Object(i["resolveComponent"])("Challenge"),y=Object(i["resolveComponent"])("MidiCapability");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])("h1",null,Object(i["toDisplayString"])(e.$i18n.t("header.title")),1),Object(i["createVNode"])("p",null,Object(i["toDisplayString"])(e.$i18n.t("header.punchline")),1),o,Object(i["createVNode"])(y,{onMidiReady:e.midiReady},{default:Object(i["withCtx"])((function(){return[e.showMidiOptions?(Object(i["openBlock"])(),Object(i["createBlock"])("div",a,[Object(i["createVNode"])("button",{onClick:t[1]||(t[1]=function(t){return e.showMidiOptions=!1})},Object(i["toDisplayString"])(e.$i18n.t("midiOptions.close")),1),Object(i["createVNode"])("h2",null,Object(i["toDisplayString"])(e.$i18n.t("midiOptions.title")),1),Object(i["createVNode"])("fieldset",null,[Object(i["createVNode"])("legend",null,Object(i["toDisplayString"])(e.$i18n.t("midiOptions.input.title")),1),Object(i["createVNode"])(f,{deviceId:e.midiOptions.input,onDeviceChanged:e.deviceChanged},null,8,["deviceId","onDeviceChanged"]),e.hasKeyboard?(Object(i["openBlock"])(),Object(i["createBlock"])("div",r,[Object(i["createVNode"])("h3",null,Object(i["toDisplayString"])(e.$i18n.t("midiOptions.input.preview.title")),1),Object(i["createVNode"])("p",null,Object(i["toDisplayString"])(e.$i18n.t("midiOptions.input.preview.description")),1),Object(i["createVNode"])(O,{keyboard:e.midiInput},null,8,["keyboard"])])):Object(i["createCommentVNode"])("",!0)])])):e.showPreferences?(Object(i["openBlock"])(),Object(i["createBlock"])("div",c,[Object(i["createVNode"])("button",{onClick:t[2]||(t[2]=function(t){return e.showPreferences=!1})},Object(i["toDisplayString"])(e.$i18n.t("preferences.close")),1),Object(i["createVNode"])(g,{preferences:e.preferences,onUpdated:t[3]||(t[3]=function(t){return e.preferences=t})},null,8,["preferences"])])):(Object(i["openBlock"])(),Object(i["createBlock"])("div",s,[Object(i["createVNode"])("button",{onClick:t[4]||(t[4]=function(t){return e.showMidiOptions=!0})},Object(i["toDisplayString"])(e.$i18n.t("midiOptions.title")),1),Object(i["createVNode"])("button",{onClick:t[5]||(t[5]=function(t){return e.showPreferences=!0})},Object(i["toDisplayString"])(e.$i18n.t("preferences.title")),1),l,Object(i["createVNode"])(j,{games:e.games},null,8,["games"]),d,e.hasKeyboard?(Object(i["openBlock"])(),Object(i["createBlock"])("div",u,[e.hasKeyboard?(Object(i["openBlock"])(),Object(i["createBlock"])(v,{key:0,keyboard:e.midiInput,"base-note":e.preferences.noteReading.baseNote,"note-limit":e.preferences.noteReading.noteLimit,speed:e.preferences.noteReading.speed,accidentals:e.preferences.noteReading.accidentals,onFinished:e.gameFinished},null,8,["keyboard","base-note","note-limit","speed","accidentals","onFinished"])):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createBlock"])("div",p,Object(i["toDisplayString"])(e.$i18n.t("error.noMidiDevice")),1))]))]})),_:1},8,["onMidiReady"])],64)}n("d3b7"),n("25f0");var m={ref:"notes"};function h(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("AbcNotation");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(c,{abc:e.abc},null,8,["abc"]),Object(i["createVNode"])("p",m,null,512)],64)}n("99af");var f={ref:"notation"};function O(e,t,n,o,a,r){return Object(i["openBlock"])(),Object(i["createBlock"])("div",f,null,512)}var g=n("ee1c"),j=n.n(g),v=(n("adab"),Object(i["defineComponent"])({props:{abc:{required:!0,type:String}},watch:{abc:function(){this.render()}},mounted:function(){this.render()},methods:{render:function(){""!==this.abc&&(j.a.renderAbc(this.$refs.notation,this.abc,{add_classes:!0}),this.$emit("rendered"))}},emits:["rendered"]}));v.render=O;var y=v,k=n("208b"),S=n("49cb"),N=Object(i["defineComponent"])({name:"ShowPlay",props:{keyboard:{required:!0,type:Object}},data:function(){return{abc:""}},components:{AbcNotation:y},unmounted:function(){this.keyboard.removeListener("noteon","all",this.midiSubscription)},mounted:function(){this.keyboard.addListener("noteon","all",this.midiSubscription)},methods:{midiSubscription:function(e){var t=e.data[1],n=S["a"].scientificToAbcNotation(k["a"].midiToNoteName(t));this.abc="X:1\nK:C\n".concat(n),this.$refs.notes.innerHTML+="".concat(t," (").concat(n,")<br />")}}});N.render=h;var V=N,D={key:0},B=Object(i["createVNode"])("br",null,null,-1),w=Object(i["createVNode"])("br",null,null,-1),C=Object(i["createVNode"])("br",null,null,-1),$={key:1},I=Object(i["createVNode"])("br",null,null,-1),R=Object(i["createVNode"])("br",null,null,-1),M={key:2};function x(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("AnimatedAbcNotation");return Object(i["openBlock"])(),Object(i["createBlock"])("div",null,[Object(i["createVNode"])("h1",null,Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.title")),1),e.gaming?(Object(i["openBlock"])(),Object(i["createBlock"])("div",D,[Object(i["createVNode"])("p",null,Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.description")),1),Object(i["createVNode"])(c,{abc:e.abc,animationDuration:e.speed,key:"heat_no_".concat(e.heat)},null,8,["abc","animationDuration"]),Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.challenge.pitch)+" ("+Object(i["toDisplayString"])(e.challenge.note)+")",1),B,Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.heat)+"/"+Object(i["toDisplayString"])(e.heats),1),w,Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.analysis.successes"))+" "+Object(i["toDisplayString"])(e.successes)+", "+Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.analysis.mistakes"))+" "+Object(i["toDisplayString"])(e.mistakes),1),C,Object(i["createVNode"])("button",{onClick:t[1]||(t[1]=function(t){return e.finish()})},Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.stop")),1)])):e.finished?(Object(i["openBlock"])(),Object(i["createBlock"])("div",$,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.finished")),1),I,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.analysis.successes"))+" "+Object(i["toDisplayString"])(e.successes)+", "+Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.analysis.mistakes"))+" "+Object(i["toDisplayString"])(e.mistakes)+" ",1),R,Object(i["createVNode"])("button",{onClick:t[2]||(t[2]=function(t){return e.reset()})},Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.reset")),1)])):(Object(i["openBlock"])(),Object(i["createBlock"])("div",M,[Object(i["createVNode"])("button",{onClick:t[3]||(t[3]=function(t){return e.start()})},Object(i["toDisplayString"])(e.$i18n.t("game.noteReading.start")),1),Object(i["createVNode"])("p",null,[Object(i["createVNode"])("sub",null,Object(i["toDisplayString"])(e.startViaKeyHint),1)])]))])}n("a9e3"),n("8ba4");function P(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("AbcNotation");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{class:"animated-abc-notation",abc:e.abc,ref:"abc",onRendered:e.postProcessAbc,style:e.styleVariables},null,8,["abc","onRendered","style"])}n("4160"),n("ac1f"),n("5319"),n("159b");var A=Object(i["defineComponent"])({components:{AbcNotation:y},props:{abc:{required:!0,type:String},animationDuration:{required:!0,type:Number}},data:function(){return{abcWidth:0}},computed:{styleVariables:function(){return{"--staff-width":this.abcWidth-100+"px","--animation-duration":this.animationDuration+"ms"}}},methods:{postProcessAbc:function(){this.abcWidth=this.$refs.abc.$el.children[0].clientWidth,this.$refs.abc.$el.querySelectorAll(".abcjs-staff").forEach((function(e){var t=e.getAttribute("d").replace("M 15 ","M 0 ").replace("L 15 ","L 0 ");e.setAttribute("d",t)}))}}});n("b236");A.render=P;var L,q=A,T=(n("caad"),n("96cf"),n("d4ec")),F=regeneratorRuntime.mark(G),_=127,K=12,J=[1,3,6,8,10];function H(e,t,n){for(var i=[],o=-1,a=-1;a<=9;a++)for(var r=0;r<K;r++){if(o++,o>_||i.length>=t)return i;o<e||(n&&J.includes(r)||i.push(o))}return i}function E(e){return e[Math.floor(Math.random()*e.length)]}function W(e){return 1!==e}function U(e,t){return S["a"].scientificToAbcNotation(k["a"].midiToNoteName(e,{sharps:t}))}(function(e){e["no"]="no",e["sharps"]="sharps",e["flats"]="flats",e["random"]="random"})(L||(L={}));var X=function e(t,n){Object(T["a"])(this,e),this.note=t,this.pitch=n};function G(e,t,n){var i,o,a,r,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:i=H(e,t,"no"===n),o=null;case 2:0,a=void 0;do{a=E(i)}while(o&&a===o.pitch&&W(t));return r=U(a,"sharps"===n||"random"===n&&Math.random()<.5),c=new X(r,a),o=c,s.next=10,c;case 10:s.next=2;break;case 12:case"end":return s.stop()}}),F)}var Y=60,z=Object(i["defineComponent"])({props:{keyboard:{required:!0,type:Object},baseNote:{required:!0,type:Number,validator:Number.isInteger},noteLimit:{required:!0,type:Number,validator:Number.isInteger},speed:{required:!0,type:Number,validator:Number.isInteger},accidentals:{required:!0,type:String},heats:{default:10,type:Number}},data:function(){return{gaming:!1,finished:!1,challenge:{},mistakes:0,successes:0,timeout:void 0,generator:void 0,heat:0}},components:{AnimatedAbcNotation:q},unmounted:function(){this.keyboard.removeListener("noteon","all",this.evaluateInput)},mounted:function(){this.keyboard.addListener("noteon","all",this.evaluateInput)},computed:{startViaKeyHint:function(){return this.$i18n.t("game.noteReading.startViaKeyHint",{key:"".concat(Y," (").concat(this.midiToAbc(Y),")")})},abc:function(){return"X:1\nK:C\n".concat(this.challenge.note)}},methods:{reset:function(){Object.assign(this.$data,this.$options.data.apply(this))},start:function(){this.reset(),this.gaming=!0,this.generator=G(this.baseNote,this.noteLimit,L[this.accidentals]),this.next()},finish:function(){window.clearTimeout(this.timeout),this.gaming=!1,this.finished=!0,this.$emit("finished",{heats:this.heats,heat:this.heat,successes:this.successes,mistakes:this.mistakes})},next:function(){if(!this.generator)throw new Error("Can only run after generator was set up");var e=this.generator.next();e.done||this.heat>=this.heats?this.finish():(this.challenge=e.value,this.timeout=window.setTimeout(this.noResponse,this.speed),this.heat++)},evaluateInput:function(e){this.gaming?this.evaluateResponse(e):e.data[1]===Y&&(this.finished?this.reset():this.start())},noResponse:function(){this.mistakes++,this.next()},evaluateResponse:function(e){var t=e.data[1];t===this.challenge.pitch?(window.clearTimeout(this.timeout),this.successes++,this.next()):this.mistakes++},midiToAbc:function(e){return S["a"].scientificToAbcNotation(k["a"].midiToNoteName(e))}},emits:["finished"]});z.render=x;var Q=z,Z={key:0},ee={key:0},te={href:"https://caniuse.com/midi",target:"_blank"};function ne(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("i18n-t");return e.loading?(Object(i["openBlock"])(),Object(i["createBlock"])("div",Z,Object(i["toDisplayString"])(e.$i18n.t("midi.loading")),1)):(Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],{key:1},[e.error?(Object(i["openBlock"])(),Object(i["createBlock"])("div",ee,[Object(i["createVNode"])(c,{keypath:"midi.error",tag:!1,for:"midi.compatibilityAnchor"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])("a",te,Object(i["toDisplayString"])(e.$t("midi.compatibilityAnchor")),1)]})),_:1})])):Object(i["renderSlot"])(e.$slots,"default",{key:1})],64))}var ie=n("c62b"),oe=n.n(ie),ae=Object(i["defineComponent"])({name:"MidiCapability",data:function(){return{loading:!0,error:!1}},unmounted:function(){oe.a.disable()},created:function(){var e=this;oe.a.enabled||oe.a.enable((function(t){e.error=!!t,e.loading=!1,e.$emit("midiReady")}))},emits:["midiReady"]});ae.render=ne;var re=ae;function ce(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("MidiDeviceSelector");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{preferred:e.preferred,onDeviceChanged:e.deviceChanged},null,8,["preferred","onDeviceChanged"])}n("b0c0");var se={for:"jaslmus-settings-midi-device"},le={disabled:"",value:""};function de(e,t,n,o,a,r){return Object(i["openBlock"])(),Object(i["createBlock"])("div",null,[Object(i["createVNode"])("label",se,Object(i["toDisplayString"])(e.$i18n.t("midiOptions.input.device.title")),1),Object(i["withDirectives"])(Object(i["createVNode"])("select",{id:"jaslmus-settings-midi-device","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selected=t})},[Object(i["createVNode"])("option",le,Object(i["toDisplayString"])(e.$i18n.t("midiOptions.input.device.placeholder")),1),(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.inputs,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("option",{value:e.id,key:e.id},Object(i["toDisplayString"])(e.name)+" ("+Object(i["toDisplayString"])(e.manufacturer)+") ",9,["value"])})),128))],512),[[i["vModelSelect"],e.selected]])])}var ue=Object(i["defineComponent"])({name:"MidiDeviceSelector",props:{preferred:{required:!1,type:String,default:""}},data:function(){return{selected:oe.a.getInputById(this.preferred)?this.preferred:"",inputs:[]}},watch:{selected:function(e,t){this.$emit("deviceChanged",oe.a.getInputById(e)||null,oe.a.getInputById(t)||null)}},created:function(){if(!oe.a.enabled)throw new Error("WebMidi must be enabled for this component to work!");this.inputs=oe.a.inputs},emits:["deviceChanged"]});ue.render=de;var pe=ue,be=Object(i["defineComponent"])({name:"SubscriptionHandlingDeviceSelector",components:{MidiDeviceSelector:pe},props:{deviceId:{required:!1,type:String}},data:function(){return{preferred:""}},created:function(){this.deviceId&&(this.preferred=this.deviceId)},methods:{deviceChanged:function(e,t){t&&"function"===typeof t.removeListener&&t.removeListener(),this.$emit("deviceChanged",e,t)}},emits:["deviceChanged"]});be.render=ce;var me=be;function he(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("SchemaBasedForm"),s=Object(i["resolveComponent"])("Fieldset");return Object(i["openBlock"])(),Object(i["createBlock"])("div",null,[Object(i["createVNode"])("h2",null,Object(i["toDisplayString"])(e.$i18n.t("preferences.title")),1),Object(i["createVNode"])(s,{legend:e.$i18n.t("preferences.noteReading.title")},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(c,{schema:a.schema.noteReading,"form-data":n.preferences.noteReading,"i18n-prefix":"preferences.noteReading",onUpdated:r.updated},null,8,["schema","form-data","onUpdated"])]})),_:1},8,["legend"])])}var fe=n("5530"),Oe=n("743f");function ge(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("SchemaForm");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{schema:e.augmentedSchema,modelValue:e.formData,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("updated",t)})},null,8,["schema","modelValue"])}n("b64b");var je=n("c689"),ve=Object(i["defineComponent"])({props:{schema:{required:!0,type:Object},formData:{required:!0,type:Object},i18nPrefix:{required:!0,type:String}},computed:{augmentedSchema:function(){return this.augmentSchema(this.schema,this.$i18n,this.i18nPrefix)}},components:{SchemaForm:je["SchemaForm"]},emits:["updated"],methods:{augmentSchema:function(e,t,n){var i={};return Object.keys(e).forEach((function(o){var a=e[o],r=[];a.options&&a.options.forEach((function(e){var i;i=e.label?e.label:t.t("".concat(n,".").concat(o,".options.").concat(e.id)),r.push({label:i,value:e.value})}));var c="".concat(n,".").concat(o,".placeholder");i[o]={component:a.component,label:t.t("".concat(n,".").concat(o,".label")),placeholder:t.te(c)?t.t(c):"",options:r.length?r:void 0}})),i}}});ve.render=ge;var ye=ve,ke=n("68ac"),Se={components:{SchemaBasedForm:ye,Fieldset:Oe["a"]},props:{preferences:Object},data:function(){return{schema:ke}},emits:["updated"],methods:{updated:function(e){this.$emit("updated",Object(fe["a"])(Object(fe["a"])({},this.preferences),{},{noteReading:e}))}}};Se.render=he;var Ne=Se;function Ve(e,t,n){function o(){return"storedData_".concat(e,"_").concat(t)}var a=window.localStorage.getItem(o()),r=Object(i["ref"])(a?JSON.parse(a):n);return Object(i["watch"])(r,(function(e){window.localStorage.setItem(o(),JSON.stringify(e))}),{deep:!0}),r}var De=n("ceec"),Be=n("e0a9"),we=Object(i["createTextVNode"])(" — "),Ce={key:0},$e={key:1};function Ie(e,t,n,o,a,r){return Object(i["openBlock"])(),Object(i["createBlock"])("div",null,[Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.$i18n.t("scoreBoard.games"))+" "+Object(i["toDisplayString"])(e.games.length),1),we,Object(i["createVNode"])("span",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$i18n.t("scoreBoard.virtuosicScore"))+" ",1),e.games.length?(Object(i["openBlock"])(),Object(i["createBlock"])("span",Ce,Object(i["toDisplayString"])(Math.round(100*e.virtuosicScore))+"% ",1)):(Object(i["openBlock"])(),Object(i["createBlock"])("span",$e,Object(i["toDisplayString"])(e.$i18n.t("scoreBoard.noVirtuosicScore")),1))])])}var Re=Object(i["defineComponent"])({props:{games:{required:!0,type:Array}},computed:{virtuosicScore:function(){var e=0,t=0;return this.games.forEach((function(n){e+=Math.max(n.gameInfo.successes-n.gameInfo.mistakes,1),t+=n.gameInfo.heats})),0===t?0:e/t}}});Re.render=Ie;var Me=Re,xe=Object(i["defineComponent"])({name:"App",data:function(){return{showMidiOptions:!1,showPreferences:!1,midiInput:null}},components:{SubscriptionHandlingDeviceSelector:me,MidiCapability:re,Challenge:Q,ShowPlay:V,Preferences:Ne,ScoreBoard:Me},computed:{hasKeyboard:function(){return!!this.midiInput}},setup:function(){return{midiOptions:Ve("midiOptions",De.version.toString(),De.defaults),preferences:Ve("preferences",Be.version.toString(),Be.defaults),games:Ve("games","1",[])}},methods:{deviceChanged:function(e){this.midiOptions.input=e.id,this.midiInput=e},midiReady:function(){this.midiOptions.input&&(this.midiInput=oe.a.getInputById(this.midiOptions.input)||null),this.showMidiOptions=!this.hasKeyboard},gameFinished:function(e){this.games.push({name:"noteReading",time:(new Date).toISOString(),preferences:this.preferences.noteReading,gameInfo:e})}}});n("a856");xe.render=b;var Pe=xe,Ae=n("47e2"),Le=n("75d1"),qe=n("9319"),Te=(n("098b"),n("e1ae"),n("4121"),{class:"p-float-label"});function Fe(e,t,n,o,a,r){var c=Object(i["resolveComponent"])("Dropdown");return Object(i["openBlock"])(),Object(i["createBlock"])("span",Te,[Object(i["createVNode"])("label",{for:e.uuid},Object(i["toDisplayString"])(e.label),9,["for"]),Object(i["createVNode"])(c,{modelValue:e.modelValue,options:e.options,optionLabel:"label",optionValue:"value",placeholder:e.placeholder,id:e.uuid,onChange:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.value)})},null,8,["modelValue","options","placeholder","id"])])}var _e=n("0100"),Ke=Object(i["defineComponent"])({components:{Dropdown:_e["a"]},props:{modelValue:{required:!0},label:{type:String,required:!0},options:{type:Array,required:!0},uuid:{type:Number,default:0},placeholder:{type:String,default:""}},emits:["update:modelValue"]});Ke.render=Fe;var Je=Ke,He=Object(Ae["a"])({locale:"en",messages:{en:Le}});Object(i["createApp"])(Pe).use(He).use(qe["a"]).component("jaslmus-form-dropdown",Je).mount("#app")},ceec:function(e){e.exports=JSON.parse('{"version":1,"defaults":{"input":""}}')},e0a9:function(e){e.exports=JSON.parse('{"version":4,"defaults":{"noteReading":{"baseNote":60,"noteLimit":3,"speed":4000,"accidentals":"no"}}}')}});
//# sourceMappingURL=app.7480e542.js.map