(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(t,e,n){var r=n("b622"),i=r("toStringTag"),s={};s[i]="z",t.exports="[object z]"===String(s)},"0100":function(t,e,n){"use strict";var r=n("dd76"),i=Object(r["c"])(),s=i,o=n("0393"),a=n("216d"),c=n("7a23"),l={name:"Dropdown",emits:["update:modelValue","before-show","before-hide","show","hide","change","filter","focus","blur"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:String,disabled:Boolean,dataKey:null,showClear:Boolean,inputId:String,tabindex:String,ariaLabelledBy:null,appendTo:{type:String,default:"body"},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},panelClass:null,loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},data(){return{focused:!1,filterValue:null,overlayVisible:!1}},outsideClickListener:null,scrollHandler:null,resizeListener:null,searchTimeout:null,currentSearchChar:null,previousSearchChar:null,searchValue:null,overlay:null,itemsWrapper:null,beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.itemsWrapper=null,this.overlay&&(r["f"].clear(this.overlay),this.overlay=null)},methods:{getOptionLabel(t){return this.optionLabel?r["d"].resolveFieldData(t,this.optionLabel):t},getOptionValue(t){return this.optionValue?r["d"].resolveFieldData(t,this.optionValue):t},getOptionRenderKey(t){return this.dataKey?r["d"].resolveFieldData(t,this.dataKey):this.getOptionLabel(t)},isOptionDisabled(t){return!!this.optionDisabled&&r["d"].resolveFieldData(t,this.optionDisabled)},getOptionGroupRenderKey(t){return r["d"].resolveFieldData(t,this.optionGroupLabel)},getOptionGroupLabel(t){return r["d"].resolveFieldData(t,this.optionGroupLabel)},getOptionGroupChildren(t){return r["d"].resolveFieldData(t,this.optionGroupChildren)},getSelectedOption(){let t=this.getSelectedOptionIndex();return-1!==t?this.optionGroupLabel?this.getOptionGroupChildren(this.options[t.group])[t.option]:this.options[t]:null},getSelectedOptionIndex(){if(null!=this.modelValue&&this.options){if(!this.optionGroupLabel)return this.findOptionIndexInList(this.modelValue,this.options);for(let t=0;t<this.options.length;t++){let e=this.findOptionIndexInList(this.modelValue,this.getOptionGroupChildren(this.options[t]));if(-1!==e)return{group:t,option:e}}}return-1},findOptionIndexInList(t,e){for(let n=0;n<e.length;n++)if(r["d"].equals(t,this.getOptionValue(e[n]),this.equalityKey))return n;return-1},isSelected(t){return r["d"].equals(this.modelValue,this.getOptionValue(t),this.equalityKey)},show(){this.$emit("before-show"),this.overlayVisible=!0},hide(){this.$emit("before-hide"),this.overlayVisible=!1},onFocus(t){this.focused=!0,this.$emit("focus",t)},onBlur(t){this.focused=!1,this.$emit("blur",t)},onKeyDown(t){switch(t.which){case 40:this.onDownKey(t);break;case 38:this.onUpKey(t);break;case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 13:case 27:this.overlayVisible&&(this.hide(),t.preventDefault());break;case 9:this.hide();break;default:this.search(t);break}},onFilterKeyDown(t){switch(t.which){case 40:this.onDownKey(t);break;case 38:this.onUpKey(t);break;case 13:case 27:this.overlayVisible=!1,t.preventDefault();break}},onDownKey(t){if(this.visibleOptions)if(!this.overlayVisible&&t.altKey)this.show();else{let e=this.findNextOption(this.getSelectedOptionIndex());e&&this.updateModel(t,this.getOptionValue(e))}t.preventDefault()},onUpKey(t){if(this.visibleOptions){let e=this.findPrevOption(this.getSelectedOptionIndex());e&&this.updateModel(t,this.getOptionValue(e))}t.preventDefault()},findNextOption(t){if(this.optionGroupLabel){let e=-1===t?0:t.group,n=-1===t?-1:t.option,r=this.findNextOptionInList(this.getOptionGroupChildren(this.visibleOptions[e]),n);return r||(e+1!==this.visibleOptions.length?this.findNextOption({group:e+1,option:-1}):null)}return this.findNextOptionInList(this.visibleOptions,t)},findNextOptionInList(t,e){let n=e+1;if(n===t.length)return null;let r=t[n];return this.isOptionDisabled(r)?this.findNextOptionInList(n):r},findPrevOption(t){if(-1===t)return null;if(this.optionGroupLabel){let e=t.group,n=t.option,r=this.findPrevOptionInList(this.getOptionGroupChildren(this.visibleOptions[e]),n);return r||(e>0?this.findPrevOption({group:e-1,option:this.getOptionGroupChildren(this.visibleOptions[e-1]).length}):null)}return this.findPrevOptionInList(this.visibleOptions,t)},findPrevOptionInList(t,e){let n=e-1;if(n<0)return null;let r=t[n];return this.isOptionDisabled(r)?this.findPrevOption(n):r},onClearClick(t){this.updateModel(t,null)},onClick(t){this.disabled||this.loading||r["b"].hasClass(t.target,"p-dropdown-clear-icon")||"INPUT"===t.target.tagName||this.overlay&&this.overlay.contains(t.target)||(this.overlayVisible?this.hide():this.show(),this.$refs.focusInput.focus())},onOptionSelect(t,e){let n=this.getOptionValue(e);this.updateModel(t,n),this.$refs.focusInput.focus(),setTimeout(()=>{this.hide()},200)},onEditableInput(t){this.$emit("update:modelValue",t.target.value)},onOverlayEnter(t){r["f"].set("overlay",t,this.$primevue.config.zIndex.overlay),this.scrollValueInView(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.filter&&this.$refs.filterInput.focus(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.itemsWrapper=null,this.overlay=null},onOverlayAfterLeave(t){r["f"].clear(t)},alignOverlay(){this.appendDisabled?r["b"].relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=r["b"].getOuterWidth(this.$el)+"px",r["b"].absolutePosition(this.overlay,this.$el))},updateModel(t,e){this.$emit("update:modelValue",e),this.$emit("change",{originalEvent:t,value:e})},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.overlayVisible&&this.overlay&&!this.$el.contains(t.target)&&!this.overlay.contains(t.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new r["a"](this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!r["b"].isAndroid()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},search(t){if(!this.visibleOptions)return;this.searchTimeout&&clearTimeout(this.searchTimeout);const e=String.fromCharCode(t.keyCode);if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=e,this.previousSearchChar===this.currentSearchChar?this.searchValue=this.currentSearchChar:this.searchValue=this.searchValue?this.searchValue+e:e,this.searchValue){let e=this.getSelectedOptionIndex(),n=this.optionGroupLabel?this.searchOptionInGroup(e):this.searchOption(++e);n&&this.updateModel(t,this.getOptionValue(n))}this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)},searchOption(t){let e;return this.searchValue&&(e=this.searchOptionInRange(t,this.visibleOptions.length),e||(e=this.searchOptionInRange(0,t))),e},searchOptionInRange(t,e){for(let n=t;n<e;n++){let t=this.visibleOptions[n];if(this.matchesSearchValue(t))return t}return null},searchOptionInGroup(t){let e=-1===t?{group:0,option:-1}:t;for(let n=e.group;n<this.visibleOptions.length;n++){let t=this.getOptionGroupChildren(this.visibleOptions[n]);for(let r=e.group===n?e.option+1:0;r<t.length;r++)if(this.matchesSearchValue(t[r]))return t[r]}for(let n=0;n<=e.group;n++){let t=this.getOptionGroupChildren(this.visibleOptions[n]);for(let r=0;r<(e.group===n?e.option:t.length);r++)if(this.matchesSearchValue(t[r]))return t[r]}return null},matchesSearchValue(t){let e=this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale);return e.startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},onFilterChange(t){this.$emit("filter",{originalEvent:t,value:t.target.value}),this.overlayVisible&&this.alignOverlay()},overlayRef(t){this.overlay=t},itemsWrapperRef(t){this.itemsWrapper=t},scrollValueInView(){if(this.overlay){let t=r["b"].findSingle(this.overlay,"li.p-highlight");t&&(this.itemsWrapper.scrollTop=t.offsetTop)}},onOverlayClick(t){s.emit("overlay-click",{originalEvent:t,target:this.$el})}},computed:{visibleOptions(){if(this.filterValue){if(this.optionGroupLabel){let t=[];for(let e of this.options){let n=o["b"].filter(this.getOptionGroupChildren(e),this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(n&&n.length){let r={...e};r[this.optionGroupChildren]=n,t.push(r)}}return t}return o["b"].filter(this.options,this.searchFields,this.filterValue,"contains",this.filterLocale)}return this.options},containerClass(){return["p-dropdown p-component p-inputwrapper",{"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue,"p-inputwrapper-focus":this.focused||this.overlayVisible}]},labelClass(){return["p-dropdown-label p-inputtext",{"p-placeholder":this.label===this.placeholder,"p-dropdown-label-empty":!this.$slots["value"]&&("p-emptylabel"===this.label||0===this.label.length)}]},panelStyleClass(){return["p-dropdown-panel p-component",this.panelClass,{"p-input-filled":"filled"===this.$primevue.config.inputStyle,"p-ripple-disabled":!1===this.$primevue.config.ripple}]},label(){let t=this.getSelectedOption();return t?this.getOptionLabel(t):this.placeholder||"p-emptylabel"},editableInputValue(){let t=this.getSelectedOption();return t?this.getOptionLabel(t):this.modelValue},equalityKey(){return this.optionValue?null:this.dataKey},searchFields(){return this.filterFields||[this.optionLabel]},emptyFilterMessageText(){return this.emptyFilterMessage||this.$primevue.config.locale.emptyFilterMessage},emptyMessageText(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage},appendDisabled(){return"self"===this.appendTo},appendTarget(){return this.appendDisabled?null:this.appendTo},dropdownIconClass(){return["p-dropdown-trigger-icon",this.loading?this.loadingIcon:"pi pi-chevron-down"]}},directives:{ripple:a["a"]}};const u={class:"p-hidden-accessible"},h={key:0,class:"p-dropdown-header"},d={class:"p-dropdown-filter-container"},p=Object(c["createVNode"])("span",{class:"p-dropdown-filter-icon pi pi-search"},null,-1),f={class:"p-dropdown-items",role:"listbox"},m={class:"p-dropdown-item-group"},g={key:2,class:"p-dropdown-empty-message"},v={key:3,class:"p-dropdown-empty-message"};function b(t,e,n,r,i,s){const o=Object(c["resolveDirective"])("ripple");return Object(c["openBlock"])(),Object(c["createBlock"])("div",{ref:"container",class:s.containerClass,onClick:e[12]||(e[12]=t=>s.onClick(t))},[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("input",{ref:"focusInput",type:"text",id:n.inputId,readonly:"",disabled:n.disabled,onFocus:e[1]||(e[1]=(...t)=>s.onFocus&&s.onFocus(...t)),onBlur:e[2]||(e[2]=(...t)=>s.onBlur&&s.onBlur(...t)),onKeydown:e[3]||(e[3]=(...t)=>s.onKeyDown&&s.onKeyDown(...t)),tabindex:n.tabindex,"aria-haspopup":"true","aria-expanded":i.overlayVisible,"aria-labelledby":n.ariaLabelledBy},null,40,["id","disabled","tabindex","aria-expanded","aria-labelledby"])]),n.editable?(Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"text",class:"p-dropdown-label p-inputtext",disabled:n.disabled,onFocus:e[4]||(e[4]=(...t)=>s.onFocus&&s.onFocus(...t)),onBlur:e[5]||(e[5]=(...t)=>s.onBlur&&s.onBlur(...t)),placeholder:n.placeholder,value:s.editableInputValue,onInput:e[6]||(e[6]=(...t)=>s.onEditableInput&&s.onEditableInput(...t)),"aria-haspopup":"listbox","aria-expanded":i.overlayVisible},null,40,["disabled","placeholder","value","aria-expanded"])):Object(c["createCommentVNode"])("",!0),n.editable?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("span",{key:1,class:s.labelClass},[Object(c["renderSlot"])(t.$slots,"value",{value:n.modelValue,placeholder:n.placeholder},()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(s.label),1)])],2)),n.showClear&&null!=n.modelValue?(Object(c["openBlock"])(),Object(c["createBlock"])("i",{key:2,class:"p-dropdown-clear-icon pi pi-times",onClick:e[7]||(e[7]=t=>s.onClearClick(t))})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",{class:"p-dropdown-trigger",role:"button","aria-haspopup":"listbox","aria-expanded":i.overlayVisible},[Object(c["createVNode"])("span",{class:s.dropdownIconClass},null,2)],8,["aria-expanded"]),(Object(c["openBlock"])(),Object(c["createBlock"])(c["Teleport"],{to:s.appendTarget,disabled:s.appendDisabled},[Object(c["createVNode"])(c["Transition"],{name:"p-connected-overlay",onEnter:s.onOverlayEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},{default:Object(c["withCtx"])(()=>[i.overlayVisible?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:0,ref:s.overlayRef,class:s.panelStyleClass,onClick:e[11]||(e[11]=(...t)=>s.onOverlayClick&&s.onOverlayClick(...t))},[Object(c["renderSlot"])(t.$slots,"header",{value:n.modelValue,options:s.visibleOptions}),n.filter?(Object(c["openBlock"])(),Object(c["createBlock"])("div",h,[Object(c["createVNode"])("div",d,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",ref:"filterInput","onUpdate:modelValue":e[8]||(e[8]=t=>i.filterValue=t),autoComplete:"off",class:"p-dropdown-filter p-inputtext p-component",placeholder:n.filterPlaceholder,onKeydown:e[9]||(e[9]=(...t)=>s.onFilterKeyDown&&s.onFilterKeyDown(...t)),onInput:e[10]||(e[10]=(...t)=>s.onFilterChange&&s.onFilterChange(...t))},null,40,["placeholder"]),[[c["vModelText"],i.filterValue]]),p])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",{ref:s.itemsWrapperRef,class:"p-dropdown-items-wrapper",style:{"max-height":n.scrollHeight}},[Object(c["createVNode"])("ul",f,[n.optionGroupLabel?(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:1},Object(c["renderList"])(s.visibleOptions,(e,n)=>(Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:s.getOptionGroupRenderKey(e)},[Object(c["createVNode"])("li",m,[Object(c["renderSlot"])(t.$slots,"optiongroup",{option:e,index:n},()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(s.getOptionGroupLabel(e)),1)])]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(s.getOptionGroupChildren(e),(e,n)=>Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["p-dropdown-item",{"p-highlight":s.isSelected(e),"p-disabled":s.isOptionDisabled(e)}],key:s.getOptionRenderKey(e),onClick:t=>s.onOptionSelect(t,e),role:"option","aria-label":s.getOptionLabel(e),"aria-selected":s.isSelected(e)},[Object(c["renderSlot"])(t.$slots,"option",{option:e,index:n},()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(s.getOptionLabel(e)),1)])],10,["onClick","aria-label","aria-selected"])),[[o]])),128))],64))),128)):(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(s.visibleOptions,(e,n)=>Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["p-dropdown-item",{"p-highlight":s.isSelected(e),"p-disabled":s.isOptionDisabled(e)}],key:s.getOptionRenderKey(e),onClick:t=>s.onOptionSelect(t,e),role:"option","aria-label":s.getOptionLabel(e),"aria-selected":s.isSelected(e)},[Object(c["renderSlot"])(t.$slots,"option",{option:e,index:n},()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(s.getOptionLabel(e)),1)])],10,["onClick","aria-label","aria-selected"])),[[o]])),128)),i.filterValue&&(!s.visibleOptions||s.visibleOptions&&0===s.visibleOptions.length)?(Object(c["openBlock"])(),Object(c["createBlock"])("li",g,[Object(c["renderSlot"])(t.$slots,"emptyfilter",{},()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(s.emptyFilterMessageText),1)])])):!n.options||n.options&&0===n.options.length?(Object(c["openBlock"])(),Object(c["createBlock"])("li",v,[Object(c["renderSlot"])(t.$slots,"empty",{},()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(s.emptyMessageText),1)])])):Object(c["createCommentVNode"])("",!0)])],4),Object(c["renderSlot"])(t.$slots,"footer",{value:n.modelValue,options:s.visibleOptions})],2)):Object(c["createCommentVNode"])("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])],8,["to","disabled"]))],2)}function y(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var _="\n.p-dropdown {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    cursor: pointer;\n    position: relative;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n.p-dropdown-clear-icon {\n    position: absolute;\n    top: 50%;\n    margin-top: -.5rem;\n}\n.p-dropdown-trigger {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n}\n.p-dropdown-label {\n    display: block;\n    white-space: nowrap;\n    overflow: hidden;\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    width: 1%;\n    text-overflow: ellipsis;\n    cursor: pointer;\n}\n.p-dropdown-label-empty {\n    overflow: hidden;\n    visibility: hidden;\n}\ninput.p-dropdown-label  {\n    cursor: default;\n}\n.p-dropdown .p-dropdown-panel {\n    min-width: 100%;\n}\n.p-dropdown-panel {\n    position: absolute;\n}\n.p-dropdown-items-wrapper {\n    overflow: auto;\n}\n.p-dropdown-item {\n    cursor: pointer;\n    font-weight: normal;\n    white-space: nowrap;\n    position: relative;\n    overflow: hidden;\n}\n.p-dropdown-item-group {\n    cursor: auto;\n}\n.p-dropdown-items {\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n.p-dropdown-filter {\n    width: 100%;\n}\n.p-dropdown-filter-container {\n    position: relative;\n}\n.p-dropdown-filter-icon {\n    position: absolute;\n    top: 50%;\n    margin-top: -.5rem;\n}\n.p-fluid .p-dropdown {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.p-fluid .p-dropdown .p-dropdown-label {\n    width: 1%;\n}\n";y(_),l.render=b;e["a"]=l},"0188":function(t,e,n){var r=n("024d"),i=n("a215"),s={};(function(){"use strict";s.numberOfTunes=function(t){var e=t.split("\nX:"),n=e.length;return 0===n&&(n=1),n};var t=s.TuneBook=function(t){var e=i(t);this.header=e.header,this.tunes=e.tunes};t.prototype.getTuneById=function(t){for(var e=0;e<this.tunes.length;e++)if(this.tunes[e].id===""+t)return this.tunes[e];return null},t.prototype.getTuneByTitle=function(t){for(var e=0;e<this.tunes.length;e++)if(this.tunes[e].title===t)return this.tunes[e];return null},s.parseOnly=function(t,e){for(var n=s.numberOfTunes(t),r=[],i=0;i<n;i++)r.push(1);function o(){}return s.renderEngine(o,r,t,e)},s.renderEngine=function(e,n,i,s){var o=[],a=function(t){return t&&!t.propertyIsEnumerable("length")&&"object"===typeof t&&"number"===typeof t.length};if(void 0!==n&&void 0!==i){a(n)||(n=[n]),void 0===s&&(s={});for(var c=s.startingTune?parseInt(s.startingTune,10):0,l=new t(i),u=new r,h=0;h<n.length;h++){var d=n[h];if("*"===d||"string"===typeof d&&(d=document.getElementById(d)),d)if(c>=0&&c<l.tunes.length){u.parse(l.tunes[c].abc,s,l.tunes[c].startPos-l.header.length);var p=u.getTune(),f=u.getWarnings();f&&(p.warnings=f);var m=e(d,p,h,l.tunes[c].abc);o.push(m||p)}else d["innerHTML"]&&(d.innerHTML="");c++}return o}},s.extractMeasures=function(e){for(var n=[],r=new t(e),i=0;i<r.tunes.length;i++){for(var o=r.tunes[i],a=o.abc.split("K:"),c=a[1].split("\n"),l=a[0]+"K:"+c[0]+"\n",u=null,h=null,d=null,p=[],f=!1,m=s.parseOnly(o.abc)[0],g=m.getPickupLength()>0,v=0;v<m.lines.length;v++){var b=m.lines[v];if(b.staff)for(var y=0;y<1;y++)for(var _=b.staff[y],w=0;w<1;w++)for(var x=_.voices[w],k=0;k<x.length;k++){var T=x[k];if(null===d&&T.startChar>=0&&(d=T.startChar,h=void 0===T.chord?u:null),T.chord&&(u=T),"bar"===T.el_type){if(f){var S=o.abc.substring(d,T.endChar),O={abc:S};u=h&&h.chord&&h.chord.length>0?h.chord[0].name:null,u&&(O.lastChord=u),T.startEnding&&(O.startEnding=T.startEnding),T.endEnding&&(O.endEnding=T.endEnding),p.push(O),d=null,f=!1}}else"note"===T.el_type&&(f=!0)}}n.push({header:l,measures:p,hasPickup:g})}return n}})(),t.exports=s},"024d":function(t,e,n){var r=n("e8ab"),i=n("5845"),s=n("a941"),o=n("7985"),a=n("7f8d"),c=n("f5f7"),l=n("a923"),u=n("fba2"),h=function(){"use strict";var t,e=new l,n=new u(e),h="",d="";function p(t,e,n){t.positioning||(t.positioning={}),t.positioning[e]=n}function f(t,e,n){t.fonts||(t.fonts={}),t.fonts[e]=n}this.getTune=function(){var t={formatting:e.formatting,lines:e.lines,media:e.media,metaText:e.metaText,version:e.version,addElementToEvents:e.addElementToEvents,addUsefulCallbackInfo:e.addUsefulCallbackInfo,getTotalTime:e.getTotalTime,getTotalBeats:e.getTotalBeats,getBarLength:e.getBarLength,getBeatLength:e.getBeatLength,getBeatsPerMeasure:e.getBeatsPerMeasure,getBpm:e.getBpm,getMeter:e.getMeter,getMeterFraction:e.getMeterFraction,getPickupLength:e.getPickupLength,getKeySignature:e.getKeySignature,getElementFromChar:e.getElementFromChar,makeVoicesArray:e.makeVoicesArray,millisecondsPerMeasure:e.millisecondsPerMeasure,setupEvents:e.setupEvents,setTiming:e.setTiming,setUpAudio:e.setUpAudio,deline:e.deline};return e.lineBreaks&&(t.lineBreaks=e.lineBreaks),e.visualTranspose&&(t.visualTranspose=e.visualTranspose),t};var m,g,v={reset:function(){for(var t in this)this.hasOwnProperty(t)&&"function"!==typeof this[t]&&delete this[t];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(t,e){return this[t].decoration!==e[t].decoration||(this[t].face!==e[t].face||(this[t].size!==e[t].size||(this[t].style!==e[t].style||this[t].weight!==e[t].weight)))},addFormattingOptions:function(t,e,n){"note"===n?("auto"!==this.vocalPosition&&p(t,"vocalPosition",this.vocalPosition),"auto"!==this.dynamicPosition&&p(t,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&p(t,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&p(t,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&p(t,"volumePosition",this.volumePosition),this.differentFont("annotationfont",e)&&f(t,"annotationfont",this.annotationfont),this.differentFont("gchordfont",e)&&f(t,"gchordfont",this.gchordfont),this.differentFont("vocalfont",e)&&f(t,"vocalfont",this.vocalfont),this.differentFont("tripletfont",e)&&f(t,"tripletfont",this.tripletfont)):"bar"===n&&("auto"!==this.dynamicPosition&&p(t,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&p(t,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&p(t,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&p(t,"volumePosition",this.volumePosition),this.differentFont("measurefont",e)&&f(t,"measurefont",this.measurefont),this.differentFont("repeatfont",e)&&f(t,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var t=0;t<this.inTie.length;t++){this.endingHoldOver.inTie.push([]);for(var e=0;e<this.inTie[t].length;e++)this.endingHoldOver.inTie[t].push(this.inTie[t][e])}for(var n in this.inTieChord)this.inTieChord.hasOwnProperty(n)&&(this.endingHoldOver.inTieChord[n]=this.inTieChord[n])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var t=0;t<this.endingHoldOver.inTie.length;t++){this.inTie.push([]);for(var e=0;e<this.endingHoldOver.inTie[t].length;e++)this.inTie[t].push(this.endingHoldOver.inTie[t][e])}for(var n in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(n)&&(this.inTieChord[n]=this.endingHoldOver.inTieChord[n])}}},b=function(t){v.warnings||(v.warnings=[]),v.warnings.push(t)},y=function(t){v.warningObjects||(v.warningObjects=[]),v.warningObjects.push(t)},_=function(t){var e=r.gsub(t,""," ");return e=r.gsub(e,"&","&amp;"),e=r.gsub(e,"<","&lt;"),r.gsub(e,">","&gt;")},w=function(e,n,r){n||(n=" ");var i=n.charAt(r);" "===i&&(i="SPACE");var s=_(n.substring(0,r))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+i+"</span>"+_(n.substring(r+1));b("Music Line:"+t.lineIndex+":"+(r+1)+": "+e+":  "+s),y({message:e,line:n,startChar:v.iChar+r,column:r})};this.getWarnings=function(){return v.warnings},this.getWarningObjects=function(){return v.warningObjects};var x=function(e,n){if(n.indexOf("")>=0)h+=n;else if(n=h+n,h="",e){n=r.strip(n),"-"!==n.charAt(n.length-1)&&(n+=" ");for(var i=[],s=0,o=!1,a=function(e){var a=r.strip(n.substring(s,e));if(s=e+1,a.length>0){o&&(a=r.gsub(a,"~"," "));var c=n.charAt(e);return"_"!==c&&"-"!==c&&(c=" "),i.push({syllable:t.translateString(a),divider:c}),o=!1,!0}return!1},c=0;c<n.length;c++)switch(n.charAt(c)){case" ":case"":a(c);break;case"-":!a(c)&&i.length>0&&(r.last(i).divider="-",i.push({skip:!0,to:"next"}));break;case"_":a(c),i.push({skip:!0,to:"slur"});break;case"*":a(c),i.push({skip:!0,to:"next"});break;case"|":a(c),i.push({skip:!0,to:"bar"});break;case"~":o=!0;break}var l=!1;r.each(e,(function(t){if(0!==i.length)if(i[0].skip){switch(i[0].to){case"next":"note"!==t.el_type||null===t.pitches||l||i.shift();break;case"slur":"note"===t.el_type&&null!==t.pitches&&i.shift();break;case"bar":"bar"===t.el_type&&i.shift();break}"bar"!==t.el_type&&(void 0===t.lyric?t.lyric=[{syllable:"",divider:" "}]:t.lyric.push({syllable:"",divider:" "}))}else if("note"===t.el_type&&void 0===t.rest&&!l){var e=i.shift();e.syllable&&(e.syllable=e.syllable.replace(/ +/g,"Â ")),void 0===t.lyric?t.lyric=[e]:t.lyric.push(e)}}))}else w("Can't add words before the first line of music",e,0)},k=function(e,n){if(n.indexOf("")>=0)d+=n;else if(n=d+n,d="",e){n=r.strip(n),"-"!==n.charAt(n.length-1)&&(n+=" ");for(var i=[],s=0,o=!1,a=function(e){var a=r.strip(n.substring(s,e));if(s=e+1,a.length>0){o&&(a=r.gsub(a,"~"," "));var c=n.charAt(e);return"_"!==c&&"-"!==c&&(c=" "),i.push({syllable:t.translateString(a),divider:c}),o=!1,!0}return!1},c=0;c<n.length;c++)switch(n.charAt(c)){case" ":case"":a(c);break;case"-":!a(c)&&i.length>0&&(r.last(i).divider="-",i.push({skip:!0,to:"next"}));break;case"_":a(c),i.push({skip:!0,to:"slur"});break;case"*":a(c),i.push({skip:!0,to:"next"});break;case"|":a(c),i.push({skip:!0,to:"bar"});break;case"~":o=!0;break}var l=!1;r.each(e,(function(t){if(0!==i.length)if(i[0].skip)switch(i[0].to){case"next":"note"!==t.el_type||null===t.pitches||l||i.shift();break;case"slur":"note"===t.el_type&&null!==t.pitches&&i.shift();break;case"bar":"bar"===t.el_type&&i.shift();break}else if("note"===t.el_type&&void 0===t.rest&&!l){var e=i.shift();void 0===t.lyric?t.lyric=[e]:t.lyric.push(e)}}))}else w("Can't add symbols before the first line of music",e,0)},T=function(t){if(r.startsWith(t,"%%")){var e=i.addDirective(t.substring(2));e&&w(e,t,2)}else{var s=t.indexOf("%");if(s>=0&&(t=t.substring(0,s)),t=t.replace(/\s+$/,""),0!==t.length)if(h)x(n.getCurrentVoice(),t.substring(2));else if(d)k(n.getCurrentVoice(),t.substring(2));else if(t.length<2||":"!==t.charAt(1)||g.lineContinuation)g.parseMusic(t);else{var o=m.parseHeader(t);o.regular&&g.parseMusic(t),o.newline&&g.startNewLine(),o.words&&x(n.getCurrentVoice(),t.substring(2)),o.symbols&&k(n.getCurrentVoice(),t.substring(2))}}};function S(t,e){t.push({el_type:"hint"});for(var n=0;n<e.length;n++){var i=e[n],s=r.clone(i);if(t.push(s),"bar"===i.el_type)return}}function O(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(i)for(var s=0;s<i.voices.length;s++){var o=i.voices[s],a=r.voices[s];a&&S(a,o)}}}function C(){for(var t=0;t<e.lines.length;t++){var n=e.lines[t].staff;if(n){var r=t+1;while(r<e.lines.length&&void 0===e.lines[r].staff)r++;if(r<e.lines.length){var i=e.lines[r].staff;O(n,i)}}}}this.parse=function(l,u,p){u||(u={}),p||(p=0),n.reset(),l=l.replace(/\r\n?/g,"\n")+"\n";var f=l.split("\n\\");if(f.length>1){for(var b=1;b<f.length;b++)while(f[b].length>0&&"\n"!==f[b][0])f[b]=f[b].substr(1),f[b-1]+=" ";l=f.join("  ")}l=l.replace(/\\([ \t]*)(%.*)*\n/g,(function(t,e,n){var r=n?Array(n.length+1).join(" "):"";return e+""+r+"\n"}));var y=l.split("\n");0===r.last(y).length&&y.pop(),t=new a(y,v),m=new s(t,w,v,e,n),g=new o(t,w,v,e,n,m),u.print&&(e.media="print"),v.reset(),v.iChar=p,u.visualTranspose?(v.globalTranspose=parseInt(u.visualTranspose),0===v.globalTranspose?v.globalTranspose=void 0:n.setVisualTranspose(u.visualTranspose)):v.globalTranspose=void 0,u.lineBreaks&&(v.lineBreaks=u.lineBreaks),m.reset(t,w,v,e);try{u.format&&i.globalFormatting(u.format);var _=t.nextLine();while(_){if(u.header_only&&!1===v.is_in_header)throw"normal_abort";if(u.stop_on_warning&&v.warnings)throw"normal_abort";var S=v.is_in_header;T(_),S&&!v.is_in_header&&(n.setRunningFont("annotationfont",v.annotationfont),n.setRunningFont("gchordfont",v.gchordfont),n.setRunningFont("tripletfont",v.tripletfont),n.setRunningFont("vocalfont",v.vocalfont)),_=t.nextLine()}h&&x(n.getCurrentVoice(),""),d&&k(n.getCurrentVoice(),""),v.openSlurs=n.cleanUp(v.barsperstaff,v.staffnonote,v.openSlurs)}catch(M){if("normal_abort"!==M)throw M}var O=792,E=612;switch(v.papersize){case"legal":O=1008,E=612;break;case"A4":O=842.4,E=597.6;break}if(v.landscape){var A=O;O=E,E=A}e.formatting.pagewidth||(e.formatting.pagewidth=E),e.formatting.pageheight||(e.formatting.pageheight=O),u.hint_measures&&C(),c.wrapLines(e,v.lineBreaks)}};t.exports=h},"0323":function(t,e){var n=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"];t.exports=n},"0366":function(t,e,n){var r=n("1c0b");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"037c":function(t,e){function n(t,e,n,r,i,s,o,a){if(this.rows=[],t.header&&i){var c=a.calc("X","headerfont","abcjs-header abcjs-meta-top").height;this.addTextIf(s,t.header.left,"headerfont","header meta-top",-c,0,"start",a),this.addTextIf(s+r/2,t.header.center,"headerfont","header meta-top",-c,null,"middle",a),this.addTextIf(s+r,t.header.right,"headerfont","header meta-top",-c,null,"end",a)}i&&this.rows.push({move:o.top});var l=e.titleleft?"start":"middle",u=e.titleleft?s:s+r/2;if(t.title&&this.addTextIf(u,t.title,"titlefont","title meta-top",o.title,0,l,a,"title"),n[0]&&n[0].subtitle&&this.addTextIf(u,n[0].subtitle,"subtitlefont","text meta-top subtitle",o.subtitle,0,l,a,"subtitle"),t.rhythm||t.origin||t.composer){if(this.rows.push({move:o.composer}),t.rhythm&&t.rhythm.length>0){var h=!(!t.composer&&!t.origin);this.addTextIf(s,t.rhythm,"infofont","meta-top rhythm",0,null,"start",a,"rhythm",h)}var d="";t.composer&&(d+=t.composer),t.origin&&(d+=" ("+t.origin+")"),d.length>0&&this.addTextIf(s+r,d,"composerfont","meta-top composer",0,null,"end",a,"composer")}t.author&&t.author.length>0&&this.addTextIf(s+r,t.author,"composerfont","meta-top author",0,0,"end",a,"author"),t.partOrder&&t.partOrder.length>0&&this.addTextIf(s,t.partOrder,"partsfont","meta-top part-order",0,0,"start",a,"partOrder")}n.prototype.addTextIf=function(t,e,n,r,i,s,o,a,c,l){if(e&&(i&&this.rows.push({move:i}),this.rows.push({left:t,text:e,font:n,klass:r,anchor:o,absElemType:c}),!l)){var u=a.calc(e,n,r);this.rows.push({move:u.height}),s&&this.rows.push({move:s})}},t.exports=n},"0393":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("dd76");const i={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},s={filter(t,e,n,i,s){let o=[];if(t)for(let a of t)for(let t of e){let e=r["d"].resolveFieldData(a,t);if(this.filters[i](e,n,s)){o.push(a);break}}return o},filters:{startsWith(t,e,n){if(void 0===e||null===e||""===e.trim())return!0;if(void 0===t||null===t)return!1;let i=r["d"].removeAccents(e.toString()).toLocaleLowerCase(n),s=r["d"].removeAccents(t.toString()).toLocaleLowerCase(n);return s.slice(0,i.length)===i},contains(t,e,n){if(void 0===e||null===e||"string"===typeof e&&""===e.trim())return!0;if(void 0===t||null===t)return!1;let i=r["d"].removeAccents(e.toString()).toLocaleLowerCase(n),s=r["d"].removeAccents(t.toString()).toLocaleLowerCase(n);return-1!==s.indexOf(i)},notContains(t,e,n){if(void 0===e||null===e||"string"===typeof e&&""===e.trim())return!0;if(void 0===t||null===t)return!1;let i=r["d"].removeAccents(e.toString()).toLocaleLowerCase(n),s=r["d"].removeAccents(t.toString()).toLocaleLowerCase(n);return-1===s.indexOf(i)},endsWith(t,e,n){if(void 0===e||null===e||""===e.trim())return!0;if(void 0===t||null===t)return!1;let i=r["d"].removeAccents(e.toString()).toLocaleLowerCase(n),s=r["d"].removeAccents(t.toString()).toLocaleLowerCase(n);return-1!==s.indexOf(i,s.length-i.length)},equals(t,e,n){return void 0===e||null===e||"string"===typeof e&&""===e.trim()||void 0!==t&&null!==t&&(t.getTime&&e.getTime?t.getTime()===e.getTime():r["d"].removeAccents(t.toString()).toLocaleLowerCase(n)==r["d"].removeAccents(e.toString()).toLocaleLowerCase(n))},notEquals(t,e,n){return void 0!==e&&null!==e&&("string"!==typeof e||""!==e.trim())&&(void 0===t||null===t||(t.getTime&&e.getTime?t.getTime()!==e.getTime():r["d"].removeAccents(t.toString()).toLocaleLowerCase(n)!=r["d"].removeAccents(e.toString()).toLocaleLowerCase(n)))},in(t,e){if(void 0===e||null===e||0===e.length)return!0;for(let n=0;n<e.length;n++)if(r["d"].equals(t,e[n]))return!0;return!1},between(t,e){return null==e||null==e[0]||null==e[1]||void 0!==t&&null!==t&&(t.getTime?e[0].getTime()<=t.getTime()&&t.getTime()<=e[1].getTime():e[0]<=t&&t<=e[1])},lt(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&(t.getTime&&e.getTime?t.getTime()<e.getTime():t<e)},lte(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&(t.getTime&&e.getTime?t.getTime()<=e.getTime():t<=e)},gt(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&(t.getTime&&e.getTime?t.getTime()>e.getTime():t>e)},gte(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&(t.getTime&&e.getTime?t.getTime()>=e.getTime():t>=e)},dateIs(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&t.toDateString()===e.toDateString()},dateIsNot(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&t.toDateString()!==e.toDateString()},dateBefore(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&t.getTime()<e.getTime()},dateAfter(t,e){return void 0===e||null===e||void 0!==t&&null!==t&&t.getTime()>e.getTime()}},register(t,e){this.filters[t]=e}}},"0480":function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"04d1":function(t,e,n){(function(t,r){r(e,n("48da"),n("0480"),n("34dd"))})(0,(function(t,e,n,r){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var s=i(e),o=i(n),a=i(r),c=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},l=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},u=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var r=n.startTime,i=n.target,s=n.timeConstant;return i+(e-i)*Math.exp((r-t)/s)},p=function(t){return"exponentialRampToValue"===t.type},f=function(t){return"linearRampToValue"===t.type},m=function(t){return p(t)||f(t)},g=function(t){return"setValue"===t.type},v=function(t){return"setValueCurve"===t.type},b=function t(e,n,r,i){var s=e[n];return void 0===s?i:m(s)||g(s)?s.value:v(s)?s.values[s.values.length-1]:d(r,t(e,n-1,s.startTime,i),s)},y=function(t,e,n,r,i){return void 0===n?[r.insertTime,i]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:v(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,b(t,e-1,n.startTime,i)]},_=function(t){return"cancelAndHold"===t.type},w=function(t){return"cancelScheduledValues"===t.type},x=function(t){return _(t)||w(t)?t.cancelTime:p(t)||f(t)?t.endTime:t.startTime},k=function(t,e,n,r){var i=r.endTime,s=r.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(t-e)/(i-e)):0},T=function(t,e,n,r){var i=r.endTime,s=r.value;return n+(t-e)/(i-e)*(s-n)},S=function(t,e){var n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},O=function(t,e){var n=e.duration,r=e.startTime,i=e.values,s=(t-r)/n*(i.length-1);return S(i,s)},C=function(t){return"setTarget"===t.type},E=function(){function t(e){o["default"](this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a["default"](t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=x(t);if(_(t)||w(t)){var n=this._automationEvents.findIndex((function(n){return w(t)&&v(n)?n.startTime+n.duration>=e:x(n)>=e})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),_(t)){var i=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&m(r)){if(C(i))throw new Error("The internal list is malformed.");var s=v(i)?i.startTime+i.duration:x(i),o=v(i)?i.values[i.values.length-1]:i.value,a=p(r)?k(e,s,o,r):T(e,s,o,r),d=p(r)?c(a,e,this._currenTime):l(a,e,this._currenTime);this._automationEvents.push(d)}void 0!==i&&C(i)&&this._automationEvents.push(u(this.getValue(e),e)),void 0!==i&&v(i)&&i.startTime+i.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),i.startTime,e-i.startTime))}}else{var g=this._automationEvents.findIndex((function(t){return x(t)>e})),b=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==b&&v(b)&&x(b)+b.duration>e)return!1;var y=p(t)?c(t.value,t.endTime,this._currenTime):f(t)?l(t.value,e,this._currenTime):t;if(-1===g)this._automationEvents.push(y);else{if(v(t)&&e+t.duration>x(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return x(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),r=n[0];C(r)&&n.unshift(u(b(this._automationEvents,e-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents.findIndex((function(e){return x(e)>t})),n=this._automationEvents[e],r=(-1===e?this._automationEvents.length:e)-1,i=this._automationEvents[r];if(void 0!==i&&C(i)&&(void 0===n||!m(n)||n.insertTime>t))return d(t,b(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(void 0!==i&&g(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==i&&v(i)&&(void 0===n||!m(n)||i.startTime+i.duration>t))return t<i.startTime+i.duration?O(t,i):i.values[i.values.length-1];if(void 0!==i&&m(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==n&&p(n)){var o=y(this._automationEvents,r,i,n,this._defaultValue),a=s["default"](o,2),c=a[0],l=a[1];return k(t,c,l,n)}if(void 0!==n&&f(n)){var u=y(this._automationEvents,r,i,n,this._defaultValue),h=s["default"](u,2),_=h[0],w=h[1];return T(t,_,w,n)}return this._defaultValue}}]),t}(),A=function(t){return{cancelTime:t,type:"cancelAndHold"}},M=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},N=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},j=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},I=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}};t.AutomationEventList=E,t.createCancelAndHoldAutomationEvent=A,t.createCancelScheduledValuesAutomationEvent=M,t.createExponentialRampToValueAutomationEvent=N,t.createLinearRampToValueAutomationEvent=j,t.createSetTargetAutomationEvent=I,t.createSetValueAutomationEvent=u,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}))},"0511":function(t,e,n){var r=n("9f79"),i=n("120f"),s=n("3084"),o=n("28dd"),a=n("5751"),c=n("88fc"),l=n("1c33"),u=n("36b6");function h(t,e,n,h,p){var f,m,g=e.w-1;if(t.staffbottom=e.staff.bottom,e.header){var v=l(t,{x:t.padding.left,y:t.calcY(e.headerPosition),text:e.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0});h.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:e.header},v)}var b=!1;for(f=0;f<e.children.length;f++){m=e.children[f],"note"!==m.type&&"rest"!==m.type||(b=!0);var y=!1;switch("staff-extra"===m.type||t.controller.classes.isInMeasure()||(t.controller.classes.startMeasure(),y=!0),m.type){default:u(t,m,e.barto||f===e.children.length-1?n:0,h,p)}("note"===m.type||d(m))&&t.controller.classes.incrNote(),"bar"===m.type&&!y&&b&&t.controller.classes.incrMeasure()}for(t.controller.classes.startMeasure(),f=0;f<e.beams.length;f++){var _=e.beams[f];"bar"===_?t.controller.classes.incrMeasure():c(t,_,h)}for(t.controller.classes.startMeasure(),f=0;f<e.otherchildren.length;f++)if(m=e.otherchildren[f],"bar"===m)t.controller.classes.incrMeasure();else switch(m.type){case"CrescendoElem":m.elemset=r(t,m,h);break;case"DynamicDecoration":m.elemset=i(t,m,h);break;case"TripletElem":s(t,m,h);break;case"EndingElem":m.elemset=o(t,m,e.startx+10,g,h);break;case"TieElem":m.elemset=a(t,m,e.startx+10,g,h);break;default:console.log(m),u(t,m,e.startx+10,g,h,p)}}function d(t){return"rest"===t.type&&!(!t.abcelem||!t.abcelem.rest||"spacer"===t.abcelem.rest.type)}t.exports=h},"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?a(t):i(r(t))}},"06b3":function(t,e,n){var r=n("e8ab"),i=n("5845"),s=n("ca0c"),o={};(function(){var t,e,n,a;o.initialize=function(r,i,s,o,c){t=r,e=i,n=s,o,a=c},o.standardKey=function(t,e,r,i){var o={acc:"sharp",note:"f"},a={acc:"sharp",note:"c"},c={acc:"sharp",note:"g"},l={acc:"sharp",note:"d"},u={acc:"sharp",note:"A"},h={acc:"sharp",note:"e"},d={acc:"sharp",note:"B"},p={acc:"flat",note:"B"},f={acc:"flat",note:"e"},m={acc:"flat",note:"A"},g={acc:"flat",note:"d"},v={acc:"flat",note:"G"},b={acc:"flat",note:"c"},y={acc:"flat",note:"F"},_={"C#":[o,a,c,l,u,h,d],"A#m":[o,a,c,l,u,h,d],"G#Mix":[o,a,c,l,u,h,d],"D#Dor":[o,a,c,l,u,h,d],"E#Phr":[o,a,c,l,u,h,d],"F#Lyd":[o,a,c,l,u,h,d],"B#Loc":[o,a,c,l,u,h,d],"F#":[o,a,c,l,u,h],"D#m":[o,a,c,l,u,h],"C#Mix":[o,a,c,l,u,h],"G#Dor":[o,a,c,l,u,h],"A#Phr":[o,a,c,l,u,h],BLyd:[o,a,c,l,u,h],"E#Loc":[o,a,c,l,u,h],B:[o,a,c,l,u],"G#m":[o,a,c,l,u],"F#Mix":[o,a,c,l,u],"C#Dor":[o,a,c,l,u],"D#Phr":[o,a,c,l,u],ELyd:[o,a,c,l,u],"A#Loc":[o,a,c,l,u],E:[o,a,c,l],"C#m":[o,a,c,l],BMix:[o,a,c,l],"F#Dor":[o,a,c,l],"G#Phr":[o,a,c,l],ALyd:[o,a,c,l],"D#Loc":[o,a,c,l],A:[o,a,c],"F#m":[o,a,c],EMix:[o,a,c],BDor:[o,a,c],"C#Phr":[o,a,c],DLyd:[o,a,c],"G#Loc":[o,a,c],D:[o,a],Bm:[o,a],AMix:[o,a],EDor:[o,a],"F#Phr":[o,a],GLyd:[o,a],"C#Loc":[o,a],G:[o],Em:[o],DMix:[o],ADor:[o],BPhr:[o],CLyd:[o],"F#Loc":[o],C:[],Am:[],GMix:[],DDor:[],EPhr:[],FLyd:[],BLoc:[],F:[p],Dm:[p],CMix:[p],GDor:[p],APhr:[p],BbLyd:[p],ELoc:[p],Bb:[p,f],Gm:[p,f],FMix:[p,f],CDor:[p,f],DPhr:[p,f],EbLyd:[p,f],ALoc:[p,f],Eb:[p,f,m],Cm:[p,f,m],BbMix:[p,f,m],FDor:[p,f,m],GPhr:[p,f,m],AbLyd:[p,f,m],DLoc:[p,f,m],Ab:[p,f,m,g],Fm:[p,f,m,g],EbMix:[p,f,m,g],BbDor:[p,f,m,g],CPhr:[p,f,m,g],DbLyd:[p,f,m,g],GLoc:[p,f,m,g],Db:[p,f,m,g,v],Bbm:[p,f,m,g,v],AbMix:[p,f,m,g,v],EbDor:[p,f,m,g,v],FPhr:[p,f,m,g,v],GbLyd:[p,f,m,g,v],CLoc:[p,f,m,g,v],Gb:[p,f,m,g,v,b],Ebm:[p,f,m,g,v,b],DbMix:[p,f,m,g,v,b],AbDor:[p,f,m,g,v,b],BbPhr:[p,f,m,g,v,b],CbLyd:[p,f,m,g,v,b],FLoc:[p,f,m,g,v,b],Cb:[p,f,m,g,v,b,y],Abm:[p,f,m,g,v,b,y],GbMix:[p,f,m,g,v,b,y],DbDor:[p,f,m,g,v,b,y],EbPhr:[p,f,m,g,v,b,y],FbLyd:[p,f,m,g,v,b,y],BbLoc:[p,f,m,g,v,b,y],"A#":[p,f],"B#":[],"D#":[p,f,m],"E#":[p],"G#":[p,f,m,g],Gbm:[o,a,c,l,u,h,d],none:[]};return s.keySignature(n,_,t,e,r,i)};var c={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},l=function(t,e){var n=c[t],r=n?n.mid:0;return r+e};o.fixClef=function(t){var e=c[t.type];e&&(t.clefPos=e.pitch,t.type=e.clef)},o.deepCopyKey=function(t){var e={accidentals:[],root:t.root,acc:t.acc,mode:t.mode};return r.each(t.accidentals,(function(t){e.accidentals.push(r.clone(t))})),e};var u={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};o.addPosToKey=function(t,e){var n=t.verticalPos;r.each(e.accidentals,(function(t){var e=u[t.note];e-=n,t.verticalPos=e})),e.impliedNaturals&&r.each(e.impliedNaturals,(function(t){var e=u[t.note];e-=n,t.verticalPos=e})),n<-10?(r.each(e.accidentals,(function(t){t.verticalPos-=7,(t.verticalPos>=11||10===t.verticalPos&&"flat"===t.acc)&&(t.verticalPos-=7),"A"===t.note&&"sharp"===t.acc&&(t.verticalPos-=7),"G"!==t.note&&"F"!==t.note||"flat"!==t.acc||(t.verticalPos-=7)})),e.impliedNaturals&&r.each(e.impliedNaturals,(function(t){t.verticalPos-=7,(t.verticalPos>=11||10===t.verticalPos&&"flat"===t.acc)&&(t.verticalPos-=7),"A"===t.note&&"sharp"===t.acc&&(t.verticalPos-=7),"G"!==t.note&&"F"!==t.note||"flat"!==t.acc||(t.verticalPos-=7)}))):n<-4?(r.each(e.accidentals,(function(t){t.verticalPos-=7,-8!==n||"f"!==t.note&&"g"!==t.note||"sharp"!==t.acc||(t.verticalPos-=7)})),e.impliedNaturals&&r.each(e.impliedNaturals,(function(t){t.verticalPos-=7,-8!==n||"f"!==t.note&&"g"!==t.note||"sharp"!==t.acc||(t.verticalPos-=7)}))):n>=7&&(r.each(e.accidentals,(function(t){t.verticalPos+=7})),e.impliedNaturals&&r.each(e.impliedNaturals,(function(t){t.verticalPos+=7})))},o.fixKey=function(t,e){var n=r.clone(e);return o.addPosToKey(t,n),n};var h=function(t){var e=0,n=t.charAt(e++);"^"!==n&&"_"!==n||(n=t.charAt(e++));var r=u[n];for(void 0===r&&(r=6);e<t.length;e++)if(","===t.charAt(e))r-=7;else{if("'"!==t.charAt(e))break;r+=7}return{mid:r-6,str:t.substring(e)}},d=function(t){for(var e=0;e<t.length;e++)"b"===t[e].note?t[e].note="B":"a"===t[e].note?t[e].note="A":"F"===t[e].note?t[e].note="f":"E"===t[e].note?t[e].note="e":"D"===t[e].note?t[e].note="d":"C"===t[e].note?t[e].note="c":"G"===t[e].note&&"sharp"===t[e].acc?t[e].note="g":"g"===t[e].note&&"flat"===t[e].acc&&(t[e].note="G")};o.parseKey=function(r){0===r.length&&(r="none");var s=t.tokenize(r,0,r.length),a={};if(0===s.length)return e("Must pass in key signature.",r,0),a;switch(s[0].token){case"HP":i.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},a.foundKey=!0,s.shift();break;case"Hp":i.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},a.foundKey=!0,s.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},a.foundKey=!0,s.shift();break;default:var c=t.getKeyPitch(s[0].token);if(c.len>0){a.foundKey=!0;var u="",h="";s[0].token.length>1?s[0].token=s[0].token.substring(1):s.shift();var p=c.token;if(s.length>0){var f=t.getSharpFlat(s[0].token);if(f.len>0&&(s[0].token.length>1?s[0].token=s[0].token.substring(1):s.shift(),p+=f.token,u=f.token),s.length>0){var m=t.getMode(s[0].token);m.len>0&&(s.shift(),p+=m.token,h=m.token)}if(void 0===o.standardKey(p,c.token,u,0))return e("Unsupported key signature: "+p,r,0),a}var g=o.deepCopyKey(n.key),v=n.globalTranspose?-n.globalTranspose:0;if(n.key=o.deepCopyKey(o.standardKey(p,c.token,u,v)),n.key.mode=h,g){for(var b,y=0;y<n.key.accidentals.length;y++)for(b=0;b<g.accidentals.length;b++)g.accidentals[b].note&&n.key.accidentals[y].note.toLowerCase()===g.accidentals[b].note.toLowerCase()&&(g.accidentals[b].note=null);for(b=0;b<g.accidentals.length;b++)g.accidentals[b].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:g.accidentals[b].note}))}}break}if(0===s.length)return a;if("exp"===s[0].token&&s.shift(),0===s.length)return a;if("oct"===s[0].token&&s.shift(),0===s.length)return a;var _,w=t.getKeyAccidentals2(s);if(w.warn&&e(w.warn,r,0),w.accs){a.foundKey||(a.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),d(w.accs);for(var x=0;x<w.accs.length;x++){for(var k=!1,T=0;T<n.key.accidentals.length&&!k;T++)n.key.accidentals[T].note===w.accs[x].note&&(k=!0,n.key.accidentals[T].acc!==w.accs[x].acc&&(n.key.accidentals[T].acc=w.accs[x].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(w.accs[x])));if(!k&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(w.accs[x]),n.key.accidentals.push(w.accs[x]),n.key.impliedNaturals))for(var S=0;S<n.key.impliedNaturals.length;S++)n.key.impliedNaturals[S].note===w.accs[x].note&&n.key.impliedNaturals.splice(S,1)}}while(s.length>0)switch(s[0].token){case"m":case"middle":if(s.shift(),0===s.length)return e("Expected = after middle",r,0),a;if(_=s.shift(),"="!==_.token){e("Expected = after middle",r,_.start);break}if(0===s.length)return e("Expected parameter after middle=",r,0),a;var O=t.getPitchFromTokens(s);O.warn&&e(O.warn,r,0),O.position&&(n.clef.verticalPos=O.position-6);break;case"transpose":if(s.shift(),0===s.length)return e("Expected = after transpose",r,0),a;if(_=s.shift(),"="!==_.token){e("Expected = after transpose",r,_.start);break}if(0===s.length)return e("Expected parameter after transpose=",r,0),a;if("number"!==s[0].type){e("Expected number after transpose",r,s[0].start);break}n.clef.transpose=s[0].intt,s.shift();break;case"stafflines":if(s.shift(),0===s.length)return e("Expected = after stafflines",r,0),a;if(_=s.shift(),"="!==_.token){e("Expected = after stafflines",r,_.start);break}if(0===s.length)return e("Expected parameter after stafflines=",r,0),a;if("number"!==s[0].type){e("Expected number after stafflines",r,s[0].start);break}n.clef.stafflines=s[0].intt,s.shift();break;case"staffscale":if(s.shift(),0===s.length)return e("Expected = after staffscale",r,0),a;if(_=s.shift(),"="!==_.token){e("Expected = after staffscale",r,_.start);break}if(0===s.length)return e("Expected parameter after staffscale=",r,0),a;if("number"!==s[0].type){e("Expected number after staffscale",r,s[0].start);break}n.clef.staffscale=s[0].floatt,s.shift();break;case"style":if(s.shift(),0===s.length)return e("Expected = after style",r,0),a;if(_=s.shift(),"="!==_.token){e("Expected = after style",r,_.start);break}if(0===s.length)return e("Expected parameter after style=",r,0),a;switch(s[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":n.style=s[0].token,s.shift();break;default:e("error parsing style element: "+s[0].token,r,s[0].start);break}break;case"clef":if(s.shift(),0===s.length)return e("Expected = after clef",r,0),a;if(_=s.shift(),"="!==_.token){e("Expected = after clef",r,_.start);break}if(0===s.length)return e("Expected parameter after clef=",r,0),a;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var C=s.shift();switch(C.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":C.token="alto";break;case"F":C.token="bass";break;case"G":C.token="treble";break;case"c":C.token="alto";break;case"f":C.token="bass";break;case"g":C.token="treble";break;default:e("Expected clef name. Found "+C.token,r,C.start);break}s.length>0&&"number"===s[0].type&&(C.token+=s[0].token,s.shift()),s.length>1&&("-"===s[0].token||"+"===s[0].token||"^"===s[0].token||"_"===s[0].token)&&"8"===s[1].token&&(C.token+=s[0].token+s[1].token,s.shift(),s.shift()),n.clef={type:C.token,verticalPos:l(C.token,0)},n.currentVoice&&void 0!==n.currentVoice.transpose&&(n.clef.transpose=n.currentVoice.transpose),a.foundClef=!0;break;default:e("Unknown parameter: "+s[0].token,r,s[0].start),s.shift()}return a};var p=function(t){n.currentVoice=n.voices[t],a.setCurrentVoice(n.currentVoice.staffNum,n.currentVoice.index)};o.parseVoice=function(r,i,s){var o=t.getMeat(r,i,s),a=o.start,c=o.end,u=t.getToken(r,a,c);if(0!==u.length){var d=!1;void 0===n.voices[u]&&(n.voices[u]={},d=!0,n.score_is_present&&e("Can't have an unknown V: id when the %score directive is present",r,a)),a+=u.length,a+=t.eatWhiteSpace(r,a);var f={startStaff:d},m=function(n){var i=t.getVoiceToken(r,a,c);void 0!==i.warn?e("Expected value for "+n+" in voice: "+i.warn,r,a):void 0!==i.err?e("Expected value for "+n+" in voice: "+i.err,r,a):0===i.token.length&&'"'!==r.charAt(a)?e("Expected value for "+n+" in voice",r,a):f[n]=i.token,a+=i.len},g=function(i,s,o){var l=t.getVoiceToken(r,a,c);void 0!==l.warn?e("Expected value for "+s+" in voice: "+l.warn,r,a):void 0!==l.err?e("Expected value for "+s+" in voice: "+l.err,r,a):0===l.token.length&&'"'!==r.charAt(a)?e("Expected value for "+s+" in voice",r,a):("number"===o&&(l.token=parseFloat(l.token)),n.voices[i][s]=l.token),a+=l.len},v=function(n,i){var s=t.getVoiceToken(r,a,c);if(void 0!==s.warn)e("Expected value for "+n+" in voice: "+s.warn,r,a);else if(void 0!==s.err)e("Expected value for "+n+" in voice: "+s.err,r,a);else{if(0!==s.token.length||'"'===r.charAt(a))return"number"===i&&(s.token=parseFloat(s.token)),s.token;e("Expected value for "+n+" in voice",r,a)}a+=s.len},b=function(i,s){var o={_B:2,_E:9,_b:-10,_e:-3},l=t.getVoiceToken(r,a,c);if(void 0!==l.warn)e("Expected one of (_B, _E, _b, _e) for "+s+" in voice: "+l.warn,r,a);else if(0===l.token.length&&'"'!==r.charAt(a))e("Expected one of (_B, _E, _b, _e) for "+s+" in voice",r,a);else{var u=o[l.token];u?n.voices[i][s]=u:e("Expected one of (_B, _E, _b, _e) for "+s+" in voice",r,a)}a+=l.len};while(a<c){var y=t.getVoiceToken(r,a,c);if(a+=y.len,y.warn)e("Error parsing voice: "+y.warn,r,a);else{var _=null;switch(y.token){case"clef":case"cl":m("clef");var w=0;void 0!==f.clef&&(f.clef=f.clef.replace(/[',]/g,""),-1!==f.clef.indexOf("+16")&&(w+=14,f.clef=f.clef.replace("+16","")),f.verticalPos=l(f.clef,w));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var x=0;f.clef=y.token.replace(/[',]/g,""),f.verticalPos=l(f.clef,x),n.voices[u].clef=y.token;break;case"staves":case"stave":case"stv":m("staves");break;case"brace":case"brc":m("brace");break;case"bracket":case"brk":m("bracket");break;case"name":case"nm":m("name");break;case"subname":case"sname":case"snm":m("subname");break;case"merge":f.startStaff=!1;break;case"stem":case"stems":_=t.getVoiceToken(r,a,c),void 0!==_.warn?e("Expected value for stems in voice: "+_.warn,r,a):void 0!==_.err?e("Expected value for stems in voice: "+_.err,r,a):"up"===_.token||"down"===_.token?n.voices[u].stem=_.token:e("Expected up or down for voice stem",r,a),a+=_.len;break;case"up":case"down":n.voices[u].stem=y.token;break;case"middle":case"m":m("verticalPos"),f.verticalPos=h(f.verticalPos).mid;break;case"gchords":case"gch":n.voices[u].suppressChords=!0,_=t.getVoiceToken(r,a,c),"0"===_.token&&(a+=_.len);break;case"space":case"spc":m("spacing");break;case"scale":g(u,"scale","number");break;case"score":b(u,"scoreTranspose");break;case"transpose":g(u,"transpose","number");break;case"stafflines":g(u,"stafflines","number");break;case"staffscale":g(u,"staffscale","number");break;case"octave":g(u,"octave","number");break;case"volume":g(u,"volume","number");break;case"cue":var k=v("cue","string");n.voices[u].scale="on"===k?.6:1;break;case"style":_=t.getVoiceToken(r,a,c),void 0!==_.warn?e("Expected value for style in voice: "+_.warn,r,a):void 0!==_.err?e("Expected value for style in voice: "+_.err,r,a):"normal"===_.token||"harmonic"===_.token||"rhythm"===_.token||"x"===_.token||"triangle"===_.token?n.voices[u].style=_.token:e("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",r,a),a+=_.len;break}}a+=t.eatWhiteSpace(r,a)}if((f.startStaff||0===n.staves.length)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),void 0===n.voices[u].staffNum){n.voices[u].staffNum=n.staves.length-1;var T=0;for(var S in n.voices)n.voices.hasOwnProperty(S)&&n.voices[S].staffNum===n.voices[u].staffNum&&T++;n.voices[u].index=T-1}var O=n.staves[n.voices[u].staffNum];n.score_is_present||O.numVoices++,f.clef&&(O.clef={type:f.clef,verticalPos:f.verticalPos}),f.spacing&&(O.spacing_below_offset=f.spacing),f.verticalPos&&(O.verticalPos=f.verticalPos),f.name&&(O.name?O.name.push(f.name):O.name=[f.name]),f.subname&&(O.subname?O.subname.push(f.subname):O.subname=[f.subname]),p(u)}else e("Expected a voice id",r,a)}})(),t.exports=o},"06cf":function(t,e,n){var r=n("83ab"),i=n("d1e7"),s=n("5c6c"),o=n("fc6a"),a=n("c04e"),c=n("5135"),l=n("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(n){}if(c(t,e))return s(!i.f.call(t,e),t[e])}},"06db":function(t,e){var n='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">\n  <g>\n    <polygon points="5 12.5 24 0 24 25"/>\n    <rect width="3" height="25" x="0" y="0"/>\n  </g>\n</svg>\n';t.exports=n},"0842":function(t,e,n){var r=n("0188"),i=n("a923"),s=n("ece5"),o=n("024d"),a=n("f5f7"),c=n("e8ab"),l={};function u(){var t=window.innerWidth;for(var e in l)if(l.hasOwnProperty(e)){var n=l[e],r=n.offsetLeft;t-=2*r,n.style.width=t+"px"}}try{window.addEventListener("resize",u),window.addEventListener("orientationChange",u)}catch(m){}function h(t,e,n,r){n.viewportHorizontal?(t.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(t.style.overflowX="auto",t.style.overflowY="hidden"):t.style.overflow="hidden",l[t.id]=t,t=t.children[0]):n.viewportVertical?(t.innerHTML='<div class="abcjs-inner scroll-amount"></div>',t.style.overflowX="hidden",t.style.overflowY="auto",t=t.children[0]):t.innerHTML="";var i=new s(t,n);if(i.engraveABC(e,r),e.engraver=i,n.viewportVertical||n.viewportHorizontal){var o=t.parentNode;o.style.width=t.style.width}}function d(t,e,n,r){function s(t){var e=new i;return e.formatting=t.formatting,e.media=t.media,e.version=t.version,e.metaText={},e.lines=[],e}for(var o,a=[],l=0;l<e.lines.length;l++){var u=e.lines[l];o||(o=s(e)),0===l&&(o.metaText.tempo=e.metaText.tempo,o.metaText.title=e.metaText.title,o.metaText.header=e.metaText.header,o.metaText.rhythm=e.metaText.rhythm,o.metaText.origin=e.metaText.origin,o.metaText.composer=e.metaText.composer,o.metaText.author=e.metaText.author,o.metaText.partOrder=e.metaText.partOrder),o.lines.push(u),u.staff&&(a.push(o),o=void 0)}if(o)for(var d=a[a.length-1],p=0;p<o.lines.length;p++)d.lines.push(o.lines[p]);o=a[a.length-1],o.metaText.unalignedWords=e.metaText.unalignedWords,o.metaText.book=e.metaText.book,o.metaText.source=e.metaText.source,o.metaText.discography=e.metaText.discography,o.metaText.notes=e.metaText.notes,o.metaText.transcription=e.metaText.transcription,o.metaText.history=e.metaText.history,o.metaText["abc-copyright"]=e.metaText["abc-copyright"],o.metaText["abc-creator"]=e.metaText["abc-creator"],o.metaText["abc-edited-by"]=e.metaText["abc-edited-by"],o.metaText.footer=e.metaText.footer;var f={};for(var m in n)n.hasOwnProperty(m)&&(f[m]=n[m]);var g=f.paddingtop,v=f.paddingbottom;t.innerHTML="";for(var b=0;b<a.length;b++){var y=document.createElement("div");t.appendChild(y),0===b?(f.paddingtop=g,f.paddingbottom=-20):b===a.length-1?(f.paddingtop=10,f.paddingbottom=v):(f.paddingtop=10,f.paddingbottom=-20),b<a.length-1&&(a[b].formatting=c.clone(a[b].formatting),a[b].formatting.stretchlast=!0),h(y,a[b],f,r),0===b?e.engraver=a[b].engraver:e.engraver.staffgroups?a[b].engraver.staffgroups.length>0&&e.engraver.staffgroups.push(a[b].engraver.staffgroups[0]):e.engraver.staffgroups=a[b].engraver.staffgroups}}var p=function(t,e,n,i,s){var o,a={};if(n)for(o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);if(i)for(o in i)i.hasOwnProperty(o)&&("listener"===o?i[o].highlight&&(a.clickListener=i[o].highlight):a[o]=i[o]);if(s)for(o in s)s.hasOwnProperty(o)&&(a[o]=s[o]);function c(t,e,n,r){var i=!1;return"*"===t&&(i=!0,t=document.createElement("div"),t.setAttribute("style","visibility: hidden;"),document.body.appendChild(t)),a.afterParsing&&a.afterParsing(e,n,r),!i&&a.wrap&&a.staffwidth?(e=f(t,e,n,r,a),e):(i||!a.oneSvgPerLine||e.lines.length<2?h(t,e,a,n):d(t,e,a,n),i&&t.parentNode.removeChild(t),null)}return r.renderEngine(c,t,e,a)};function f(t,e,n,r,i){var c=new s(t,i),l=c.getMeasureWidths(e),u=a.calcLineWraps(e,l,i);if(u.reParse){var p=new o;p.parse(r,u.revisedParams),e=p.getTune()}return!i.oneSvgPerLine||e.lines.length<2?h(t,e,u.revisedParams,n):d(t,e,u.revisedParams,n),e.explanation=u.explanation,e}t.exports=p},"098b":function(t,e,n){},"0a08":function(t,e){
/**!
Copyright (c) 2009-2021 Paul Rosen and Gregory Dyke

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

**This text is from: http://opensource.org/licenses/MIT**
!**/},"0cb2":function(t,e,n){var r=n("7b0b"),i=Math.floor,s="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,l,u){var h=n+t.length,d=c.length,p=a;return void 0!==l&&(l=r(l),p=o),s.call(u,p,(function(r,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":o=l[s.slice(1,-1)];break;default:var a=+s;if(0===a)return r;if(a>d){var u=i(a/10);return 0===u?r:u<=d?void 0===c[u-1]?s.charAt(1):c[u-1]+s.charAt(1):r}o=c[a-1]}return void 0===o?"":o}))}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),s=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"0d41":function(t,e,n){var r=n("f3e2"),i=n("5a2d"),s=n("3a00"),o=n("d380"),a=function(t,e,n,s){var o,a,l=n;for(o=0;o<e.lines.length;o++)a=e.lines[o],a.staff&&(c(t,n,s,a.staffGroup,e.formatting,o===e.lines.length-1,!1),a.staffGroup.w>l&&(l=a.staffGroup.w));for(o=0;o<e.lines.length;o++)if(a=e.lines[o],a.staffGroup&&a.staffGroup.voices){for(var u=0;u<a.staffGroup.voices.length;u++)r(a.staffGroup.voices[u]);i(t,a.staffGroup)}for(o=0;o<e.lines.length;o++)a=e.lines[o],a.staffGroup&&a.staffGroup.setHeight();return l},c=function(t,e,n,r,i,a,c){for(var h=o(t,r.getTextSize,r.voices,r.brace,r.bracket),d=n,p=0;p<8;p++){var f=s(d,t,c,r,h);if(d=l(a,i.stretchlast,e+t.padding.left,r.w,d,f.spacingUnits,f.minSpace,t.padding.left+t.padding.right),c&&console.log("setXSpace",p,r.w,d,r.minspace),null===d)break}u(r.voices)};function l(t,e,n,r,i,s,o,a){if(t)if(void 0===e){if(r/n<.66)return null}else{var c=1-(r+a)/n,l=c<e;if(!l)return null}if(Math.abs(n-r)<2)return null;var u=s*i,h=r-u;return s>0?(i=(n-h)/s,i*o>50&&(i=50/o),i):null}function u(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=1;r<n.children.length-1;r++){var i=n.children[r];if(i.abcelem.rest&&("whole"===i.abcelem.rest.type||"multimeasure"===i.abcelem.rest.type)){var s=n.children[r-1],o=n.children[r+1];i.center(s,o)}}}t.exports=a},"11af":function(t,e,n){var r=n("fa8e");function i(t){if(t.rangeHighlight=w,t.dragging)for(var e=0;e<t.selectables.length;e++){var n=t.selectables[e];n.selectable&&(n.svgEl.setAttribute("tabindex",0),n.svgEl.setAttribute("data-index",e),n.svgEl.addEventListener("keydown",a.bind(t)),n.svgEl.addEventListener("keyup",c.bind(t)),n.svgEl.addEventListener("focus",o.bind(t)))}t.renderer.paper.svg.addEventListener("mousedown",f.bind(t)),t.renderer.paper.svg.addEventListener("mousemove",m.bind(t)),t.renderer.paper.svg.addEventListener("mouseup",g.bind(t))}function s(t,e){var n=1,r=1;e.viewBox.baseVal&&(0!==e.viewBox.baseVal.width&&(n=e.viewBox.baseVal.width/e.clientWidth),0!==e.viewBox.baseVal.height&&(r=e.viewBox.baseVal.height/e.clientHeight));var i,s,o="svg"===t.target.tagName;return o?(i=t.offsetX,s=t.offsetY):(i=t.layerX,s=t.layerY),i*=n,s*=r,[i,s]}function o(t){"keyboard"===this.dragMechanism&&0!==this.dragYStep&&this.dragTarget&&b.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragYStep=0}function a(t){switch(t.keyCode){case 38:case 40:t.preventDefault()}}function c(t){var e=!1,n=t.target.dataset.index;switch(t.keyCode){case 13:case 32:e=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",g.bind(this)();break;case 38:e=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*r.STEP+")"));break;case 40:e=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*r.STEP+")"));break;case 9:0!==this.dragYStep&&g.bind(this)();break;default:break}e&&t.preventDefault()}function l(t,e){for(var n=0;n<t.length;n++)if(e===t[n].svgEl)return n;return-1}function u(t,e,n){for(var r=9999999,i=-1,s=0;s<t.selectables.length&&r>0;s++){var o=t.selectables[s];if(t.getDim(o),o.dim.left<e&&o.dim.right>e&&o.dim.top<n&&o.dim.bottom>n)i=s,r=0;else if(o.dim.top<n&&o.dim.bottom>n){var a=Math.min(Math.abs(o.dim.left-e),Math.abs(o.dim.right-e));a<r&&(r=a,i=s)}else if(o.dim.left<e&&o.dim.right>e){var c=Math.min(Math.abs(o.dim.top-n),Math.abs(o.dim.bottom-n));c<r&&(r=c,i=s)}else{var l=Math.abs(e-o.dim.left)>Math.abs(e-o.dim.right)?Math.abs(e-o.dim.right):Math.abs(e-o.dim.left),u=Math.abs(n-o.dim.top)>Math.abs(n-o.dim.bottom)?Math.abs(n-o.dim.bottom):Math.abs(n-o.dim.top),h=Math.sqrt(l*l+u*u);h<r&&(r=h,i=s)}}return i>=0&&r<=12?i:-1}function h(t,e,n){if(t.x<=e.offsetX&&t.x+t.width>=e.offsetX&&t.y<=e.offsetY&&t.y+t.height>=e.offsetY)return[e.offsetX,e.offsetY];var r=Math.abs(e.layerY/n-e.offsetY);return r<3?[e.offsetX,e.offsetY]:[e.layerX,e.layerY]}function d(t){if("svg"===t.tagName)return t;var e=t.getAttribute("selectable");while(!e)t=t.parentElement,e="svg"===t.tagName||t.getAttribute("selectable");return t}function p(t,e){var n,r,i,o=l(t.selectables,d(e.target));return o>=0?(i=h(t.selectables[o].svgEl.getBBox(),e,t.scale),n=i[0],r=i[1]):(i=s(e,t.renderer.paper.svg),n=i[0],r=i[1],o=u(t,n,r)),{x:n,y:r,clickedOn:o}}function f(t){var e=p(this,t);e.clickedOn>=0&&0===t.button&&(this.dragTarget=this.selectables[e.clickedOn],this.dragIndex=e.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:e.x,y:e.y},this.dragging&&this.dragTarget.isDraggable&&(T(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function m(t){if(this.dragTarget&&this.dragging&&this.dragTarget.isDraggable&&"mouse"===this.dragMechanism){var e=p(this,t),n=Math.round((e.y-this.dragMouseStart.y)/r.STEP);n!==this.dragYStep&&(this.dragYStep=n,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+n*r.STEP+")"))}}function g(t){this.dragTarget&&(_.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),b.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),S(this.renderer.svg,"abcjs-dragging-in-progress"))}function v(t){t>=0&&t<this.selectables.length&&(this.dragTarget=this.selectables[t],this.dragIndex=t,this.dragMechanism="keyboard",g.bind(this)())}function b(t,e,n,r,i){var s=[];if(t.absEl.elemset){for(var o={},a=0;a<t.absEl.elemset.length;a++){var c=t.absEl.elemset[a];if(c)for(var l=c.getAttribute("class").split(" "),u=0;u<l.length;u++)o[l[u]]=!0}for(var h=0;h<Object.keys(o).length;h++)s.push(Object.keys(o)[h])}for(var d={},p=0;p<s.length;p++)y(s[p],"abcjs-v",d,"voice"),y(s[p],"abcjs-l",d,"line"),y(s[p],"abcjs-m",d,"measure");t.staffPos&&(d.staffPos=t.staffPos);for(var f=0;f<this.listeners.length;f++)this.listeners[f](t.absEl.abcelem,t.absEl.tuneNumber,s.join(" "),d,{step:e,max:n,index:r,setSelection:v.bind(this)},i)}function y(t,e,n,r){if(0===t.indexOf(e)){var i=t.replace(e,""),s=parseInt(i,10);""+s===i&&(n[r]=s)}}function _(){for(var t=0;t<this.selected.length;t++)this.selected[t].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function w(t,e){_.bind(this)();for(var n=0;n<this.staffgroups.length;n++)for(var r=this.staffgroups[n].voices,i=0;i<r.length;i++)for(var s=r[i].children,o=0;o<s.length;o++){var a=s[o].abcelem.startChar,c=s[o].abcelem.endChar;(e>a&&t<c||e===t&&e===c)&&(this.selected[this.selected.length]=s[o],s[o].highlight(void 0,this.selectionColor))}}function x(t){var e=t.getAttribute("class");e||(e="");for(var n=e.split(" "),r={},i=0;i<n.length;i++)r[n[i]]=!0;return r}function k(t,e){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r);t.setAttribute("class",n.join(" "))}function T(t,e){if(t){var n=x(t.svg);n[e]=!0,k(t.svg,n)}}function S(t,e){if(t){var n=x(t.svg);delete n[e],k(t.svg,n)}}t.exports=i},"120f":function(t,e,n){var r=n("9106");function i(t,e,n){void 0===e.pitch&&window.console.error("Dynamic Element y-coordinate not set.");var i=1,s=1,o=r(t,e.anchor.x,e.pitch,e.dec,i,s,t.controller.classes.generate("decoration dynamics"));return n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:e.dec},o),[o]}t.exports=i},"12ae":function(t,e,n){n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var r=n("f2d0");function i(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},"12d1":function(t,e){var n=function(t,e,n){this.type="DynamicDecoration",this.anchor=t,this.dec=e,"below"===n?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0};t.exports=n},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var s=n.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),s=n("17c2"),o=n("9112");for(var a in i){var c=r[a],l=c&&c.prototype;if(l&&l.forEach!==s)try{o(l,"forEach",s)}catch(u){l.forEach=s}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),s=i("forEach");t.exports=s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"17d5":function(t,e){function n(t){return parseFloat(t.toFixed(2))}t.exports=n},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c33":function(t,e,n){var r=n("17d5");function i(t,e){var n,i=e.y;if(e.lane){var s=.25*e.dim.font.size;i+=(e.dim.font.size+s)*e.lane}e.dim?(n=e.dim,n.attr.class=e.klass):n=t.controller.getFontAndAttr.calc(e.type,e.klass),e.anchor&&(n.attr["text-anchor"]=e.anchor),n.attr.x=e.x,n.attr.y=i,e.centerVertically||(n.attr.y+=n.font.size),"debugfont"===e.type&&(console.log("Debug msg: "+e.text),n.attr.stroke="#ff0000");var o=e.text.replace(/\n\n/g,"\n \n");o=o.replace(/^\n/,"Â \n"),n.font.box&&(t.paper.openGroup({klass:n.attr["class"],fill:t.foregroundColor}),"end"===n.attr["text-anchor"]?n.attr.x-=n.font.padding:"start"===n.attr["text-anchor"]&&(n.attr.x+=n.font.padding),n.attr.y+=n.font.padding,delete n.attr["class"]),e.noClass&&delete n.attr["class"],n.attr.x=r(n.attr.x),n.attr.y=r(n.attr.y);var a=t.paper.text(o,n.attr);if(n.font.box){var c=a.getBBox(),l=0;"middle"===n.attr["text-anchor"]?l=c.width/2+n.font.padding:"end"===n.attr["text-anchor"]&&(l=c.width+2*n.font.padding);var u=0;e.centerVertically&&(u=c.height-n.font.padding),t.paper.rect({x:Math.round(e.x-l),y:Math.round(i-u),width:Math.round(c.width+2*n.font.padding),height:Math.round(c.height+2*n.font.padding)}),a=t.paper.closeGroup()}return a}t.exports=i},"1c7e":function(t,e,n){var r=n("b622"),i=r("iterator"),s=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){s=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},"1cdc":function(t,e,n){var r=n("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1ce3":function(t,e,n){var r=n("fa8e"),i={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84},"noteheads.slash.whole":{d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},"noteheads.slash.quarter":{d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},"noteheads.harmonic.quarter":{d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},"noteheads.triangle.quarter":{d:[["M",0,0],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9}},s=function(t){for(var e=[],n=0,r=t.length;n<r;n++){e[n]=[];for(var i=0,s=t[n].length;i<s;i++)e[n][i]=t[n][i]}return e},o=function(t,e,n){for(var r=0,i=t.length;r<i;r++){var s,o,a=t[r];for(s=1,o=a.length;s<o;s++)a[s]*=s%2?e:n}},a={printSymbol:function(t,e,n,r,o,a,c){if(!i[n])return null;var l=s(i[n].d);l[0][1]+=t,l[0][2]+=e;for(var u="",h=0;h<l.length;h++)u+=l[h].join(" ");return r.path({path:u,stroke:a,fill:c,class:o})},getPathForSymbol:function(t,e,n,r,a){if(r=r||1,a=a||1,!i[n])return null;var c=s(i[n].d);return 1===r&&1===a||o(c,r,a),c[0][1]+=t,c[0][2]+=e,c},getSymbolWidth:function(t){return i[t]?i[t].w:0},symbolHeightInPitches:function(t){var e=i[t]?i[t].h:0;return e/r.STEP},getSymbolAlign:function(t){return"scripts"===t.substring(0,7)&&"scripts.roll"!==t?"center":"left"},getYCorr:function(t){switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(t,e){i[t]=e}};t.exports=a},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),s=n("2d00"),o=i("species");t.exports=function(t){return s>=51||!r((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1de3":function(t,e){function n(t){if(Array.isArray(t))return t}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"1e04":function(t,e){function n(t,e,n,r,i,s){var o;this.rows=[],e&&this.rows.push({move:e});var a=n.calc("textfont","defined-text");if(""===t)this.rows.push({move:2*a.attr["font-size"]});else if("string"===typeof t)this.rows.push({move:a.attr["font-size"]/2}),this.rows.push({left:r,text:t,font:"textfont",klass:"defined-text",anchor:"start",absElemType:"freeText"}),o=s.calc(t,"textfont","defined-text"),this.rows.push({move:o.height});else for(var c="textfont",l=!1,u=0;u<t.length;u++){c=t[u].font?t[u].font:"textfont",t[u].center&&(l=!0);var h=l?"middle":"start",d=l?i/2:r;this.rows.push({left:d,text:t[u].text,font:c,klass:"defined-text",anchor:h,absElemType:"freeText"}),o=s.calc(t[u].text,c,"defined-text"),this.rows.push({move:o.height})}}t.exports=n},"208b":function(t,e,n){"use strict";n.d(e,"b",(function(){return d}));var r=n("f159");function i(t){return+t>=0&&+t<=127}function s(t){if(i(t))return+t;const e=Object(r["b"])(t);return e.empty?null:e.midi}function o(t,e=440){return Math.pow(2,(t-69)/12)*e}const a=Math.log(2),c=Math.log(440);function l(t){const e=12*(Math.log(t)-c)/a+69;return Math.round(100*e)/100}const u="C C# D D# E F F# G G# A A# B".split(" "),h="C Db D Eb E F Gb G Ab A Bb B".split(" ");function d(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const n=!0===e.sharps?u:h,r=n[t%12];if(e.pitchClass)return r;const i=Math.floor(t/12)-1;return r+i}var p={isMidi:i,toMidi:s,midiToFreq:o,midiToNoteName:d,freqToMidi:l};e["a"]=p},"216d":function(t,e,n){"use strict";var r=n("dd76");function i(t){t.addEventListener("mousedown",c)}function s(t){t.removeEventListener("mousedown",c)}function o(t){let e=document.createElement("span");e.className="p-ink",t.appendChild(e),e.addEventListener("animationend",l)}function a(t){let e=u(t);e&&(s(t),e.removeEventListener("animationend",l),e.remove())}function c(t){let e=t.currentTarget,n=u(e);if(!n||"none"===getComputedStyle(n,null).display)return;if(r["b"].removeClass(n,"p-ink-active"),!r["b"].getHeight(n)&&!r["b"].getWidth(n)){let t=Math.max(r["b"].getOuterWidth(e),r["b"].getOuterHeight(e));n.style.height=t+"px",n.style.width=t+"px"}let i=r["b"].getOffset(e),s=t.pageX-i.left+document.body.scrollTop-r["b"].getWidth(n)/2,o=t.pageY-i.top+document.body.scrollLeft-r["b"].getHeight(n)/2;n.style.top=o+"px",n.style.left=s+"px",r["b"].addClass(n,"p-ink-active")}function l(t){r["b"].removeClass(t.currentTarget,"p-ink-active")}function u(t){for(let e=0;e<t.children.length;e++)if("string"===typeof t.children[e].className&&-1!==t.children[e].className.indexOf("p-ink"))return t.children[e];return null}const h={mounted(t,e){e.instance.$primevue&&e.instance.$primevue.config&&e.instance.$primevue.config.ripple&&(o(t),i(t))},unmounted(t){a(t)}};e["a"]=h},2216:function(t,e,n){var r=n("0323"),i=function(t){for(var e=[],n=0;n<t.tracks.length;n++)e.push([]);var i=r[0];return t.tracks.forEach((function(t,n){t.forEach((function(t){switch(t.cmd){case"note":if(t.duration>0){var s=t.gap?t.gap:0,o=t.duration;s=Math.min(s,2*o/3);var a={pitch:t.pitch,instrument:i,start:Math.round(1e6*t.start)/1e6,end:Math.round(1e6*(t.start+o-s))/1e6,volume:t.volume};t.style&&(a.style=t.style),t.cents&&(a.cents=t.cents),e[n].push(a)}break;case"program":i=r[t.instrument];break;case"text":break;default:console.log("Unhandled midi event",t)}}))})),e};t.exports=i},2266:function(t,e,n){var r=n("825a"),i=n("e95a"),s=n("50c4"),o=n("0366"),a=n("35a1"),c=n("2a62"),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var u,h,d,p,f,m,g,v=n&&n.that,b=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),w=o(e,v,1+b+_),x=function(t){return u&&c(u),new l(!0,t)},k=function(t){return b?(r(t),_?w(t[0],t[1],x):w(t[0],t[1])):_?w(t,x):w(t)};if(y)u=t;else{if(h=a(t),"function"!=typeof h)throw TypeError("Target is not iterable");if(i(h)){for(d=0,p=s(t.length);p>d;d++)if(f=k(t[d]),f&&f instanceof l)return f;return new l(!1)}u=h.call(t)}m=u.next;while(!(g=m.call(u)).done){try{f=k(g.value)}catch(T){throw c(u),T}if("object"==typeof f&&f&&f instanceof l)return f}return new l(!1)}},"23cb":function(t,e,n){var r=n("a691"),i=Math.max,s=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,s=n("9112"),o=n("6eeb"),a=n("ce4e"),c=n("e893"),l=n("94ca");t.exports=function(t,e){var n,u,h,d,p,f,m=t.target,g=t.global,v=t.stat;if(u=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in e){if(p=e[h],t.noTargetGet?(f=i(u,h),d=f&&f.value):d=u[h],n=l(g?h:m+(v?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof p===typeof d)continue;c(p,d)}(t.sham||d&&d.sham)&&s(p,"sham",!0),o(u,h,p,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839"),s=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,s)}},2429:function(t,e){function n(t,e,n,r,i){return e+(r-e)/(n-t)*(i-t)}t.exports=n},"245c":function(t,e,n){var r=n("4d8e"),i=n("2216"),s=n("671d"),o=n("a3bf"),a=n("4919"),c=n("2a58"),l=n("0323"),u=n("a668"),h=n("e668"),d=n("ece2"),p="MIDI is not supported in this browser.",f="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",m="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",g="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function v(){var t=this;function e(t,e){if(null===e||void 0===e)return null;var n=[];if(!e.length){var r=parseFloat(e);if(r*(t-1)>2)return null;for(var i=t%2===0,s=i?0-r/2:0,o=s+r,a=0;a<t;a++)i=a%2===0,i?(n.push(s),s-=r):(n.push(o),o+=r);return n}if(t===e.length){for(var c=!0,l=0;l<e.length;l++){var u=parseFloat(e[l]);u>=-1&&u<=1?n.push(u):c=!1}if(c)return n}return null}t.audioBufferPossible=void 0,t.directSource=[],t.startTimeSec=void 0,t.pausedTimeSec=void 0,t.audioBuffers=[],t.duration=void 0,t.isRunning=!1,t.init=function(e){e||(e={}),s(e.audioContext);var n=o().currentTime;if(t.debugCallback=e.debugCallback,t.debugCallback&&t.debugCallback("init called"),t.audioBufferPossible=t._deviceCapable(),!t.audioBufferPossible)return Promise.reject({status:"NotSupported",message:p});var r=e.options?e.options:{};t.soundFontUrl=r.soundFontUrl?r.soundFontUrl:f,"/"!==t.soundFontUrl[t.soundFontUrl.length-1]&&(t.soundFontUrl+="/"),r.soundFontVolumeMultiplier?t.soundFontVolumeMultiplier=r.soundFontVolumeMultiplier:t.soundFontUrl===m||t.soundFontUrl===g?t.soundFontVolumeMultiplier=5:t.soundFontUrl===f?t.soundFontVolumeMultiplier=.5:t.soundFontVolumeMultiplier=1,r.programOffsets?t.programOffsets=r.programOffsets:t.soundFontUrl===f?t.programOffsets={violin:113,trombone:200}:t.programOffsets={};var i=void 0!==r.fadeLength?parseInt(r.fadeLength,10):NaN;if(t.fadeLength=isNaN(i)?200:i,i=void 0!==r.noteEnd?parseInt(r.noteEnd,10):NaN,t.noteEnd=isNaN(i)?0:i,t.pan=r.pan,t.meterSize=1,e.visualObj){t.flattened=e.visualObj.setUpAudio(r);var a=e.visualObj.getMeterFraction();a.den&&(t.meterSize=e.visualObj.getMeterFraction().num/e.visualObj.getMeterFraction().den)}else{if(!e.sequence)return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));t.flattened=e.sequence}t.millisecondsPerMeasure=e.millisecondsPerMeasure?e.millisecondsPerMeasure:e.visualObj?e.visualObj.millisecondsPerMeasure(t.flattened.tempo):1e3,t.beatsPerMeasure=e.visualObj?e.visualObj.getBeatsPerMeasure():4,t.sequenceCallback=r.sequenceCallback,t.callbackContext=r.callbackContext,t.onEnded=r.onEnded;var u={},h=[],v=l[0];t.flattened.tracks.forEach((function(t){t.forEach((function(t){if("program"===t.cmd&&l[t.instrument]&&(v=l[t.instrument]),void 0!==t.pitch){var e=t.pitch,n=c[e];n?(u[v]||(u[v]={}),d[v]&&d[v][n]?h.push(v+":"+n):u[v][n]=!0):console.log("Can't find note: ",e)}}))})),t.debugCallback&&t.debugCallback("note gathering time = "+Math.floor(1e3*(o().currentTime-n))+"ms"),n=o().currentTime;var b=[];Object.keys(u).forEach((function(t){Object.keys(u[t]).forEach((function(e){b.push({instrument:t,note:e})}))}));for(var y=[],_=256,w=0;w<b.length;w+=_)y.push(b.slice(w,w+_));return new Promise((function(e,r){var i={cached:h,error:[],loaded:[]},s=0,a=function(){s<y.length?t._loadBatch(y[s],t.soundFontUrl,n).then((function(t){n=o().currentTime,t&&(t.error&&(i.error=i.error.concat(t.error)),t.loaded&&(i.loaded=i.loaded.concat(t.loaded))),s++,a()}),r):e(i)};a()}))},t._loadBatch=function(e,n,i,s){var a=[];return e.forEach((function(t){a.push(r(n,t.instrument,t.note,o()))})),Promise.all(a).then((function(r){t.debugCallback&&t.debugCallback("mp3 load time = "+Math.floor(1e3*(o().currentTime-i))+"ms");for(var a=[],c=[],l=[],u=[],h=0;h<r.length;h++){var d=r[h],p=d.instrument+":"+d.name;"loaded"===d.status?a.push(p):"pending"===d.status?l.push(p):"cached"===d.status?c.push(p):u.push(p+" "+d.message)}if(l.length>0){if(s?s*=2:s=50,s<9e4)return new Promise((function(e,r){setTimeout((function(){var o=[];for(h=0;h<l.length;h++)p=l[h].split(":"),o.push({instrument:p[0],note:p[1]});t._loadBatch(o,n,i,s).then((function(t){e(t)})).catch((function(t){r(t)}))}),s)}));for(var f=[],m=0;m<e.length;m++)f.push(e[m].instrument+"/"+e[m].note);return Promise.reject(new Error("timeout attempting to load: "+f.join(", ")))}return Promise.resolve({loaded:a,cached:c,error:u})})).catch((function(t){}))},t.prime=function(){var n=t.fadeLength/1e3;return t.isRunning=!1,t.audioBufferPossible?(t.debugCallback&&t.debugCallback("prime called"),new Promise((function(r){var s=o().currentTime,a=t.millisecondsPerMeasure/1e3/t.meterSize;if(t.duration=t.flattened.totalDuration*a,t.duration<=0)return t.audioBuffers=[],r({status:"empty",seconds:0});t.duration+=n;var c=Math.floor(o().sampleRate*t.duration);t.stop();var l=i(t.flattened);t.sequenceCallback&&t.sequenceCallback(l,t.callbackContext);var u=e(l.length,t.pan),d={};l.forEach((function(t,e){var n=u&&u.length>e?u[e]:0;t.forEach((function(t){var e=t.instrument+":"+t.pitch+":"+t.volume+":"+Math.round(1e3*(t.end-t.start))/1e3+":"+n+":"+a+":"+t.cents;d[e]||(d[e]=[]),d[e].push(t.start)}))}));for(var p=[],f=o().createBuffer(2,c,o().sampleRate),m=0;m<Object.keys(d).length;m++){var g=Object.keys(d)[m],v=g.split(":"),b=void 0!==v[6]?parseFloat(v[6]):0;v={instrument:v[0],pitch:parseInt(v[1],10),volume:parseInt(v[2],10),len:parseFloat(v[3]),pan:parseFloat(v[4]),tempoMultiplier:parseFloat(v[5]),cents:b},p.push(h(f,o().sampleRate,v,d[g],t.soundFontVolumeMultiplier,t.programOffsets[v.instrument],n,t.noteEnd/1e3))}t.audioBuffers=[f],t.debugCallback&&(t.debugCallback("sampleRate = "+o().sampleRate),t.debugCallback("totalSamples = "+c),t.debugCallback("creationTime = "+Math.floor(1e3*(o().currentTime-s))+"ms")),Promise.all(p).then((function(){r({status:"ok",seconds:0})}))}))):Promise.reject(new Error(p))},t.start=function(){if(!t.audioBufferPossible)throw new Error(p);t.debugCallback&&t.debugCallback("start called");var e=t.pausedTimeSec?t.pausedTimeSec:0;t._kickOffSound(e),t.startTimeSec=o().currentTime-e,t.pausedTimeSec=void 0,t.debugCallback&&t.debugCallback("MIDI STARTED",t.startTimeSec)},t.pause=function(){if(!t.audioBufferPossible)throw new Error(p);t.debugCallback&&t.debugCallback("pause called"),t.stop(),t.pausedTimeSec=o().currentTime-t.startTimeSec},t.resume=function(){t.start()},t.seek=function(e,n){var r;switch(n){case"seconds":r=e;break;case"beats":r=e*t.millisecondsPerMeasure/t.beatsPerMeasure/1e3;break;default:r=(t.duration-t.fadeLength/1e3)*e;break}if(!t.audioBufferPossible)throw new Error(p);t.debugCallback&&t.debugCallback("seek called sec="+r),t.isRunning?(t.stop(),t._kickOffSound(r)):t.pausedTimeSec=r,t.pausedTimeSec=r},t.stop=function(){t.isRunning=!1,t.pausedTimeSec=void 0,t.directSource.forEach((function(t){try{t.stop()}catch(e){console.log("direct source didn't stop:",e)}})),t.directSource=[]},t.finished=function(){t.startTimeSec=void 0,t.pausedTimeSec=void 0,t.isRunning=!1},t.download=function(){return u(t)},t._deviceCapable=function(){return!!a()||(console.warn(p),t.debugCallback&&t.debugCallback(p),!1)},t._kickOffSound=function(e){t.isRunning=!0,t.directSource=[],t.audioBuffers.forEach((function(e,n){t.directSource[n]=o().createBufferSource(),t.directSource[n].buffer=e,t.directSource[n].connect(o().destination)})),t.directSource.forEach((function(t){t.start(0,e)})),t.onEnded&&(t.directSource[0].onended=function(){t.onEnded(t.callbackContext)})}}t.exports=v},2532:function(t,e,n){"use strict";var r=n("23e7"),i=n("5a34"),s=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(s(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),i=n("825a"),s=n("d039"),o=n("ad6d"),a="toString",c=RegExp.prototype,l=c[a],u=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=l.name!=a;(u||h)&&r(RegExp.prototype,a,(function(){var t=i(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?o.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},2601:function(t,e){var n={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b"};function r(t){var e=(t.accidental?t.accidental[0]:"x")+t.verticalPos;return n[e]}t.exports=r},2626:function(t,e,n){"use strict";var r=n("d066"),i=n("9bf2"),s=n("b622"),o=n("83ab"),a=s("species");t.exports=function(t){var e=r(t),n=i.f;o&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},"28dd":function(t,e,n){var r=n("c352"),i=n("1c33"),s=n("384c"),o=n("17d5");function a(t,e,n,a,c){void 0===e.pitch&&window.console.error("Ending Element y-coordinate not set.");var l=o(t.calcY(e.pitch)),u=20,h="";e.anchor1&&(n=o(e.anchor1.x+e.anchor1.w),h+=r("M %f %f L %f %f ",n,l,n,o(l+u))),e.anchor2&&(a=o(e.anchor2.x),h+=r("M %f %f L %f %f ",a,l,a,o(l+u))),h+=r("M %f %f L %f %f ",n,l,a,l),t.paper.openGroup({klass:t.controller.classes.generate("ending")}),s(t,{path:h,stroke:t.foregroundColor,fill:t.foregroundColor}),e.anchor1&&i(t,{x:o(n+5),y:o(t.calcY(e.pitch-.5)),text:e.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0});var d=t.paper.closeGroup();return c.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},d),[d]}t.exports=a},"29d0":function(t,e,n){var r=n("6d22"),i=function(t,e){void 0===t&&(t="abcjs-note_selected"),void 0===e&&(e="#ff0000"),r(this.elemset,t,"",e)};t.exports=i},"2a0d":function(t,e){var n=function(t,e){this.getFontAndAttr=t,this.svg=e};n.prototype.updateFonts=function(t){this.getFontAndAttr.updateFonts(t)},n.prototype.attr=function(t,e){return this.getFontAndAttr.calc(t,e)},n.prototype.calc=function(t,e,n,r){var i;i="string"===typeof e?this.attr(e,n):{font:{face:e.face,size:e.size,decoration:e.decoration,style:e.style,weight:e.weight},attr:{"font-size":e.size,"font-style":e.style,"font-family":e.face,"font-weight":e.weight,"text-decoration":e.decoration,class:this.getFontAndAttr.classes.generate(n)}};var s=this.svg.getTextSize(t,i.attr,r);return i.font.box?{height:s.height+4*i.font.padding,width:s.width+4*i.font.padding}:s},n.prototype.baselineToCenter=function(t,e,n,r,i){var s=this.calc(t,e,n).height,o=this.attr(e,n).font.size;return.5*s+(i-r-2)*o},t.exports=n},"2a55":function(t,e){var n=function(t){for(var e=0,n=0;n<t.voices.length;n++){var r=t.voices[n].staff;t.voices[n].duplicate||(e+=r.top,r.bottom<0&&(e+=-r.bottom))}return e};t.exports=n},"2a58":function(t,e){var n={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"};t.exports=n},"2a62":function(t,e,n){var r=n("825a");t.exports=function(t){var e=t["return"];if(void 0!==e)return r(e.call(t)).value}},"2c7f":function(t,e){var n=function(t,e){var n=this;if(e||(e={}),n.qpm=e.qpm?parseInt(e.qpm,10):null,!n.qpm){var i=t.metaText?t.metaText.tempo:null;n.qpm=t.getBpm(i)}n.extraMeasuresAtBeginning=e.extraMeasuresAtBeginning?parseInt(e.extraMeasuresAtBeginning,10):0,n.beatCallback=e.beatCallback,n.eventCallback=e.eventCallback,n.lineEndCallback=e.lineEndCallback,n.lineEndAnticipation=e.lineEndAnticipation?parseInt(e.lineEndAnticipation,10):0,n.beatSubdivisions=e.beatSubdivisions?parseInt(e.beatSubdivisions,10):1,n.joggerTimer=null,n.replaceTarget=function(t){n.noteTimings=t.setTiming(n.qpm,n.extraMeasuresAtBeginning),0===t.noteTimings.length&&t.setTiming(0,0),n.lineEndCallback&&(n.lineEndTimings=r(t.noteTimings,n.lineEndAnticipation)),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.isPaused=!1,n.isRunning=!1,n.pausedPercent=null,n.justUnpaused=!1,n.newSeekPercent=0,n.lastTimestamp=0,0!==n.noteTimings.length&&(n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds,n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat))},n.replaceTarget(t),n.doTiming=function(t){if(n.lastTimestamp!==t&&(n.lastTimestamp=t,n.startTime||(n.startTime=t),!n.isPaused&&n.isRunning)){var e=t-n.startTime;e+=16;while(n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<e){if(n.eventCallback&&"event"===n.noteTimings[n.currentEvent].type){var r=n.startTime;n.eventCallback(n.noteTimings[n.currentEvent]),r!==n.startTime&&(e=t-n.startTime)}n.currentEvent++}if(n.lineEndCallback&&n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds<e&&n.currentEvent<n.noteTimings.length){var i=n.noteTimings[n.currentEvent].milliseconds===e?n.noteTimings[n.currentEvent]:n.noteTimings[n.currentEvent-1];n.lineEndCallback(n.lineEndTimings[n.currentLine],i,{line:n.currentLine,endTimings:n.lineEndTimings,currentTime:e}),n.currentLine++}if(e<n.lastMoment){if(requestAnimationFrame(n.doTiming),n.currentBeat*n.millisecondsPerBeat<e){var s=n.doBeatCallback(t);null!==s&&(e=s)}}else if(n.currentBeat<=n.totalBeats&&n.beatCallback){var o=n.doBeatCallback(t);null!==o&&(e=o),requestAnimationFrame(n.doTiming)}if(e>=n.lastMoment)if(n.eventCallback){var a=n.eventCallback(null);n.shouldStop(a).then((function(t){t&&n.stop()}))}else n.stop()}},n.shouldStop=function(t){return new Promise((function(e){return t?"continue"===t?e(!1):void(t.then&&t.then((function(t){e("continue"!==t)}))):e(!0)}))},n.doBeatCallback=function(t){if(n.beatCallback){var e,r,i=n.currentEvent;while(i<n.noteTimings.length&&null===n.noteTimings[i].left)i++;if(i<n.noteTimings.length){e=n.noteTimings[i].milliseconds,i=n.currentEvent-1;while(i>=0&&null===n.noteTimings[i].left)i--;r=n.noteTimings[i]}var s={},o={};if(r){s.top=r.top,s.height=r.height;var a=Math.max(0,t-n.startTime-r.milliseconds),c=e-r.milliseconds,l=r.endX-r.left,u=a*l/c;s.left=r.left+u,o={timestamp:t,startTime:n.startTime,ev:r,endMs:e,offMs:a,offPs:u,gapMs:c,gapPx:l}}else o={timestamp:t,startTime:n.startTime};var h=n.startTime;if(n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment,s,o),h!==n.startTime)return t-n.startTime;n.currentBeat++}return null};var s=60;n.animationJogger=function(){n.isRunning&&(n.doTiming(performance.now()),n.joggerTimer=setTimeout(n.animationJogger,s))},n.start=function(t){if(n.isRunning=!0,n.isPaused&&(n.isPaused=!1,void 0===t&&(n.justUnpaused=!0)),t)n.setProgress(t);else if(0===t)n.reset();else if(null!==n.pausedPercent){var e=performance.now(),r=n.lastMoment*n.pausedPercent;n.startTime=e-r,n.pausedPercent=null,n.reportNext=!0}requestAnimationFrame(n.doTiming),n.joggerTimer=setTimeout(n.animationJogger,s)},n.pause=function(){n.isPaused=!0;var t=performance.now();n.pausedPercent=(t-n.startTime)/n.lastMoment,n.isRunning=!1,n.joggerTimer&&(clearTimeout(n.joggerTimer),n.joggerTimer=null)},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.startTime=null,n.pausedPercent=null},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(t,e){var r,i;switch(e){case"seconds":r=1e3*t,r<0&&(r=0),r>n.lastMoment&&(r=n.lastMoment),i=r/n.lastMoment;break;case"beats":r=t*n.millisecondsPerBeat*n.beatSubdivisions,r<0&&(r=0),r>n.lastMoment&&(r=n.lastMoment),i=r/n.lastMoment;break;default:i=t,i<0&&(i=0),i>1&&(i=1),r=n.lastMoment*i;break}n.isRunning||(n.pausedPercent=i);var o=performance.now();n.startTime=o-r;n.currentEvent;n.currentEvent=0;while(n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<r)n.currentEvent++;if(n.lineEndCallback){n.currentLine=0;while(n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds+n.lineEndAnticipation<r)n.currentLine++}var a=n.currentBeat;n.currentBeat=Math.floor(r/n.millisecondsPerBeat),n.beatCallback&&a!==n.currentBeat&&n.doBeatCallback(n.startTime+r),n.eventCallback&&n.currentEvent>=0&&"event"===n.noteTimings[n.currentEvent].type&&n.eventCallback(n.noteTimings[n.currentEvent]),n.lineEndCallback&&n.lineEndCallback(n.lineEndTimings[n.currentLine],n.noteTimings[n.currentEvent],{line:n.currentLine,endTimings:n.lineEndTimings}),n.joggerTimer=setTimeout(n.animationJogger,s)}};function r(t,e){for(var n=[],r=null,i=0;i<t.length;i++){var s=t[i];"end"!==s.type&&s.top!==r&&(n.push({measureNumber:s.measureNumber,milliseconds:s.milliseconds-e,top:s.top,bottom:s.top+s.height}),r=s.top)}return n}t.exports=n},"2cf4":function(t,e,n){var r,i,s,o=n("da84"),a=n("d039"),c=n("0366"),l=n("1be4"),u=n("cc12"),h=n("1cdc"),d=n("605d"),p=o.location,f=o.setImmediate,m=o.clearImmediate,g=o.process,v=o.MessageChannel,b=o.Dispatch,y=0,_={},w="onreadystatechange",x=function(t){if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},k=function(t){return function(){x(t)}},T=function(t){x(t.data)},S=function(t){o.postMessage(t+"",p.protocol+"//"+p.host)};f&&m||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return _[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(y),y},m=function(t){delete _[t]},d?r=function(t){g.nextTick(k(t))}:b&&b.now?r=function(t){b.now(k(t))}:v&&!h?(i=new v,s=i.port2,i.port1.onmessage=T,r=c(s.postMessage,s,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&p&&"file:"!==p.protocol&&!a(S)?(r=S,o.addEventListener("message",T,!1)):r=w in u("script")?function(t){l.appendChild(u("script"))[w]=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(k(t),0)}),t.exports={set:f,clear:m}},"2d00":function(t,e,n){var r,i,s=n("da84"),o=n("342f"),a=s.process,c=a&&a.versions,l=c&&c.v8;l?(r=l.split("."),i=r[0]+r[1]):o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},"2e42":function(t,e,n){n("6d22");var r=n("29d0"),i=n("4f47"),s=function(t,e,n,r,i,s){s||(s={}),this.tuneNumber=i,this.abcelem=t,this.duration=e,this.durationClass=s.durationClassOveride?s.durationClassOveride:this.duration,this.minspacing=n||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=r,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};s.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}},s.prototype.addExtra=function(t){this.fixed.w=Math.max(this.fixed.w,t.dx+t.w),void 0===this.fixed.t?this.fixed.t=t.top:this.fixed.t=Math.max(this.fixed.t,t.top),void 0===this.fixed.b?this.fixed.b=t.bottom:this.fixed.b=Math.min(this.fixed.b,t.bottom),t.dx<this.extraw&&(this.extraw=t.dx),this.extra[this.extra.length]=t,this._addChild(t)},s.prototype.addHead=function(t){t.dx<this.extraw&&(this.extraw=t.dx),this.heads[this.heads.length]=t,this.addRight(t)},s.prototype.addRight=function(t){this.fixed.w=Math.max(this.fixed.w,t.dx+t.w),void 0!==t.top&&(void 0===this.fixed.t?this.fixed.t=t.top:this.fixed.t=Math.max(this.fixed.t,t.top)),void 0!==t.bottom&&(void 0===this.fixed.b?this.fixed.b=t.bottom:this.fixed.b=Math.min(this.fixed.b,t.bottom)),isNaN(this.fixed.t)||isNaN(this.fixed.b),t.dx+t.w>this.w&&(this.w=t.dx+t.w),this.right[this.right.length]=t,this._addChild(t)},s.prototype.addFixed=function(t){this._addChild(t)},s.prototype.addFixedX=function(t){this._addChild(t)},s.prototype.addCentered=function(t){var e=t.w/2;-e<this.extraw&&(this.extraw=-e),this.extra[this.extra.length]=t,t.dx+e>this.w&&(this.w=t.dx+e),this.right[this.right.length]=t,this._addChild(t)},s.prototype.setLimit=function(t,e){e[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],e[t]):this.specialY[t]=e[t])},s.prototype._addChild=function(t){t.parent=this,this.children[this.children.length]=t,this.pushTop(t.top),this.pushBottom(t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)},s.prototype.pushTop=function(t){void 0!==t&&(void 0===this.top?this.top=t:this.top=Math.max(t,this.top))},s.prototype.pushBottom=function(t){void 0!==t&&(void 0===this.bottom?this.bottom=t:this.bottom=Math.min(t,this.bottom))},s.prototype.setX=function(t){this.x=t;for(var e=0;e<this.children.length;e++)this.children[e].setX(t)},s.prototype.center=function(t,e){var n=(e.x-t.x)/2+t.x;this.x=n-this.w/2;for(var r=0;r<this.children.length;r++)this.children[r].setX(this.x)},s.prototype.setHint=function(){this.hint=!0},s.prototype.highlight=function(t,e){r.bind(this)(t,e)},s.prototype.unhighlight=function(t,e){i.bind(this)(t,e)},t.exports=s},"2f3e":function(t,e){function n(t){return Math.pow(2,t/1200)}t.exports=n},3084:function(t,e,n){var r=n("c352"),i=n("1c33"),s=n("384c"),o=n("17d5");function a(t,e,n){t.paper.openGroup({klass:t.controller.classes.generate("triplet "+e.durationClass)}),e.hasBeam||l(t,e.anchor1.x,e.startNote,e.anchor2.x+e.anchor2.w,e.endNote),i(t,{x:e.xTextPos,y:t.calcY(e.yTextPos-1),text:""+e.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0});var r=t.paper.closeGroup();return n.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},r),r}function c(t,e,n,i){return r("M %f %f L %f %f",o(t),o(e),o(n),o(i))}function l(t,e,n,r,i){n=t.calcY(n),i=t.calcY(i);var o=5,a="";a+=c(e,n,e,n+o),a+=c(r,i,r,i+o);var l=e+(r-e)/2,u=8,h=(i-n)/(r-e),d=l-u,p=n+(d-e)*h;a+=c(e,n,d,p);var f=l+u,m=n+(f-e)*h;a+=c(f,m,r,i),s(t,{path:a,stroke:t.foregroundColor})}t.exports=a},3306:function(t,e,n){var r,i=n("5c95");(function(){"use strict";var t=1920;function e(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;i++)r[i]=parseFloat(r[i]);r.sort((function(t,e){return t-e}));for(var s=0,o=0;o<r.length;o++){var a=e[r[o]];if(r[o]>s){var c=(r[o]-s)*n;t.addRest(c),s=r[o]}for(var l=0;l<a.length;l++){var u=a[l];u.volume?t.startNote(u.pitch,u.volume,u.cents):t.endNote(u.pitch)}}}r=function(n,r){void 0===r&&(r={});var s=n.setUpAudio(r),o=i(),a=n.metaText?n.metaText.title:void 0;a&&a.length>128&&(a=a.substring(0,124)+"...");var c=n.getKeySignature(),l=n.getMeterFraction();o.setGlobalInfo(s.tempo,a,c,l);for(var u=0;u<s.tracks.length;u++){o.startTrack();for(var h={},d=0;d<s.tracks[u].length;d++){var p=s.tracks[u][d];switch(p.cmd){case"text":o.setText(p.type,p.text);break;case"program":var f=0;r.pan&&r.pan.length>u&&(f=r.pan[u]),o.setChannel(p.channel,f),o.setInstrument(p.instrument);break;case"note":var m=p.start,g=m+p.duration;h[m]||(h[m]=[]),h[m].push({pitch:p.pitch,volume:p.volume,cents:p.cents}),h[g]||(h[g]=[]),h[g].push({pitch:p.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+p.cmd)}}e(o,h,t),o.endTrack()}return o.getData()}})(),t.exports=r},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},"34dd":function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"353e":function(t,e){function n(t,e){var n="rgba(0,0,0,255)",r="rgba(0,0,0,0)",i=Math.round(t.y),s=t.controller.width,o=(s-e)/2,a=o+e,c="M "+o+" "+i+" L "+a+" "+i+" L "+a+" "+(i+1)+" L "+o+" "+(i+1)+" L "+o+" "+i+" z";t.paper.pathToBack({path:c,stroke:r,fill:n,class:t.controller.classes.generate("defined-text")})}t.exports=n},"35a1":function(t,e,n){var r=n("f5df"),i=n("3f8c"),s=n("b622"),o=s("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},"36b6":function(t,e,n){var r=n("fad5"),i=n("9514"),s=n("fa8e"),o=n("6d22"),a=n("c076");function c(t,e,n,c,l){if(!e.invisible){var u=e.children.length>0&&"TempoElement"===e.children[0].type;e.elemset=[],a.beginGroup(t.paper,t.controller);for(var h=0;h<e.children.length;h++){var d,p=e.children[h];switch(p.type){case"TempoElement":d=r(t,p),d&&(e.elemset=e.elemset.concat(d));break;default:d=i(t,p,n),d&&e.elemset.push(d)}}var f=e.type;if(("note"===e.type||"rest"===e.type)&&(e.counters=t.controller.classes.getCurrent(),f+=" d"+Math.round(1e3*e.durationClass)/1e3,f=f.replace(/\./g,"-"),e.abcelem.pitches))for(var m=0;m<e.abcelem.pitches.length;m++)f+=" p"+e.abcelem.pitches[m].pitch;var g=a.endGroup(f);if(g?u&&e.elemset.length>0?(t.paper.moveElementToChild(e.elemset[0],g),c.add(e,e.elemset[0],!1,l)):(e.elemset.push(g),c.add(e,g,"note"===e.type,l)):e.elemset.length>0&&c.add(e,e.elemset[0],"note"===e.type,l),e.klass&&o(e.elemset,"mark","","#00ff00"),e.hint&&o(e.elemset,"abcjs-hint","",null),e.abcelem.abselem=e,e.heads&&e.heads.length>0){e.notePositions=[];for(var v=0;v<e.heads.length;v++)e.notePositions.push({x:e.heads[v].x+e.heads[v].w/2,y:l.zero-e.heads[v].pitch*s.STEP})}}}t.exports=c},"377d":function(t,e,n){var r=n("7841");function i(t,e,n,i){var s="abcjs-top-line";if(t.paper.openGroup({prepend:!0,klass:t.controller.classes.generate("abcjs-staff")}),1===i)r(t,e,n,6,s);else for(var o=i-1;o>=0;o--)r(t,e,n,2*(o+1),s),s=void 0;t.paper.closeGroup()}t.exports=i},"37e8":function(t,e,n){var r=n("83ab"),i=n("9bf2"),s=n("825a"),o=n("df75");t.exports=r?Object.defineProperties:function(t,e){s(t);var n,r=o(e),a=r.length,c=0;while(a>c)i.f(t,n=r[c++],e[n]);return t}},"384c":function(t,e){function n(t,e,n){var r=t.paper.path(e);return r}t.exports=n},"3a00":function(t,e,n){var r=n("ead1"),i=function(t,e,n,i,a){var c,l=1e-7,u=0,h=1e3,d=a;i.startx=d;var p=0;for(n&&console.log("init layout",t),c=0;c<i.voices.length;c++)r.beginLayout(d,i.voices[c]);var f=0;while(!s(i.voices)){for(p=null,c=0;c<i.voices.length;c++)r.layoutEnded(i.voices[c])||p&&!(o(i.voices[c])<p)||(p=o(i.voices[c]));var m=[],g=[];for(c=0;c<i.voices.length;c++){var v=o(i.voices[c]);v-p>l?g.push(i.voices[c]):m.push(i.voices[c])}f=0;var b=0;for(c=0;c<m.length;c++)r.getNextX(m[c])>d&&(d=r.getNextX(m[c]),f=r.getSpacingUnits(m[c]),b=m[c].spacingduration);for(u+=f,h=Math.min(h,f),n&&console.log("currentduration: ",p,u,h),c=0;c<m.length;c++){var y=r.layoutOneItem(d,t,m[c],e.minPadding),_=y-d;if(_>0){d=y;for(var w=0;w<c;w++)r.shiftRight(_,m[w])}}for(c=0;c<g.length;c++)g[c].spacingduration-=b,r.updateNextX(d,t,g[c]);for(c=0;c<m.length;c++){var x=m[c];r.updateIndices(x)}}for(c=0;c<i.voices.length;c++)r.getNextX(i.voices[c])>d&&(d=r.getNextX(i.voices[c]),f=r.getSpacingUnits(i.voices[c]));return u+=f,i.setWidth(d),{spacingUnits:u,minSpace:h}};function s(t){for(var e=0;e<t.length;e++)if(!r.layoutEnded(t[e]))return!1;return!0}function o(t){return t.durationindex-(t.children[t.i]&&t.children[t.i].duration>0?0:5e-7)}t.exports=i},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("69f3"),s=n("7dd0"),o="String Iterator",a=i.set,c=i.getterFor(o);s(String,"String",(function(t){a(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},"3f4e":function(t,e,n){"use strict";n.d(e,"setupDevtoolsPlugin",(function(){return s}));var r=n("abc5"),i=n("b774");function s(t,e){const n=Object(r["a"])();if(n)n.emit(i["a"],t,e);else{const n=Object(r["b"])(),i=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];i.push({pluginDescriptor:t,setupFn:e})}}},"3f8c":function(t,e){t.exports={}},4121:function(t,e,n){},"428f":function(t,e,n){var r=n("da84");t.exports=r},"44ad":function(t,e,n){var r=n("d039"),i=n("c6b6"),s="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var r=n("b622"),i=n("7c73"),s=n("9bf2"),o=r("unscopables"),a=Array.prototype;void 0==a[o]&&s.f(a,o,{configurable:!0,value:i(null)}),t.exports=function(t){a[o][t]=!0}},"44de":function(t,e,n){var r=n("da84");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),s=n("b622"),o=s("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},4550:function(t,e,n){var r=n("2e42"),i=n("1ce3"),s=n("5cbe"),o=function(t,e){var n,o=0;t.el_type="clef";var c=new r(t,0,10,"staff-extra clef",e);switch(c.isClef=!0,t.type){case"treble":n="clefs.G";break;case"tenor":n="clefs.C";break;case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",o=1;break;case"tenor+8":n="clefs.C",o=1;break;case"bass+8":n="clefs.F",o=1;break;case"alto+8":n="clefs.C",o=1;break;case"treble-8":n="clefs.G",o=-1;break;case"tenor-8":n="clefs.C",o=-1;break;case"bass-8":n="clefs.F",o=-1;break;case"alto-8":n="clefs.C",o=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:c.addFixed(new s("clef="+t.type,0,0,void 0,{type:"debug"}))}var l=5;if(n){var u=i.symbolHeightInPitches(n),h=a(n);if(c.addRight(new s(n,l,i.getSymbolWidth(n),t.clefPos,{top:u+t.clefPos+h,bottom:t.clefPos+h})),0!==o){var d=2/3,p=(i.getSymbolWidth(n)-i.getSymbolWidth("8")*d)/2,f=o>0?c.top+3:c.bottom-1,m=o>0?c.top+3:c.bottom-3,g=m-2;"bass-8"===t.type&&(f=3,p=0),c.addRight(new s("8",l+p,i.getSymbolWidth("8")*d,f,{scalex:d,scaley:d,top:m,bottom:g}))}}return c};function a(t){switch(t){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}t.exports=o},"47e2":function(t,e,n){"use strict";n.d(e,"a",(function(){return $e}));var r=n("f83d");
/*!
  * @intlify/message-compiler v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function i(t,e,n={}){const{domain:r,messages:i,args:s}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function s(t){throw t}function o(t,e,n){return{line:t,column:e,offset:n}}function a(t,e,n){const r={start:t,end:e};return null!=n&&(r.source=n),r}const c=" ",l="\r",u="\n",h=String.fromCharCode(8232),d=String.fromCharCode(8233);function p(t){const e=t;let n=0,r=1,i=1,s=0;const o=t=>e[t]===l&&e[t+1]===u,a=t=>e[t]===u,c=t=>e[t]===d,p=t=>e[t]===h,f=t=>o(t)||a(t)||c(t)||p(t),m=()=>n,g=()=>r,v=()=>i,b=()=>s,y=t=>o(t)||c(t)||p(t)?u:e[t],_=()=>y(n),w=()=>y(n+s);function x(){return s=0,f(n)&&(r++,i=0),o(n)&&n++,n++,i++,e[n]}function k(){return o(n+s)&&s++,s++,e[n+s]}function T(){n=0,r=1,i=1,s=0}function S(t=0){s=t}function O(){const t=n+s;while(t!==n)x();s=0}return{index:m,line:g,column:v,peekOffset:b,charAt:y,currentChar:_,currentPeek:w,next:x,peek:k,reset:T,resetPeek:S,skipToPeek:O}}const f=void 0,m="'",g="tokenizer";function v(t,e={}){const n=!1!==e.location,r=p(t),s=()=>r.index(),l=()=>o(r.line(),r.column(),r.index()),h=l(),d=s(),v={currentType:14,offset:d,startLoc:h,endLoc:h,lastType:14,lastOffset:d,lastStartLoc:h,lastEndLoc:h,braceNest:0,inLinked:!1,text:""},b=()=>v,{onError:y}=e;function _(t,e,n,...r){const s=b();if(e.column+=n,e.offset+=n,y){const n=a(s.startLoc,e),o=i(t,n,{domain:g,args:r});y(o)}}function w(t,e,r){t.endLoc=l(),t.currentType=e;const i={type:e};return n&&(i.loc=a(t.startLoc,t.endLoc)),null!=r&&(i.value=r),i}const x=t=>w(t,14);function k(t,e){return t.currentChar()===e?(t.next(),e):(_(0,l(),0,e),"")}function T(t){let e="";while(t.currentPeek()===c||t.currentPeek()===u)e+=t.currentPeek(),t.peek();return e}function S(t){const e=T(t);return t.skipToPeek(),e}function O(t){if(t===f)return!1;const e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90||95===e}function C(t){if(t===f)return!1;const e=t.charCodeAt(0);return e>=48&&e<=57}function E(t,e){const{currentType:n}=e;if(2!==n)return!1;T(t);const r=O(t.currentPeek());return t.resetPeek(),r}function A(t,e){const{currentType:n}=e;if(2!==n)return!1;T(t);const r="-"===t.currentPeek()?t.peek():t.currentPeek(),i=C(r);return t.resetPeek(),i}function M(t,e){const{currentType:n}=e;if(2!==n)return!1;T(t);const r=t.currentPeek()===m;return t.resetPeek(),r}function N(t,e){const{currentType:n}=e;if(8!==n)return!1;T(t);const r="."===t.currentPeek();return t.resetPeek(),r}function j(t,e){const{currentType:n}=e;if(9!==n)return!1;T(t);const r=O(t.currentPeek());return t.resetPeek(),r}function I(t,e){const{currentType:n}=e;if(8!==n&&12!==n)return!1;T(t);const r=":"===t.currentPeek();return t.resetPeek(),r}function P(t,e){const{currentType:n}=e;if(10!==n)return!1;const r=()=>{const e=t.currentPeek();return"{"===e?O(t.peek()):!("@"===e||"%"===e||"|"===e||":"===e||"."===e||e===c||!e)&&(e===u?(t.peek(),r()):O(e))},i=r();return t.resetPeek(),i}function L(t){T(t);const e="|"===t.currentPeek();return t.resetPeek(),e}function D(t,e=!0){const n=(e=!1,r="",i=!1)=>{const s=t.currentPeek();return"{"===s?"%"!==r&&e:"@"!==s&&s?"%"===s?(t.peek(),n(e,"%",!0)):"|"===s?!("%"!==r&&!i)||!(r===c||r===u):s===c?(t.peek(),n(!0,c,i)):s!==u||(t.peek(),n(!0,u,i)):"%"===r||e},r=n();return e&&t.resetPeek(),r}function F(t,e){const n=t.currentChar();return n===f?f:e(n)?(t.next(),n):null}function B(t){const e=t=>{const e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57||95===e||36===e};return F(t,e)}function R(t){const e=t=>{const e=t.charCodeAt(0);return e>=48&&e<=57};return F(t,e)}function V(t){const e=t=>{const e=t.charCodeAt(0);return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};return F(t,e)}function H(t){let e="",n="";while(e=R(t))n+=e;return n}function q(t){const e=n=>{const r=t.currentChar();return"{"!==r&&"}"!==r&&"@"!==r&&r?"%"===r?D(t)?(n+=r,t.next(),e(n)):n:"|"===r?n:r===c||r===u?D(t)?(n+=r,t.next(),e(n)):L(t)?n:(n+=r,t.next(),e(n)):(n+=r,t.next(),e(n)):n};return e("")}function z(t){S(t);let e="",n="";while(e=B(t))n+=e;return t.currentChar()===f&&_(6,l(),0),n}function W(t){S(t);let e="";return"-"===t.currentChar()?(t.next(),e+="-"+H(t)):e+=H(t),t.currentChar()===f&&_(6,l(),0),e}function G(t){S(t),k(t,"'");let e="",n="";const r=t=>t!==m&&t!==u;while(e=F(t,r))n+="\\"===e?U(t):e;const i=t.currentChar();return i===u||i===f?(_(2,l(),0),i===u&&(t.next(),k(t,"'")),n):(k(t,"'"),n)}function U(t){const e=t.currentChar();switch(e){case"\\":case"'":return t.next(),"\\"+e;case"u":return Y(t,e,4);case"U":return Y(t,e,6);default:return _(3,l(),0,e),""}}function Y(t,e,n){k(t,e);let r="";for(let i=0;i<n;i++){const n=V(t);if(!n){_(4,l(),0,`\\${e}${r}${t.currentChar()}`);break}r+=n}return`\\${e}${r}`}function $(t){S(t);let e="",n="";const r=t=>"{"!==t&&"}"!==t&&t!==c&&t!==u;while(e=F(t,r))n+=e;return n}function X(t){let e="",n="";while(e=B(t))n+=e;return n}function K(t){const e=(n=!1,r)=>{const i=t.currentChar();return"{"!==i&&"%"!==i&&"@"!==i&&"|"!==i&&i?i===c?r:i===u?(r+=i,t.next(),e(n,r)):(r+=i,t.next(),e(!0,r)):r};return e(!1,"")}function Z(t){S(t);const e=k(t,"|");return S(t),e}function Q(t,e){let n=null;const r=t.currentChar();switch(r){case"{":return e.braceNest>=1&&_(8,l(),0),t.next(),n=w(e,2,"{"),S(t),e.braceNest++,n;case"}":return e.braceNest>0&&2===e.currentType&&_(7,l(),0),t.next(),n=w(e,3,"}"),e.braceNest--,e.braceNest>0&&S(t),e.inLinked&&0===e.braceNest&&(e.inLinked=!1),n;case"@":return e.braceNest>0&&_(6,l(),0),n=J(t,e)||x(e),e.braceNest=0,n;default:let r=!0,i=!0,s=!0;if(L(t))return e.braceNest>0&&_(6,l(),0),n=w(e,1,Z(t)),e.braceNest=0,e.inLinked=!1,n;if(e.braceNest>0&&(5===e.currentType||6===e.currentType||7===e.currentType))return _(6,l(),0),e.braceNest=0,tt(t,e);if(r=E(t,e))return n=w(e,5,z(t)),S(t),n;if(i=A(t,e))return n=w(e,6,W(t)),S(t),n;if(s=M(t,e))return n=w(e,7,G(t)),S(t),n;if(!r&&!i&&!s)return n=w(e,13,$(t)),_(1,l(),0,n.value),S(t),n;break}return n}function J(t,e){const{currentType:n}=e;let r=null;const i=t.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||i!==u&&i!==c||_(9,l(),0),i){case"@":return t.next(),r=w(e,8,"@"),e.inLinked=!0,r;case".":return S(t),t.next(),w(e,9,".");case":":return S(t),t.next(),w(e,10,":");default:return L(t)?(r=w(e,1,Z(t)),e.braceNest=0,e.inLinked=!1,r):N(t,e)||I(t,e)?(S(t),J(t,e)):j(t,e)?(S(t),w(e,12,X(t))):P(t,e)?(S(t),"{"===i?Q(t,e)||r:w(e,11,K(t))):(8===n&&_(9,l(),0),e.braceNest=0,e.inLinked=!1,tt(t,e))}}function tt(t,e){let n={type:14};if(e.braceNest>0)return Q(t,e)||x(e);if(e.inLinked)return J(t,e)||x(e);const r=t.currentChar();switch(r){case"{":return Q(t,e)||x(e);case"}":return _(5,l(),0),t.next(),w(e,3,"}");case"@":return J(t,e)||x(e);default:if(L(t))return n=w(e,1,Z(t)),e.braceNest=0,e.inLinked=!1,n;if(D(t))return w(e,0,q(t));if("%"===r)return t.next(),w(e,4,"%");break}return n}function et(){const{currentType:t,offset:e,startLoc:n,endLoc:i}=v;return v.lastType=t,v.lastOffset=e,v.lastStartLoc=n,v.lastEndLoc=i,v.offset=s(),v.startLoc=l(),r.currentChar()===f?w(v,14):tt(r,v)}return{nextToken:et,currentOffset:s,currentPosition:l,context:b}}const b="parser",y=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function _(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const t=parseInt(e||n,16);return t<=55295||t>=57344?String.fromCodePoint(t):"ï¿½"}}}function w(t={}){const e=!1!==t.location,{onError:n}=t;function s(t,e,r,s,...o){const c=t.currentPosition();if(c.offset+=s,c.column+=s,n){const t=a(r,c),s=i(e,t,{domain:b,args:o});n(s)}}function o(t,n,r){const i={type:t,start:n,end:n};return e&&(i.loc={start:r,end:r}),i}function c(t,n,r,i){t.end=n,i&&(t.type=i),e&&t.loc&&(t.loc.end=r)}function l(t,e){const n=t.context(),r=o(3,n.offset,n.startLoc);return r.value=e,c(r,t.currentOffset(),t.currentPosition()),r}function u(t,e){const n=t.context(),{lastOffset:r,lastStartLoc:i}=n,s=o(5,r,i);return s.index=parseInt(e,10),t.nextToken(),c(s,t.currentOffset(),t.currentPosition()),s}function h(t,e){const n=t.context(),{lastOffset:r,lastStartLoc:i}=n,s=o(4,r,i);return s.key=e,t.nextToken(),c(s,t.currentOffset(),t.currentPosition()),s}function d(t,e){const n=t.context(),{lastOffset:r,lastStartLoc:i}=n,s=o(9,r,i);return s.value=e.replace(y,_),t.nextToken(),c(s,t.currentOffset(),t.currentPosition()),s}function p(t){const e=t.nextToken(),n=t.context(),{lastOffset:r,lastStartLoc:i}=n,a=o(8,r,i);return 12!==e.type?(s(t,11,n.lastStartLoc,0),a.value="",c(a,r,i),{nextConsumeToken:e,node:a}):(null==e.value&&s(t,13,n.lastStartLoc,0,x(e)),a.value=e.value||"",c(a,t.currentOffset(),t.currentPosition()),{node:a})}function f(t,e){const n=t.context(),r=o(7,n.offset,n.startLoc);return r.value=e,c(r,t.currentOffset(),t.currentPosition()),r}function m(t){const e=t.context(),n=o(6,e.offset,e.startLoc);let r=t.nextToken();if(9===r.type){const e=p(t);n.modifier=e.node,r=e.nextConsumeToken||t.nextToken()}switch(10!==r.type&&s(t,13,e.lastStartLoc,0,x(r)),r=t.nextToken(),2===r.type&&(r=t.nextToken()),r.type){case 11:null==r.value&&s(t,13,e.lastStartLoc,0,x(r)),n.key=f(t,r.value||"");break;case 5:null==r.value&&s(t,13,e.lastStartLoc,0,x(r)),n.key=h(t,r.value||"");break;case 6:null==r.value&&s(t,13,e.lastStartLoc,0,x(r)),n.key=u(t,r.value||"");break;case 7:null==r.value&&s(t,13,e.lastStartLoc,0,x(r)),n.key=d(t,r.value||"");break;default:s(t,12,e.lastStartLoc,0);const i=t.context(),a=o(7,i.offset,i.startLoc);return a.value="",c(a,i.offset,i.startLoc),n.key=a,c(n,i.offset,i.startLoc),{nextConsumeToken:r,node:n}}return c(n,t.currentOffset(),t.currentPosition()),{node:n}}function g(t){const e=t.context(),n=1===e.currentType?t.currentOffset():e.offset,r=1===e.currentType?e.endLoc:e.startLoc,i=o(2,n,r);i.items=[];let a=null;do{const n=a||t.nextToken();switch(a=null,n.type){case 0:null==n.value&&s(t,13,e.lastStartLoc,0,x(n)),i.items.push(l(t,n.value||""));break;case 6:null==n.value&&s(t,13,e.lastStartLoc,0,x(n)),i.items.push(u(t,n.value||""));break;case 5:null==n.value&&s(t,13,e.lastStartLoc,0,x(n)),i.items.push(h(t,n.value||""));break;case 7:null==n.value&&s(t,13,e.lastStartLoc,0,x(n)),i.items.push(d(t,n.value||""));break;case 8:const r=m(t);i.items.push(r.node),a=r.nextConsumeToken||null;break}}while(14!==e.currentType&&1!==e.currentType);const p=1===e.currentType?e.lastOffset:t.currentOffset(),f=1===e.currentType?e.lastEndLoc:t.currentPosition();return c(i,p,f),i}function w(t,e,n,r){const i=t.context();let a=0===r.items.length;const l=o(1,e,n);l.cases=[],l.cases.push(r);do{const e=g(t);a||(a=0===e.items.length),l.cases.push(e)}while(14!==i.currentType);return a&&s(t,10,n,0),c(l,t.currentOffset(),t.currentPosition()),l}function k(t){const e=t.context(),{offset:n,startLoc:r}=e,i=g(t);return 14===e.currentType?i:w(t,n,r,i)}function T(n){const i=v(n,Object(r["a"])({},t)),a=i.context(),l=o(0,a.offset,a.startLoc);return e&&l.loc&&(l.loc.source=n),l.body=k(i),14!==a.currentType&&s(i,13,a.lastStartLoc,0,n[a.offset]||""),c(l,i.currentOffset(),i.currentPosition()),l}return{parse:T}}function x(t){if(14===t.type)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"â¦":e}function k(t,e={}){const n={ast:t,helpers:new Set},r=()=>n,i=t=>(n.helpers.add(t),t);return{context:r,helper:i}}function T(t,e){for(let n=0;n<t.length;n++)S(t[n],e)}function S(t,e){switch(t.type){case 1:T(t.cases,e),e.helper("plural");break;case 2:T(t.items,e);break;case 6:const n=t;S(n.key,e),e.helper("linked");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function O(t,e={}){const n=k(t);n.helper("normalize"),t.body&&S(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function C(t,e){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=e,o={source:t.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0},a=()=>o;function c(t,e){o.code+=t}function l(t,e=!0){const n=e?i:"";c(s?n+"  ".repeat(t):n)}function u(t=!0){const e=++o.indentLevel;t&&l(e)}function h(t=!0){const e=--o.indentLevel;t&&l(e)}function d(){l(o.indentLevel)}const p=t=>"_"+t,f=()=>o.needIndent;return{context:a,push:c,indent:u,deindent:h,newline:d,helper:p,needIndent:f}}function E(t,e){const{helper:n}=t;t.push(n("linked")+"("),j(t,e.key),e.modifier&&(t.push(", "),j(t,e.modifier)),t.push(")")}function A(t,e){const{helper:n,needIndent:r}=t;t.push(n("normalize")+"(["),t.indent(r());const i=e.items.length;for(let s=0;s<i;s++){if(j(t,e.items[s]),s===i-1)break;t.push(", ")}t.deindent(r()),t.push("])")}function M(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(n("plural")+"(["),t.indent(r());const i=e.cases.length;for(let n=0;n<i;n++){if(j(t,e.cases[n]),n===i-1)break;t.push(", ")}t.deindent(r()),t.push("])")}}function N(t,e){e.body?j(t,e.body):t.push("null")}function j(t,e){const{helper:n}=t;switch(e.type){case 0:N(t,e);break;case 1:M(t,e);break;case 2:A(t,e);break;case 6:E(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:0}}const I=(t,e={})=>{const n=Object(r["q"])(e.mode)?e.mode:"normal",i=Object(r["q"])(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,o=null!=e.breakLineCode?e.breakLineCode:"arrow"===n?";":"\n",a=e.needIndent?e.needIndent:"arrow"!==n,c=t.helpers||[],l=C(t,{mode:n,filename:i,sourceMap:s,breakLineCode:o,needIndent:a});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),c.length>0&&(l.push(`const { ${c.map(t=>`${t}: _${t}`).join(", ")} } = ctx`),l.newline()),l.push("return "),j(l,t),l.deindent(a),l.push("}");const{code:u,map:h}=l.context();return{ast:t,code:u,map:h?h.toJSON():void 0}};function P(t,e={}){const n=Object(r["a"])({},e),i=w(n),s=i.parse(t);return O(s,n),I(s,n)}
/*!
  * @intlify/message-resolver v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const L=Object.prototype.hasOwnProperty;function D(t,e){return L.call(t,e)}const F=t=>null!==t&&"object"===typeof t,B=[];B[0]={["w"]:[0],["i"]:[3,0],["["]:[4],["o"]:[7]},B[1]={["w"]:[1],["."]:[2],["["]:[4],["o"]:[7]},B[2]={["w"]:[2],["i"]:[3,0],["0"]:[3,0]},B[3]={["i"]:[3,0],["0"]:[3,0],["w"]:[1,1],["."]:[2,1],["["]:[4,1],["o"]:[7,1]},B[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],["o"]:8,["l"]:[4,0]},B[5]={["'"]:[4,0],["o"]:8,["l"]:[5,0]},B[6]={['"']:[4,0],["o"]:8,["l"]:[6,0]};const R=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function V(t){return R.test(t)}function H(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function q(t){if(void 0===t||null===t)return"o";const e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function z(t){const e=t.trim();return("0"!==t.charAt(0)||!isNaN(parseInt(t)))&&(V(e)?H(e):"*"+e)}function W(t){const e=[];let n,r,i,s,o,a,c,l=-1,u=0,h=0;const d=[];function p(){const e=t[l+1];if(5===u&&"'"===e||6===u&&'"'===e)return l++,i="\\"+e,d[0](),!0}d[0]=()=>{void 0===r?r=i:r+=i},d[1]=()=>{void 0!==r&&(e.push(r),r=void 0)},d[2]=()=>{d[0](),h++},d[3]=()=>{if(h>0)h--,u=4,d[0]();else{if(h=0,void 0===r)return!1;if(r=z(r),!1===r)return!1;d[1]()}};while(null!==u)if(l++,n=t[l],"\\"!==n||!p()){if(s=q(n),c=B[u],o=c[s]||c["l"]||8,8===o)return;if(u=o[0],void 0!==o[1]&&(a=d[o[1]],a&&(i=n,!1===a())))return;if(7===u)return e}}const G=new Map;function U(t,e){if(!F(t))return null;let n=G.get(e);if(n||(n=W(e),n&&G.set(e,n)),!n)return null;const r=n.length;let i=t,s=0;while(s<r){const t=i[n[s]];if(void 0===t)return null;i=t,s++}return i}function Y(t){if(!F(t))return t;for(const e in t)if(D(t,e))if(e.includes(".")){const n=e.split("."),r=n.length-1;let i=t;for(let t=0;t<r;t++)n[t]in i||(i[n[t]]={}),i=i[n[t]];i[n[r]]=t[e],delete t[e],F(i[n[r]])&&Y(i[n[r]])}else F(t[e])&&Y(t[e]);return t}
/*!
  * @intlify/runtime v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const $=t=>t,X=t=>"",K="text",Z=t=>0===t.length?"":t.join(""),Q=r["s"];function J(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0}function tt(t){const e=Object(r["m"])(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Object(r["m"])(t.named.count)||Object(r["m"])(t.named.n))?Object(r["m"])(t.named.count)?t.named.count:Object(r["m"])(t.named.n)?t.named.n:e:e}function et(t,e){e.count||(e.count=t),e.n||(e.n=t)}function nt(t={}){const e=t.locale,n=tt(t),i=Object(r["n"])(t.pluralRules)&&Object(r["q"])(e)&&Object(r["l"])(t.pluralRules[e])?t.pluralRules[e]:J,s=Object(r["n"])(t.pluralRules)&&Object(r["q"])(e)&&Object(r["l"])(t.pluralRules[e])?J:void 0,o=t=>t[i(n,t.length,s)],a=t.list||[],c=t=>a[t],l=t.named||{};Object(r["m"])(t.pluralIndex)&&et(n,l);const u=t=>l[t];function h(e){const n=Object(r["l"])(t.messages)?t.messages(e):!!Object(r["n"])(t.messages)&&t.messages[e];return n||(t.parent?t.parent.message(e):X)}const d=e=>t.modifiers?t.modifiers[e]:$,p=Object(r["o"])(t.processor)&&Object(r["l"])(t.processor.normalize)?t.processor.normalize:Z,f=Object(r["o"])(t.processor)&&Object(r["l"])(t.processor.interpolate)?t.processor.interpolate:Q,m=Object(r["o"])(t.processor)&&Object(r["q"])(t.processor.type)?t.processor.type:K,g={["list"]:c,["named"]:u,["plural"]:o,["linked"]:(t,e)=>{const n=h(t)(g);return Object(r["q"])(e)?d(e)(n):n},["message"]:h,["type"]:m,["interpolate"]:f,["normalize"]:p};return g}
/*!
  * @intlify/devtools-if v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const rt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};
/*!
  * @intlify/core-base v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let it=null;function st(t){it=t}function ot(t,e,n){it&&it.emit(rt.I18nInit,{timestamp:Date.now(),i18n:t,version:e,meta:n})}const at=ct(rt.FunctionTranslate);function ct(t){return e=>it&&it.emit(t,e)}const lt="9.1.6",ut=-1,ht="";function dt(){return{upper:t=>Object(r["q"])(t)?t.toUpperCase():t,lower:t=>Object(r["q"])(t)?t.toLowerCase():t,capitalize:t=>Object(r["q"])(t)?`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`:t}}let pt;function ft(t){pt=t}let mt=null;const gt=t=>{mt=t},vt=()=>mt;let bt=0;function yt(t={}){const e=Object(r["q"])(t.version)?t.version:lt,n=Object(r["q"])(t.locale)?t.locale:"en-US",i=Object(r["h"])(t.fallbackLocale)||Object(r["o"])(t.fallbackLocale)||Object(r["q"])(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:n,s=Object(r["o"])(t.messages)?t.messages:{[n]:{}},o=Object(r["o"])(t.datetimeFormats)?t.datetimeFormats:{[n]:{}},a=Object(r["o"])(t.numberFormats)?t.numberFormats:{[n]:{}},c=Object(r["a"])({},t.modifiers||{},dt()),l=t.pluralRules||{},u=Object(r["l"])(t.missing)?t.missing:null,h=!Object(r["i"])(t.missingWarn)&&!Object(r["p"])(t.missingWarn)||t.missingWarn,d=!Object(r["i"])(t.fallbackWarn)&&!Object(r["p"])(t.fallbackWarn)||t.fallbackWarn,p=!!t.fallbackFormat,f=!!t.unresolving,m=Object(r["l"])(t.postTranslation)?t.postTranslation:null,g=Object(r["o"])(t.processor)?t.processor:null,v=!Object(r["i"])(t.warnHtmlMessage)||t.warnHtmlMessage,b=!!t.escapeParameter,y=Object(r["l"])(t.messageCompiler)?t.messageCompiler:pt,_=Object(r["l"])(t.onWarn)?t.onWarn:r["t"],w=t,x=Object(r["n"])(w.__datetimeFormatters)?w.__datetimeFormatters:new Map,k=Object(r["n"])(w.__numberFormatters)?w.__numberFormatters:new Map,T=Object(r["n"])(w.__meta)?w.__meta:{};bt++;const S={version:e,cid:bt,locale:n,fallbackLocale:i,messages:s,datetimeFormats:o,numberFormats:a,modifiers:c,pluralRules:l,missing:u,missingWarn:h,fallbackWarn:d,fallbackFormat:p,unresolving:f,postTranslation:m,processor:g,warnHtmlMessage:v,escapeParameter:b,messageCompiler:y,onWarn:_,__datetimeFormatters:x,__numberFormatters:k,__meta:T};return __INTLIFY_PROD_DEVTOOLS__&&ot(S,e,T),S}function _t(t,e,n,i,s){const{missing:o,onWarn:a}=t;if(null!==o){const i=o(t,n,e,s);return Object(r["q"])(i)?i:e}return e}function wt(t,e,n){const i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let t=[n];while(Object(r["h"])(t))t=xt(s,t,e);const o=Object(r["h"])(e)?e:Object(r["o"])(e)?e["default"]?e["default"]:null:e;t=Object(r["q"])(o)?[o]:o,Object(r["h"])(t)&&xt(s,t,!1),i.__localeChainCache.set(n,s)}return s}function xt(t,e,n){let i=!0;for(let s=0;s<e.length&&Object(r["i"])(i);s++){const o=e[s];Object(r["q"])(o)&&(i=kt(t,e[s],n))}return i}function kt(t,e,n){let r;const i=e.split("-");do{const e=i.join("-");r=Tt(t,e,n),i.splice(-1,1)}while(i.length&&!0===r);return r}function Tt(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i="!"!==e[e.length-1];const s=e.replace(/!/g,"");t.push(s),(Object(r["h"])(n)||Object(r["o"])(n))&&n[s]&&(i=n[s])}return i}function St(t,e,n){const r=t;r.__localeChainCache=new Map,wt(t,n,e)}const Ot=t=>t;let Ct=Object.create(null);function Et(t,e={}){{const n=e.onCacheKey||Ot,r=n(t),i=Ct[r];if(i)return i;let o=!1;const a=e.onError||s;e.onError=t=>{o=!0,a(t)};const{code:c}=P(t,e),l=new Function("return "+c)();return o?l:Ct[r]=l}}function At(t){return i(t,null,void 0)}const Mt=()=>"",Nt=t=>Object(r["l"])(t);function jt(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:s,fallbackLocale:o,messages:a}=t,[c,l]=Ft(...e),u=Object(r["i"])(l.missingWarn)?l.missingWarn:t.missingWarn,h=Object(r["i"])(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,d=Object(r["i"])(l.escapeParameter)?l.escapeParameter:t.escapeParameter,p=!!l.resolvedMessage,f=Object(r["q"])(l.default)||Object(r["i"])(l.default)?Object(r["i"])(l.default)?c:l.default:n?c:"",m=n||""!==f,g=Object(r["q"])(l.locale)?l.locale:t.locale;d&&It(l);let[v,b,y]=p?[c,g,a[g]||{}]:Pt(t,c,g,o,h,u),_=c;if(p||Object(r["q"])(v)||Nt(v)||m&&(v=f,_=v),!p&&(!Object(r["q"])(v)&&!Nt(v)||!Object(r["q"])(b)))return s?ut:c;let w=!1;const x=()=>{w=!0},k=Nt(v)?v:Lt(t,c,b,v,_,x);if(w)return v;const T=Rt(t,b,y,l),S=nt(T),O=Dt(t,k,S),C=i?i(O):O;if(__INTLIFY_PROD_DEVTOOLS__){const e={timestamp:Date.now(),key:Object(r["q"])(c)?c:Nt(v)?v.key:"",locale:b||(Nt(v)?v.locale:""),format:Object(r["q"])(v)?v:Nt(v)?v.source:"",message:C};e.meta=Object(r["a"])({},t.__meta,vt()||{}),at(e)}return C}function It(t){Object(r["h"])(t.list)?t.list=t.list.map(t=>Object(r["q"])(t)?Object(r["c"])(t):t):Object(r["n"])(t.named)&&Object.keys(t.named).forEach(e=>{Object(r["q"])(t.named[e])&&(t.named[e]=Object(r["c"])(t.named[e]))})}function Pt(t,e,n,i,s,o){const{messages:a,onWarn:c}=t,l=wt(t,i,n);let u,h={},d=null,p=n,f=null;const m="translate";for(let g=0;g<l.length;g++){u=f=l[g],h=a[u]||{};if(null===(d=U(h,e))&&(d=h[e]),Object(r["q"])(d)||Object(r["l"])(d))break;const n=_t(t,e,u,o,m);n!==e&&(d=n),p=f}return[d,u,h]}function Lt(t,e,n,r,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Nt(r)){const t=r;return t.locale=t.locale||n,t.key=t.key||e,t}const c=o(r,Bt(t,n,i,r,a,s));return c.locale=n,c.key=e,c.source=r,c}function Dt(t,e,n){const r=e(n);return r}function Ft(...t){const[e,n,i]=t,s={};if(!Object(r["q"])(e)&&!Object(r["m"])(e)&&!Nt(e))throw At(14);const o=Object(r["m"])(e)?String(e):(Nt(e),e);return Object(r["m"])(n)?s.plural=n:Object(r["q"])(n)?s.default=n:Object(r["o"])(n)&&!Object(r["k"])(n)?s.named=n:Object(r["h"])(n)&&(s.list=n),Object(r["m"])(i)?s.plural=i:Object(r["q"])(i)?s.default=i:Object(r["o"])(i)&&Object(r["a"])(s,i),[o,s]}function Bt(t,e,n,i,s,o){return{warnHtmlMessage:s,onError:t=>{throw o&&o(t),t},onCacheKey:t=>Object(r["e"])(e,n,t)}}function Rt(t,e,n,i){const{modifiers:s,pluralRules:o}=t,a=i=>{const s=U(n,i);if(Object(r["q"])(s)){let n=!1;const r=()=>{n=!0},o=Lt(t,i,e,s,i,r);return n?Mt:o}return Nt(s)?s:Mt},c={locale:e,modifiers:s,pluralRules:o,messages:a};return t.processor&&(c.processor=t.processor),i.list&&(c.list=i.list),i.named&&(c.named=i.named),Object(r["m"])(i.plural)&&(c.pluralIndex=i.plural),c}const Vt="undefined"!==typeof Intl;Vt&&Intl.DateTimeFormat,Vt&&Intl.NumberFormat;function Ht(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:s,onWarn:o}=t,{__datetimeFormatters:a}=t;const[c,l,u,h]=qt(...e),d=Object(r["i"])(u.missingWarn)?u.missingWarn:t.missingWarn,p=(Object(r["i"])(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,!!u.part),f=Object(r["q"])(u.locale)?u.locale:t.locale,m=wt(t,s,f);if(!Object(r["q"])(c)||""===c)return new Intl.DateTimeFormat(f).format(l);let g,v={},b=null,y=f,_=null;const w="datetime format";for(let T=0;T<m.length;T++){if(g=_=m[T],v=n[g]||{},b=v[c],Object(r["o"])(b))break;_t(t,c,g,d,w),y=_}if(!Object(r["o"])(b)||!Object(r["q"])(g))return i?ut:c;let x=`${g}__${c}`;Object(r["k"])(h)||(x=`${x}__${JSON.stringify(h)}`);let k=a.get(x);return k||(k=new Intl.DateTimeFormat(g,Object(r["a"])({},b,h)),a.set(x,k)),p?k.formatToParts(l):k.format(l)}function qt(...t){const[e,n,i,s]=t;let o,a={},c={};if(Object(r["q"])(e)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(e))throw At(16);o=new Date(e);try{o.toISOString()}catch(l){throw At(16)}}else if(Object(r["j"])(e)){if(isNaN(e.getTime()))throw At(15);o=e}else{if(!Object(r["m"])(e))throw At(14);o=e}return Object(r["q"])(n)?a.key=n:Object(r["o"])(n)&&(a=n),Object(r["q"])(i)?a.locale=i:Object(r["o"])(i)&&(c=i),Object(r["o"])(s)&&(c=s),[a.key||"",o,a,c]}function zt(t,e,n){const r=t;for(const i in n){const t=`${e}__${i}`;r.__datetimeFormatters.has(t)&&r.__datetimeFormatters.delete(t)}}function Wt(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:s,onWarn:o}=t,{__numberFormatters:a}=t;const[c,l,u,h]=Gt(...e),d=Object(r["i"])(u.missingWarn)?u.missingWarn:t.missingWarn,p=(Object(r["i"])(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,!!u.part),f=Object(r["q"])(u.locale)?u.locale:t.locale,m=wt(t,s,f);if(!Object(r["q"])(c)||""===c)return new Intl.NumberFormat(f).format(l);let g,v={},b=null,y=f,_=null;const w="number format";for(let T=0;T<m.length;T++){if(g=_=m[T],v=n[g]||{},b=v[c],Object(r["o"])(b))break;_t(t,c,g,d,w),y=_}if(!Object(r["o"])(b)||!Object(r["q"])(g))return i?ut:c;let x=`${g}__${c}`;Object(r["k"])(h)||(x=`${x}__${JSON.stringify(h)}`);let k=a.get(x);return k||(k=new Intl.NumberFormat(g,Object(r["a"])({},b,h)),a.set(x,k)),p?k.formatToParts(l):k.format(l)}function Gt(...t){const[e,n,i,s]=t;let o={},a={};if(!Object(r["m"])(e))throw At(14);const c=e;return Object(r["q"])(n)?o.key=n:Object(r["o"])(n)&&(o=n),Object(r["q"])(i)?o.locale=i:Object(r["o"])(i)&&(a=i),Object(r["o"])(s)&&(a=s),[o.key||"",c,o,a]}function Ut(t,e,n){const r=t;for(const i in n){const t=`${e}__${i}`;r.__numberFormatters.has(t)&&r.__numberFormatters.delete(t)}}var Yt=n("7a23"),$t=n("3f4e");
/*!
  * @intlify/vue-devtools v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
const Xt={["vue-devtools-plugin-vue-i18n"]:"Vue I18n devtools",["vue-i18n-resource-inspector"]:"I18n Resources",["vue-i18n-timeline"]:"Vue I18n"},Kt={["vue-i18n-resource-inspector"]:"Search for scopes ..."},Zt={["vue-i18n-timeline"]:16764185},Qt="9.1.6";function Jt(){let t=!1;"boolean"!==typeof __VUE_I18N_FULL_INSTALL__&&(t=!0,Object(r["f"])().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!==typeof __VUE_I18N_LEGACY_API__&&(t=!0,Object(r["f"])().__VUE_I18N_LEGACY_API__=!0),"boolean"!==typeof __VUE_I18N_PROD_DEVTOOLS__&&(t=!0,Object(r["f"])().__VUE_I18N_PROD_DEVTOOLS__=!1),"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(Object(r["f"])().__INTLIFY_PROD_DEVTOOLS__=!1)}function te(t,...e){return i(t,null,void 0)}const ee="__INTLIFY_META__",ne=Object(r["r"])("__transrateVNode"),re=Object(r["r"])("__datetimeParts"),ie=Object(r["r"])("__numberParts"),se=Object(r["r"])("__enableEmitter"),oe=Object(r["r"])("__disableEmitter"),ae=Object(r["r"])("__setPluralRules");Object(r["r"])("__intlifyMeta");let ce=0;function le(t){return(e,n,r,i)=>t(n,r,Object(Yt["getCurrentInstance"])()||void 0,i)}function ue(t,e){const{messages:n,__i18n:i}=e,s=Object(r["o"])(n)?n:Object(r["h"])(i)?{}:{[t]:{}};if(Object(r["h"])(i)&&i.forEach(({locale:t,resource:e})=>{t?(s[t]=s[t]||{},de(e,s[t])):de(e,s)}),e.flatJson)for(const o in s)Object(r["g"])(s,o)&&Y(s[o]);return s}const he=t=>!Object(r["n"])(t)||Object(r["h"])(t);function de(t,e){if(he(t)||he(e))throw te(20);for(const n in t)Object(r["g"])(t,n)&&(he(t[n])||he(e[n])?e[n]=t[n]:de(t[n],e[n]))}const pe=()=>{const t=Object(Yt["getCurrentInstance"])();return t&&t.type[ee]?{[ee]:t.type[ee]}:null};function fe(t={}){const{__root:e}=t,n=void 0===e;let i=!Object(r["i"])(t.inheritLocale)||t.inheritLocale;const s=Object(Yt["ref"])(e&&i?e.locale.value:Object(r["q"])(t.locale)?t.locale:"en-US"),o=Object(Yt["ref"])(e&&i?e.fallbackLocale.value:Object(r["q"])(t.fallbackLocale)||Object(r["h"])(t.fallbackLocale)||Object(r["o"])(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:s.value),a=Object(Yt["ref"])(ue(s.value,t)),c=Object(Yt["ref"])(Object(r["o"])(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),l=Object(Yt["ref"])(Object(r["o"])(t.numberFormats)?t.numberFormats:{[s.value]:{}});let u=e?e.missingWarn:!Object(r["i"])(t.missingWarn)&&!Object(r["p"])(t.missingWarn)||t.missingWarn,h=e?e.fallbackWarn:!Object(r["i"])(t.fallbackWarn)&&!Object(r["p"])(t.fallbackWarn)||t.fallbackWarn,d=e?e.fallbackRoot:!Object(r["i"])(t.fallbackRoot)||t.fallbackRoot,p=!!t.fallbackFormat,f=Object(r["l"])(t.missing)?t.missing:null,m=Object(r["l"])(t.missing)?le(t.missing):null,g=Object(r["l"])(t.postTranslation)?t.postTranslation:null,v=!Object(r["i"])(t.warnHtmlMessage)||t.warnHtmlMessage,b=!!t.escapeParameter;const y=e?e.modifiers:Object(r["o"])(t.modifiers)?t.modifiers:{};let _,w=t.pluralRules||e&&e.pluralRules;function x(){return yt({version:Qt,locale:s.value,fallbackLocale:o.value,messages:a.value,datetimeFormats:c.value,numberFormats:l.value,modifiers:y,pluralRules:w,missing:null===m?void 0:m,missingWarn:u,fallbackWarn:h,fallbackFormat:p,unresolving:!0,postTranslation:null===g?void 0:g,warnHtmlMessage:v,escapeParameter:b,__datetimeFormatters:Object(r["o"])(_)?_.__datetimeFormatters:void 0,__numberFormatters:Object(r["o"])(_)?_.__numberFormatters:void 0,__v_emitter:Object(r["o"])(_)?_.__v_emitter:void 0,__meta:{framework:"vue"}})}function k(){return[s.value,o.value,a.value,c.value,l.value]}_=x(),St(_,s.value,o.value);const T=Object(Yt["computed"])({get:()=>s.value,set:t=>{s.value=t,_.locale=s.value}}),S=Object(Yt["computed"])({get:()=>o.value,set:t=>{o.value=t,_.fallbackLocale=o.value,St(_,s.value,t)}}),O=Object(Yt["computed"])(()=>a.value),C=Object(Yt["computed"])(()=>c.value),E=Object(Yt["computed"])(()=>l.value);function A(){return Object(r["l"])(g)?g:null}function M(t){g=t,_.postTranslation=t}function N(){return f}function j(t){null!==t&&(m=le(t)),f=t,_.missing=m}function I(t,n,i,s,o,a){let c;if(k(),__INTLIFY_PROD_DEVTOOLS__)try{gt(pe()),c=t(_)}finally{gt(null)}else c=t(_);if(Object(r["m"])(c)&&c===ut){const[t,r]=n();return e&&d?s(e):o(t)}if(a(c))return c;throw te(14)}function P(...t){return I(e=>jt(e,...t),()=>Ft(...t),"translate",e=>e.t(...t),t=>t,t=>Object(r["q"])(t))}function L(...t){const[e,n,i]=t;if(i&&!Object(r["n"])(i))throw te(15);return P(e,n,Object(r["a"])({resolvedMessage:!0},i||{}))}function D(...t){return I(e=>Ht(e,...t),()=>qt(...t),"datetime format",e=>e.d(...t),()=>ht,t=>Object(r["q"])(t))}function F(...t){return I(e=>Wt(e,...t),()=>Gt(...t),"number format",e=>e.n(...t),()=>ht,t=>Object(r["q"])(t))}function B(t){return t.map(t=>Object(r["q"])(t)?Object(Yt["createVNode"])(Yt["Text"],null,t,0):t)}const R=t=>t,V={normalize:B,interpolate:R,type:"vnode"};function H(...t){return I(e=>{let n;const r=e;try{r.processor=V,n=jt(r,...t)}finally{r.processor=null}return n},()=>Ft(...t),"translate",e=>e[ne](...t),t=>[Object(Yt["createVNode"])(Yt["Text"],null,t,0)],t=>Object(r["h"])(t))}function q(...t){return I(e=>Wt(e,...t),()=>Gt(...t),"number format",e=>e[ie](...t),()=>[],t=>Object(r["q"])(t)||Object(r["h"])(t))}function z(...t){return I(e=>Ht(e,...t),()=>qt(...t),"datetime format",e=>e[re](...t),()=>[],t=>Object(r["q"])(t)||Object(r["h"])(t))}function W(t){w=t,_.pluralRules=w}function G(t,e){const n=Object(r["q"])(e)?e:s.value,i=X(n);return null!==U(i,t)}function Y(t){let e=null;const n=wt(_,o.value,s.value);for(let r=0;r<n.length;r++){const i=a.value[n[r]]||{},s=U(i,t);if(null!=s){e=s;break}}return e}function $(t){const n=Y(t);return null!=n?n:e&&e.tm(t)||{}}function X(t){return a.value[t]||{}}function K(t,e){a.value[t]=e,_.messages=a.value}function Z(t,e){a.value[t]=a.value[t]||{},de(e,a.value[t]),_.messages=a.value}function Q(t){return c.value[t]||{}}function J(t,e){c.value[t]=e,_.datetimeFormats=c.value,zt(_,t,e)}function tt(t,e){c.value[t]=Object(r["a"])(c.value[t]||{},e),_.datetimeFormats=c.value,zt(_,t,e)}function et(t){return l.value[t]||{}}function nt(t,e){l.value[t]=e,_.numberFormats=l.value,Ut(_,t,e)}function rt(t,e){l.value[t]=Object(r["a"])(l.value[t]||{},e),_.numberFormats=l.value,Ut(_,t,e)}ce++,e&&(Object(Yt["watch"])(e.locale,t=>{i&&(s.value=t,_.locale=t,St(_,s.value,o.value))}),Object(Yt["watch"])(e.fallbackLocale,t=>{i&&(o.value=t,_.fallbackLocale=t,St(_,s.value,o.value))}));const it={id:ce,locale:T,fallbackLocale:S,get inheritLocale(){return i},set inheritLocale(t){i=t,t&&e&&(s.value=e.locale.value,o.value=e.fallbackLocale.value,St(_,s.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:O,datetimeFormats:C,numberFormats:E,get modifiers(){return y},get pluralRules(){return w||{}},get isGlobal(){return n},get missingWarn(){return u},set missingWarn(t){u=t,_.missingWarn=u},get fallbackWarn(){return h},set fallbackWarn(t){h=t,_.fallbackWarn=h},get fallbackRoot(){return d},set fallbackRoot(t){d=t},get fallbackFormat(){return p},set fallbackFormat(t){p=t,_.fallbackFormat=p},get warnHtmlMessage(){return v},set warnHtmlMessage(t){v=t,_.warnHtmlMessage=t},get escapeParameter(){return b},set escapeParameter(t){b=t,_.escapeParameter=t},t:P,rt:L,d:D,n:F,te:G,tm:$,getLocaleMessage:X,setLocaleMessage:K,mergeLocaleMessage:Z,getDateTimeFormat:Q,setDateTimeFormat:J,mergeDateTimeFormat:tt,getNumberFormat:et,setNumberFormat:nt,mergeNumberFormat:rt,getPostTranslationHandler:A,setPostTranslationHandler:M,getMissingHandler:N,setMissingHandler:j,[ne]:H,[ie]:q,[re]:z,[ae]:W};return it}function me(t){const e=Object(r["q"])(t.locale)?t.locale:"en-US",n=Object(r["q"])(t.fallbackLocale)||Object(r["h"])(t.fallbackLocale)||Object(r["o"])(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:e,i=Object(r["l"])(t.missing)?t.missing:void 0,s=!Object(r["i"])(t.silentTranslationWarn)&&!Object(r["p"])(t.silentTranslationWarn)||!t.silentTranslationWarn,o=!Object(r["i"])(t.silentFallbackWarn)&&!Object(r["p"])(t.silentFallbackWarn)||!t.silentFallbackWarn,a=!Object(r["i"])(t.fallbackRoot)||t.fallbackRoot,c=!!t.formatFallbackMessages,l=Object(r["o"])(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,h=Object(r["l"])(t.postTranslation)?t.postTranslation:void 0,d=!Object(r["q"])(t.warnHtmlInMessage)||"off"!==t.warnHtmlInMessage,p=!!t.escapeParameterHtml,f=!Object(r["i"])(t.sync)||t.sync;let m=t.messages;if(Object(r["o"])(t.sharedMessages)){const e=t.sharedMessages,n=Object.keys(e);m=n.reduce((t,n)=>{const i=t[n]||(t[n]={});return Object(r["a"])(i,e[n]),t},m||{})}const{__i18n:g,__root:v}=t,b=t.datetimeFormats,y=t.numberFormats,_=t.flatJson;return{locale:e,fallbackLocale:n,messages:m,flatJson:_,datetimeFormats:b,numberFormats:y,missing:i,missingWarn:s,fallbackWarn:o,fallbackRoot:a,fallbackFormat:c,modifiers:l,pluralRules:u,postTranslation:h,warnHtmlMessage:d,escapeParameter:p,inheritLocale:f,__i18n:g,__root:v}}function ge(t={}){const e=fe(me(t)),n={id:e.id,get locale(){return e.locale.value},set locale(t){e.locale.value=t},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(t){e.fallbackLocale.value=t},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(t){},get missing(){return e.getMissingHandler()},set missing(t){e.setMissingHandler(t)},get silentTranslationWarn(){return Object(r["i"])(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(t){e.missingWarn=Object(r["i"])(t)?!t:t},get silentFallbackWarn(){return Object(r["i"])(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(t){e.fallbackWarn=Object(r["i"])(t)?!t:t},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(t){e.fallbackFormat=t},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(t){e.setPostTranslationHandler(t)},get sync(){return e.inheritLocale},set sync(t){e.inheritLocale=t},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(t){e.warnHtmlMessage="off"!==t},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(t){e.escapeParameter=t},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(t){},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...t){const[n,i,s]=t,o={};let a=null,c=null;if(!Object(r["q"])(n))throw te(15);const l=n;return Object(r["q"])(i)?o.locale=i:Object(r["h"])(i)?a=i:Object(r["o"])(i)&&(c=i),Object(r["h"])(s)?a=s:Object(r["o"])(s)&&(c=s),e.t(l,a||c||{},o)},rt(...t){return e.rt(...t)},tc(...t){const[n,i,s]=t,o={plural:1};let a=null,c=null;if(!Object(r["q"])(n))throw te(15);const l=n;return Object(r["q"])(i)?o.locale=i:Object(r["m"])(i)?o.plural=i:Object(r["h"])(i)?a=i:Object(r["o"])(i)&&(c=i),Object(r["q"])(s)?o.locale=s:Object(r["h"])(s)?a=s:Object(r["o"])(s)&&(c=s),e.t(l,a||c||{},o)},te(t,n){return e.te(t,n)},tm(t){return e.tm(t)},getLocaleMessage(t){return e.getLocaleMessage(t)},setLocaleMessage(t,n){e.setLocaleMessage(t,n)},mergeLocaleMessage(t,n){e.mergeLocaleMessage(t,n)},d(...t){return e.d(...t)},getDateTimeFormat(t){return e.getDateTimeFormat(t)},setDateTimeFormat(t,n){e.setDateTimeFormat(t,n)},mergeDateTimeFormat(t,n){e.mergeDateTimeFormat(t,n)},n(...t){return e.n(...t)},getNumberFormat(t){return e.getNumberFormat(t)},setNumberFormat(t,n){e.setNumberFormat(t,n)},mergeNumberFormat(t,n){e.mergeNumberFormat(t,n)},getChoiceIndex(t,e){return-1},__onComponentInstanceCreated(e){const{componentInstanceCreatedListener:r}=t;r&&r(e,n)}};return n}const ve={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>"parent"===t||"global"===t,default:"parent"},i18n:{type:Object}},be={name:"i18n-t",props:Object(r["a"])({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Object(r["m"])(t)||!isNaN(t)}},ve),setup(t,e){const{slots:n,attrs:i}=e,s=t.i18n||Xe({useScope:t.scope}),o=Object.keys(n).filter(t=>"_"!==t);return()=>{const n={};t.locale&&(n.locale=t.locale),void 0!==t.plural&&(n.plural=Object(r["q"])(t.plural)?+t.plural:t.plural);const a=ye(e,o),c=s[ne](t.keypath,a,n),l=Object(r["a"])({},i);return Object(r["q"])(t.tag)||Object(r["n"])(t.tag)?Object(Yt["h"])(t.tag,l,c):Object(Yt["h"])(Yt["Fragment"],l,c)}}};function ye({slots:t},e){return 1===e.length&&"default"===e[0]?t.default?t.default():[]:e.reduce((e,n)=>{const r=t[n];return r&&(e[n]=r()),e},{})}function _e(t,e,n,i){const{slots:s,attrs:o}=e;return()=>{const e={part:!0};let a={};t.locale&&(e.locale=t.locale),Object(r["q"])(t.format)?e.key=t.format:Object(r["n"])(t.format)&&(Object(r["q"])(t.format.key)&&(e.key=t.format.key),a=Object.keys(t.format).reduce((e,i)=>n.includes(i)?Object(r["a"])({},e,{[i]:t.format[i]}):e,{}));const c=i(t.value,e,a);let l=[e.key];Object(r["h"])(c)?l=c.map((t,e)=>{const n=s[t.type];return n?n({[t.type]:t.value,index:e,parts:c}):[t.value]}):Object(r["q"])(c)&&(l=[c]);const u=Object(r["a"])({},o);return Object(r["q"])(t.tag)||Object(r["n"])(t.tag)?Object(Yt["h"])(t.tag,u,l):Object(Yt["h"])(Yt["Fragment"],u,l)}}const we=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],xe={name:"i18n-n",props:Object(r["a"])({value:{type:Number,required:!0},format:{type:[String,Object]}},ve),setup(t,e){const n=t.i18n||Xe({useScope:"parent"});return _e(t,e,we,(...t)=>n[ie](...t))}},ke=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],Te={name:"i18n-d",props:Object(r["a"])({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ve),setup(t,e){const n=t.i18n||Xe({useScope:"parent"});return _e(t,e,ke,(...t)=>n[re](...t))}};function Se(t,e){const n=t;if("composition"===t.mode)return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return null!=r?r.__composer:t.global.__composer}}function Oe(t){const e=(e,{instance:n,value:r,modifiers:i})=>{if(!n||!n.$)throw te(22);const s=Se(t,n.$);const o=Ce(r);e.textContent=s.t(...Ee(o))};return{beforeMount:e,beforeUpdate:e}}function Ce(t){if(Object(r["q"])(t))return{path:t};if(Object(r["o"])(t)){if(!("path"in t))throw te(19,"path");return t}throw te(20)}function Ee(t){const{path:e,locale:n,args:i,choice:s,plural:o}=t,a={},c=i||{};return Object(r["q"])(n)&&(a.locale=n),Object(r["m"])(s)&&(a.plural=s),Object(r["m"])(o)&&(a.plural=o),[e,c,a]}function Ae(t,e,...n){const i=Object(r["o"])(n[0])?n[0]:{},s=!!i.useI18nComponentName,o=!Object(r["i"])(i.globalInstall)||i.globalInstall;o&&(t.component(s?"i18n":be.name,be),t.component(xe.name,xe),t.component(Te.name,Te)),t.directive("t",Oe(e))}const Me="vue-i18n: composer properties";let Ne;async function je(t,e){return new Promise((n,r)=>{try{Object($t["setupDevtoolsPlugin"])({id:"vue-devtools-plugin-vue-i18n",label:Xt["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[Me],app:t},r=>{Ne=r,r.on.visitComponentTree(({componentInstance:t,treeNode:n})=>{Ie(t,n,e)}),r.on.inspectComponent(({componentInstance:t,instanceData:n})=>{t.vnode.el.__VUE_I18N__&&n&&("legacy"===e.mode?t.vnode.el.__VUE_I18N__!==e.global.__composer&&Pe(n,t.vnode.el.__VUE_I18N__):Pe(n,t.vnode.el.__VUE_I18N__))}),r.addInspector({id:"vue-i18n-resource-inspector",label:Xt["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:Kt["vue-i18n-resource-inspector"]}),r.on.getInspectorTree(n=>{n.app===t&&"vue-i18n-resource-inspector"===n.inspectorId&&Ve(n,e)}),r.on.getInspectorState(n=>{n.app===t&&"vue-i18n-resource-inspector"===n.inspectorId&&qe(n,e)}),r.on.editInspectorState(n=>{n.app===t&&"vue-i18n-resource-inspector"===n.inspectorId&&Ge(n,e)}),r.addTimelineLayer({id:"vue-i18n-timeline",label:Xt["vue-i18n-timeline"],color:Zt["vue-i18n-timeline"]}),n(!0)})}catch(i){console.error(i),r(!1)}})}function Ie(t,e,n){const r="composition"===n.mode?n.global:n.global.__composer;if(t&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==r){const n=t.type.name||t.type.displayName||t.type.__file,r={label:`i18n (${n} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(r)}}function Pe(t,e){const n=Me;t.state.push({type:n,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:n,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:n,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:n,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:n,key:"messages",editable:!1,value:Le(e.messages.value)}),t.state.push({type:n,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:n,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function Le(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];Object(r["l"])(i)&&"source"in i?e[n]=Re(i):Object(r["n"])(i)?e[n]=Le(i):e[n]=i}),e}const De={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function Fe(t){return t.replace(/[<>"&]/g,Be)}function Be(t){return De[t]||t}function Re(t){const e=t.source?`("${Fe(t.source)}")`:"(?)";return{_custom:{type:"function",display:"<span>Æ</span> "+e}}}function Ve(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const n="composition"===e.mode?e.global:e.global.__composer;for(const[r,i]of e.__instances){const s="composition"===e.mode?i:i.__composer;if(n===s)continue;const o=r.type.name||r.type.displayName||r.type.__file;t.rootNodes.push({id:s.id.toString(),label:o+" Scope"})}}function He(t,e){if("global"===t)return"composition"===e.mode?e.global:e.global.__composer;{const n=Array.from(e.__instances.values()).find(e=>e.id.toString()===t);return n?"composition"===e.mode?n:n.__composer:null}}function qe(t,e){const n=He(t.nodeId,e);n&&(t.state=ze(n))}function ze(t){const e={},n="Locale related info",r=[{type:n,key:"locale",editable:!0,value:t.locale.value},{type:n,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:n,key:"availableLocales",editable:!1,value:t.availableLocales},{type:n,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[n]=r;const i="Locale messages info",s=[{type:i,key:"messages",editable:!1,value:Le(t.messages.value)}];e[i]=s;const o="Datetime formats info",a=[{type:o,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[o]=a;const c="Datetime formats info",l=[{type:c,key:"numberFormats",editable:!1,value:t.numberFormats.value}];return e[c]=l,e}function We(t,e){if(Ne){let n;e&&"groupId"in e&&(n=e.groupId,delete e.groupId),Ne.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:n,time:Date.now(),meta:{},data:e||{},logType:"compile-error"===t?"error":"fallback"===t||"missing"===t?"warning":"default"}})}}function Ge(t,e){const n=He(t.nodeId,e);if(n){const[e]=t.path;"locale"===e&&Object(r["q"])(t.state.value)?n.locale.value=t.state.value:"fallbackLocale"===e&&(Object(r["q"])(t.state.value)||Object(r["h"])(t.state.value)||Object(r["n"])(t.state.value))?n.fallbackLocale.value=t.state.value:"inheritLocale"===e&&Object(r["i"])(t.state.value)&&(n.inheritLocale=t.state.value)}}function Ue(t,e,n){return{beforeCreate(){const r=Object(Yt["getCurrentInstance"])();if(!r)throw te(22);const i=this.$options;if(i.i18n){const n=i.i18n;i.__i18n&&(n.__i18n=i.__i18n),n.__root=e,this===this.$root?this.$i18n=Ye(t,n):this.$i18n=ge(n)}else i.__i18n?this===this.$root?this.$i18n=Ye(t,i):this.$i18n=ge({__i18n:i.__i18n,__root:e}):this.$i18n=t;t.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...t)=>this.$i18n.t(...t),this.$rt=(...t)=>this.$i18n.rt(...t),this.$tc=(...t)=>this.$i18n.tc(...t),this.$te=(t,e)=>this.$i18n.te(t,e),this.$d=(...t)=>this.$i18n.d(...t),this.$n=(...t)=>this.$i18n.n(...t),this.$tm=t=>this.$i18n.tm(t)},mounted(){if(__VUE_I18N_PROD_DEVTOOLS__){this.$el.__VUE_I18N__=this.$i18n.__composer;const t=this.__v_emitter=Object(r["b"])(),e=this.$i18n;e.__enableEmitter&&e.__enableEmitter(t),t.on("*",We)}},beforeUnmount(){const t=Object(Yt["getCurrentInstance"])();if(!t)throw te(22);if(__VUE_I18N_PROD_DEVTOOLS__){this.__v_emitter&&(this.__v_emitter.off("*",We),delete this.__v_emitter);const t=this.$i18n;t.__disableEmitter&&t.__disableEmitter(),delete this.$el.__VUE_I18N__}delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(t),delete this.$i18n}}}function Ye(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[ae](e.pluralizationRules||t.pluralizationRules);const n=ue(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(e=>t.mergeLocaleMessage(e,n[e])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}function $e(t={}){const e=__VUE_I18N_LEGACY_API__&&Object(r["i"])(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=!!t.globalInjection,i=new Map,s=__VUE_I18N_LEGACY_API__&&e?ge(t):fe(t),o=Object(r["r"])(""),a={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(t,...i){if(__VUE_I18N_PROD_DEVTOOLS__&&(t.__VUE_I18N__=a),t.__VUE_I18N_SYMBOL__=o,t.provide(t.__VUE_I18N_SYMBOL__,a),!e&&n&&tn(t,a.global),__VUE_I18N_FULL_INSTALL__&&Ae(t,a,...i),__VUE_I18N_LEGACY_API__&&e&&t.mixin(Ue(s,s.__composer,a)),__VUE_I18N_PROD_DEVTOOLS__){const n=await je(t,a);if(!n)throw te(21);const i=Object(r["b"])();if(e){const t=s;t.__enableEmitter&&t.__enableEmitter(i)}else{const t=s;t[se]&&t[se](i)}i.on("*",We)}},get global(){return s},__instances:i,__getInstance(t){return i.get(t)||null},__setInstance(t,e){i.set(t,e)},__deleteInstance(t){i.delete(t)}};return a}function Xe(t={}){const e=Object(Yt["getCurrentInstance"])();if(null==e)throw te(16);if(!e.appContext.app.__VUE_I18N_SYMBOL__)throw te(17);const n=Object(Yt["inject"])(e.appContext.app.__VUE_I18N_SYMBOL__);if(!n)throw te(22);const i="composition"===n.mode?n.global:n.global.__composer,s=Object(r["k"])(t)?"__i18n"in e.type?"local":"global":t.useScope?t.useScope:"local";if("global"===s){let n=Object(r["n"])(t.messages)?t.messages:{};"__i18nGlobal"in e.type&&(n=ue(i.locale.value,{messages:n,__i18n:e.type.__i18nGlobal}));const s=Object.keys(n);if(s.length&&s.forEach(t=>{i.mergeLocaleMessage(t,n[t])}),Object(r["n"])(t.datetimeFormats)){const e=Object.keys(t.datetimeFormats);e.length&&e.forEach(e=>{i.mergeDateTimeFormat(e,t.datetimeFormats[e])})}if(Object(r["n"])(t.numberFormats)){const e=Object.keys(t.numberFormats);e.length&&e.forEach(e=>{i.mergeNumberFormat(e,t.numberFormats[e])})}return i}if("parent"===s){let t=Ke(n,e);return null==t&&(t=i),t}if("legacy"===n.mode)throw te(18);const o=n;let a=o.__getInstance(e);if(null==a){const n=e.type,s=Object(r["a"])({},t);n.__i18n&&(s.__i18n=n.__i18n),i&&(s.__root=i),a=fe(s),Ze(o,e,a),o.__setInstance(e,a)}return a}function Ke(t,e){let n=null;const r=e.root;let i=e.parent;while(null!=i){const e=t;if("composition"===t.mode)n=e.__getInstance(i);else{const t=e.__getInstance(i);null!=t&&(n=t.__composer)}if(null!=n)break;if(r===i)break;i=i.parent}return n}function Ze(t,e,n){let i=null;Object(Yt["onMounted"])(()=>{if(__VUE_I18N_PROD_DEVTOOLS__&&e.vnode.el){e.vnode.el.__VUE_I18N__=n,i=Object(r["b"])();const t=n;t[se]&&t[se](i),i.on("*",We)}},e),Object(Yt["onUnmounted"])(()=>{if(__VUE_I18N_PROD_DEVTOOLS__&&e.vnode.el&&e.vnode.el.__VUE_I18N__){i&&i.off("*",We);const t=n;t[oe]&&t[oe](),delete e.vnode.el.__VUE_I18N__}t.__deleteInstance(e)},e)}const Qe=["locale","fallbackLocale","availableLocales"],Je=["t","rt","d","n","tm"];function tn(t,e){const n=Object.create(null);Qe.forEach(t=>{const r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw te(22);const i=Object(Yt["isRef"])(r.value)?{get(){return r.value.value},set(t){r.value.value=t}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,t,i)}),t.config.globalProperties.$i18n=n,Je.forEach(n=>{const r=Object.getOwnPropertyDescriptor(e,n);if(!r||!r.value)throw te(22);Object.defineProperty(t.config.globalProperties,"$"+n,r)})}if(ft(Et),Jt(),__INTLIFY_PROD_DEVTOOLS__){const t=Object(r["f"])();t.__INTLIFY__=!0,st(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),s=n("b622"),o=s("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},"48da":function(t,e,n){var r=n("1de3"),i=n("fd32"),s=n("12ae"),o=n("d4f8");function a(t,e){return r(t)||i(t,e)||s(t,e)||o()}t.exports=a,t.exports["default"]=t.exports,t.exports.__esModule=!0},4919:function(t,e,n){var r=n("a3bf");function i(){var t=r();return t?void 0!==t.resume:!!window.Promise&&(!!window.AudioContext||!!window.webkitAudioContext||!!navigator.mozAudioContext||!!navigator.msAudioContext)}t.exports=i},4930:function(t,e,n){var r=n("605d"),i=n("2d00"),s=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!s((function(){return!Symbol.sham&&(r?38===i:i>37&&i<41)}))},"49cb":function(t,e,n){"use strict";var r=n("f159");const i=(t,e)=>Array(e+1).join(t),s=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function o(t){const e=s.exec(t);return e?[e[1],e[2],e[3]]:["","",""]}function a(t){const[e,n,r]=o(t);if(""===n)return"";let i=4;for(let o=0;o<r.length;o++)i+=","===r.charAt(o)?-1:1;const s="_"===e[0]?e.replace(/_/g,"b"):"^"===e[0]?e.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+s+(i+1):n+s+i}function c(t){const e=Object(r["b"])(t);if(e.empty||!e.oct)return"";const{letter:n,acc:s,oct:o}=e,a="b"===s[0]?s.replace(/b/g,"_"):s.replace(/#/g,"^"),c=o>4?n.toLowerCase():n,l=5===o?"":o>4?i("'",o-5):i(",",4-o);return a+c+l}function l(t,e){return c(Object(r["c"])(a(t),e))}function u(t,e){return Object(r["a"])(a(t),a(e))}var h={abcToScientificNotation:a,scientificToAbcNotation:c,tokenize:o,transpose:l,distance:u};e["a"]=h},"4a45":function(t,e){var n=function(t,e,n,r){this.type="BeamElem",this.isflat=!!n,this.isgrace=!(!e||"grace"!==e),this.forceup=!!(this.isgrace||e&&"up"===e),this.forcedown=!(!e||"down"!==e),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=t,this.beams=[],r&&r.duration?(this.duration=r.duration,r.startTriplet&&(this.duration*=r.tripletMultiplier),this.duration=Math.round(1e3*this.duration)/1e3):this.duration=0};function r(t,e){return e?t/e:0}n.prototype.setHint=function(){this.hint=!0},n.prototype.add=function(t){var e=t.abcelem.averagepitch;void 0!==e&&(t.abcelem.rest||(this.allrests=!1),t.beam=this,this.elems.push(t),this.total=Math.round(this.total+e),(void 0===this.min||t.abcelem.minpitch<this.min)&&(this.min=t.abcelem.minpitch),(void 0===this.max||t.abcelem.maxpitch>this.max)&&(this.max=t.abcelem.maxpitch))},n.prototype.addBeam=function(t){this.beams.push(t)},n.prototype.calcDir=function(){if(this.average=r(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var t=6;this.stemsUp=this.average<t}for(var e=this.stemsUp?"up":"down",n=0;n<this.elems.length;n++)for(var i=0;i<this.elems[n].heads.length;i++)this.elems[n].heads[i].stemDir=e},t.exports=n},"4acd":function(t,e){var n='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">\n  <g>\n    <rect width="8.23" height="25"/>\n    <rect width="8.23" height="25" x="17"/>\n  </g>\n</svg>\n';t.exports=n},"4c89":function(t,e,n){var r=n("c352"),i=n("fa8e"),s=n("1c33");function o(t,e,n){var r=e.startVoice.staff.absoluteY-10*i.STEP;return e.endVoice&&e.endVoice.staff?e.endY=e.endVoice.staff.absoluteY-2*i.STEP:e.lastContinuedVoice&&e.lastContinuedVoice.staff?e.endY=e.lastContinuedVoice.staff.absoluteY-2*i.STEP:e.endY=e.startVoice.staff.absoluteY-2*i.STEP,u(t,e.x,r,e.endY,e.type,e.header,n)}function a(t,e,n,s,o){e+=i.STEP;var a=.75*i.STEP,c=.75*i.STEP,l=s-n,u=r("M %f %f l %f %f l %f %f l %f %f z",e,n-c,0,l+2*c,a,0,0,-(l+2*c)),h=2*i.STEP,d=i.STEP;return u+=r("M %f %f q %f %f %f %f q %f %f %f %f z",e+a,n-c,.6*h,.2*d,h,-d,.1*-h,.3*d,-h,d+i.STEP),u+=r("M %f %f q %f %f %f %f q %f %f %f %f z",e+a,n+c+l,.6*h,.2*-d,h,d,.1*-h,.3*-d,-h,-d-i.STEP),t.paper.path({path:u,stroke:t.foregroundColor,fill:t.foregroundColor,class:t.controller.classes.generate(o)})}function c(t,e,n,r,i){var s=r-n,o=l(e,n,[7.5,-8,21,0,18.5,-10.5,7.5],[0,s/5.5,s/3.14,s/2,s/2.93,s/4.88,0]);return o+=l(e,n,[0,17.5,-7.5,6.6,-5,20,0],[s/2,s/1.46,s/1.22,s,s/1.19,s/1.42,s/2]),t.paper.path({path:o,stroke:t.foregroundColor,fill:t.foregroundColor,class:t.controller.classes.generate(i)})}function l(t,e,n,i){return r("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t+n[0],e+i[0],t+n[1],e+i[1],t+n[2],e+i[2],t+n[3],e+i[3],t+n[4],e+i[4],t+n[5],e+i[5],t+n[6],e+i[6])}var u=function(t,e,n,r,i,o,l){var u;if(o){t.paper.openGroup({klass:t.controller.classes.generate("staff-extra voice-name")});var h=n+(r-n)/2;h-=t.controller.getTextSize.baselineToCenter(o,"voicefont","staff-extra voice-name",0,1),s(t,{x:t.padding.left,y:h,text:o,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return"brace"===i?u=c(t,e,n,r,i):"bracket"===i&&(u=a(t,e,n,r,i)),o&&(u=t.paper.closeGroup()),l.wrapSvgEl({el_type:i,startChar:-1,endChar:-1},u),u};t.exports=o},"4ce3":function(t,e,n){var r=n("fa8e"),i=n("4c89"),s=n("0511"),o=n("377d"),a=n("ef67"),c=n("62c6");function l(t,e,n){var i;h(t,"abcjs-top-of-system");for(var l,p,f=t.y,m=0;m<e.staffs.length;m++){var g=e.staffs[m];t.moveY(r.STEP,g.top),g.absoluteY=t.y,t.showDebug&&(t.showDebug.indexOf("box")>=0&&d(t,e.voices,g.voices),t.showDebug.indexOf("grid")>=0&&(t.paper.dottedLine({x1:t.padding.left,x2:t.padding.left+t.controller.width,y1:f,y2:f,stroke:"#0000ff"}),a(t,{x:t.padding.left,y:t.calcY(g.originalTop),width:t.controller.width,height:t.calcY(g.originalBottom)-t.calcY(g.originalTop),fill:t.foregroundColor,stroke:t.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),i=0,_(g,"chordHeightAbove"),_(g,"chordHeightBelow"),_(g,"dynamicHeightAbove"),_(g,"dynamicHeightBelow"),_(g,"endingHeightAbove"),_(g,"lyricHeightAbove"),_(g,"lyricHeightBelow"),_(g,"partHeightAbove"),_(g,"tempoHeightAbove"),_(g,"volumeHeightAbove"),_(g,"volumeHeightBelow"))),t.moveY(r.STEP,-g.bottom),t.showDebug&&t.showDebug.indexOf("grid")>=0&&t.paper.dottedLine({x1:t.padding.left,x2:t.padding.left+t.controller.width,y1:t.y,y2:t.y,stroke:"#0000aa"})}for(var v=0,b=0;b<e.voices.length;b++){var y=e.voices[b].staff;t.y=y.absoluteY,t.controller.classes.incrVoice(),e.voices[b].duplicate||(l||(l=t.calcY(10)),p=t.calcY(2),0!==y.lines&&(t.controller.classes.newMeasure(),o(t,e.startx,e.w,y.lines)),u(t,y.absoluteY,e.brace,b,n),u(t,y.absoluteY,e.bracket,b,n)),s(t,e.voices[b],v,n,{top:f,zero:t.y,height:e.height*r.STEP}),t.controller.classes.newMeasure(),e.voices[b].duplicate||(v=t.calcY(2))}function _(e,n){var s=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(e.positionY[n]){var o=e.specialY[n]*r.STEP;"chordHeightAbove"===n&&e.specialY.chordLines&&e.specialY.chordLines.above&&(o*=e.specialY.chordLines.above),"chordHeightBelow"===n&&e.specialY.chordLines&&e.specialY.chordLines.below&&(o*=e.specialY.chordLines.below),a(t,{x:t.padding.left,y:t.calcY(e.positionY[n]),width:t.controller.width,height:o,fill:s[i],stroke:s[i],"fill-opacity":.4,"stroke-opacity":.4},n.substr(0,4)),i+=1,i>6&&(i=0)}}t.controller.classes.newMeasure(),e.staffs.length>1&&c(t,e.startx,.6,l,p),t.y=f}function u(t,e,n,s,o){if(n)for(var a=0;a<n.length;a++)n[a].isStartVoice(s)&&(n[a].startY=e-10*r.STEP,n[a].elemset=i(t,n[a],o))}function h(t,e){var n=Math.round(t.y);t.paper.pathToBack({path:"M 0 "+n+" L 0 0",stroke:"none",fill:"none","stroke-opacity":0,"fill-opacity":0,class:t.controller.classes.generate(e),"data-vertical":n})}function d(t,e,n){for(var i=0;i<n.length;i++)for(var s=e[n[i]].children,o=0;o<s.length;o++){var c=s[o],l=c.getFixedCoords();if(!c.invisible&&void 0!==l.t&&void 0!==l.b){var u=(l.t-l.b)*r.STEP;a(t,{x:l.x,y:t.calcY(l.t),width:l.w,height:u,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var h=0;h<c.children.length;h++){var d=c.children[h],p=d.getChordDim();if(p){var f=t.calcY(d.pitch);f+=d.dim.font.size*d.getLane(),a(t,{x:p.left,y:f,width:p.right-p.left,height:d.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}t.exports=l},"4d64":function(t,e,n){var r=n("fc6a"),i=n("50c4"),s=n("23cb"),o=function(t){return function(e,n,o){var a,c=r(e),l=i(c.length),u=s(o,l);if(t&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"4d8e":function(t,e,n){var r=n("ece2"),i=function(t,e,n,i){return new Promise((function(s,o){r[e]||(r[e]={});var a=r[e];if("error"===a[n])return s({instrument:e,name:n,status:"error",message:"Unable to load sound font "+t+" "+e+" "+n});if("pending"===a[n])return s({instrument:e,name:n,status:"pending"});if(a[n])return s({instrument:e,name:n,status:"cached"});a[n]="pending";var c=new XMLHttpRequest;c.open("GET",t+e+"-mp3/"+n+".mp3",!0),c.responseType="arraybuffer";var l=this;function u(t){a[n]=t,s({instrument:e,name:n,status:"loaded"})}function h(r){return r="Can't decode sound. "+t+" "+e+" "+n+" "+r,l.debugCallback&&l.debugCallback(r),s({instrument:e,name:n,status:"error",message:r})}c.onload=function(r){if(200!==this.status){a[n]="error";var c="Onload error loading sound: "+n+" "+t+" "+r.currentTarget.status+" "+r.currentTarget.statusText;return l.debugCallback&&l.debugCallback(c),s({instrument:e,name:n,status:"error",message:c})}try{var d=i.decodeAudioData(this.response,u,h);d&&d.catch&&d.catch((function(){}))}catch(p){o(p)}},c.addEventListener("error",(function(){a[n]="error";var r="Error in loading sound:  "+t;return l.debugCallback&&l.debugCallback(r),s({instrument:e,name:n,status:"error",message:r})}),!1),c.send()}))};t.exports=i},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,s=n("1dde"),o=s("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),s=n("9bdd"),o=n("e95a"),a=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,h,d,p,f=i(t),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,b=void 0!==v,y=l(f),_=0;if(b&&(v=r(v,g>2?arguments[2]:void 0,2)),void 0==y||m==Array&&o(y))for(e=a(f.length),n=new m(e);e>_;_++)p=b?v(f[_],_):f[_],c(n,_,p);else for(h=y.call(f),d=h.next,n=new m;!(u=d.call(h)).done;_++)p=b?s(h,v,[u.value,_],!0):u.value,c(n,_,p);return n.length=_,n}},"4f47":function(t,e,n){var r=n("6d22"),i=function(t,e){void 0===t&&(t="abcjs-note_selected"),void 0===e&&(e="#000000"),r(this.elemset,"",t,e)};t.exports=i},"50c4":function(t,e,n){var r=n("a691"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),s=n("50c4"),o=n("a691"),a=n("1d80"),c=n("8aa5"),l=n("0cb2"),u=n("14c3"),h=Math.max,d=Math.min,p=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,g=f?"$":"$0";return[function(n,r){var i=a(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!f&&m||"string"===typeof r&&-1===r.indexOf(g)){var a=n(e,t,this,r);if(a.done)return a.value}var v=i(t),b=String(this),y="function"===typeof r;y||(r=String(r));var _=v.global;if(_){var w=v.unicode;v.lastIndex=0}var x=[];while(1){var k=u(v,b);if(null===k)break;if(x.push(k),!_)break;var T=String(k[0]);""===T&&(v.lastIndex=c(b,s(v.lastIndex),w))}for(var S="",O=0,C=0;C<x.length;C++){k=x[C];for(var E=String(k[0]),A=h(d(o(k.index),b.length),0),M=[],N=1;N<k.length;N++)M.push(p(k[N]));var j=k.groups;if(y){var I=[E].concat(M,A,b);void 0!==j&&I.push(j);var P=String(r.apply(void 0,I))}else P=l(E,b,A,M,j,r);A>=O&&(S+=b.slice(O,A)+P,O=A+E.length)}return S+b.slice(O)}]}))},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=n("ade3");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:r?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),i=n("241c"),s=n("7418"),o=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(o(t)),n=s.f;return n?e.concat(n(t)):e}},5751:function(t,e,n){var r=n("c352"),i=n("17d5");function s(t,e,n,r,i){o(e,n,r);var s="";e.anchor1?s+="abcjs-start-m"+e.anchor1.parent.counters.measure+"-n"+e.anchor1.parent.counters.note:s+="abcjs-start-edge",e.anchor2?s+=" abcjs-end-m"+e.anchor2.parent.counters.measure+"-n"+e.anchor2.parent.counters.note:s+=" abcjs-end-edge",e.hint&&(s="abcjs-hint");var c=e.fixedY?1.5:0,l=a(t,e.startX,e.endX,e.startY+c,e.endY+c,e.above,s,e.isTie,e.dotted);return i.wrapSvgEl({el_type:"slur",startChar:-1,endChar:-1},l),[l]}var o=function(t,e,n){t.anchor1&&t.anchor2?t.anchor1.pitch===t.anchor2.pitch&&0===t.internalNotes.length?t.isTie=!0:t.isTie=!1:t.isTie=!0,t.isTie?(t.calcTieDirection(),t.calcX(e,n),t.calcTieY()):(t.calcSlurDirection(),t.calcX(e,n),t.calcSlurY()),t.avoidCollisionAbove()},a=function(t,e,n,s,o,a,c,l,u){var h=l?1.2:1.5;e=i(e+6),n=i(n+4),s+=a?h:-h,o+=a?h:-h;var d,p=i(t.calcY(s)),f=i(t.calcY(o)),m=n-e,g=f-p,v=Math.sqrt(m*m+g*g),b=m/v,y=g/v,_=v/3.5,w=l?10:25,x=(a?-1:1)*Math.min(w,Math.max(4,_)),k=i(e+_*b-x*y),T=i(p+_*y+x*b),S=i(n-_*b-x*y),O=i(f-_*y+x*b),C=2;if(c?c+=" slur":c="slur",c+=l?" tie":" legato",u){c+=" dotted";var E=r("M %f %f C %f %f %f %f %f %f",e,p,k,T,S,O,n,f);d=t.paper.path({path:E,stroke:t.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:t.controller.classes.generate(c)})}else{var A=r("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e,p,k,T,S,O,n,f,i(S-C*y),i(O+C*b),i(k-C*y),i(T+C*b),e,p);d=t.paper.path({path:A,stroke:"none",fill:t.foregroundColor,class:t.controller.classes.generate(c)})}return d};t.exports=s},5845:function(t,e,n){var r=n("e8ab"),i={};(function(){"use strict";var t,e,n,s,o;function a(){n.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},s.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},s.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},s.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},s.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},s.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},s.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},s.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},s.formatting.annotationfont=n.annotationfont,s.formatting.gchordfont=n.gchordfont,s.formatting.historyfont=n.historyfont,s.formatting.infofont=n.infofont,s.formatting.measurefont=n.measurefont,s.formatting.partsfont=n.partsfont,s.formatting.repeatfont=n.repeatfont,s.formatting.textfont=n.textfont,s.formatting.tripletfont=n.tripletfont,s.formatting.vocalfont=n.vocalfont,s.formatting.wordsfont=n.wordsfont}i.initialize=function(r,i,c,l,u){t=r,e=i,n=c,s=l,o=u,a()};var c={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},l=function(t){switch(t){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},u=function(t,n,r,i,s){function o(){var o=parseInt(t[0].token);return t.shift(),n?0===t.length?{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:o}:1===t.length&&"box"===t[0].token&&c[s]?{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:o,box:!0}:(e("Extra parameters in font definition.",r,i),{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:o}):(e("Can't set just the size of the font since there is no default value.",r,i),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:o})}if("*"===t[0].token){if(t.shift(),"number"===t[0].type)return o();e("Expected font size number after *.",r,i)}if("number"===t[0].type)return o();var a,u=[],h="normal",d="normal",p="none",f=!1,m="face",g=!1;while(t.length){var v=t.shift(),b=v.token.toLowerCase();switch(m){case"face":g||"utf"!==b&&"number"!==v.type&&"bold"!==b&&"italic"!==b&&"underline"!==b&&"box"!==b?u.length>0&&"-"===v.token?(g=!0,u[u.length-1]=u[u.length-1]+v.token):g?(g=!1,u[u.length-1]=u[u.length-1]+v.token):u.push(v.token):"number"===v.type?(a?e("Font size specified twice in font definition.",r,i):a=v.token,m="modifier"):"bold"===b?h="bold":"italic"===b?d="italic":"underline"===b?p="underline":"box"===b?(c[s]?f=!0:e('This font style doesn\'t support "box"',r,i),m="finished"):"utf"===b?(v=t.shift(),m="size"):e("Unknown parameter "+v.token+" in font definition.",r,i);break;case"size":"number"===v.type?a?e("Font size specified twice in font definition.",r,i):a=v.token:e("Expected font size in font definition.",r,i),m="modifier";break;case"modifier":"bold"===b?h="bold":"italic"===b?d="italic":"underline"===b?p="underline":"box"===b?(c[s]?f=!0:e('This font style doesn\'t support "box"',r,i),m="finished"):e("Unknown parameter "+v.token+" in font definition.",r,i);break;case"finished":e('Extra characters found after "box" in font definition.',r,i);break}}void 0===a?n?a=n.size:(e("Must specify the size of the font since there is no default value.",r,i),a=12):a=parseFloat(a),u=u.join(" "),""===u&&(n?u=n.face:(e("Must specify the name of the font since there is no default value.",r,i),u="sans-serif"));var y=l(u),_={};return y?(_.face=y.face,_.weight=y.weight,_.style=y.style,_.decoration=y.decoration,_.size=a,f&&(_.box=!0),_):(_.face=u,_.weight=h,_.style=d,_.decoration=p,_.size=a,f&&(_.box=!0),_)},h=function(t,e,r){return 0===e.length?'Directive "'+t+'" requires a font as a parameter.':(n[t]=u(e,n[t],r,0,t),n.is_in_header&&(s.formatting[t]=n[t]),null)},d=function(t,e,n){return 0===e.length?'Directive "'+t+'" requires a font as a parameter.':(s.formatting[t]=u(e,s.formatting[t],n,0,t),null)},p=function(t,e){var n="";r.each(e,(function(t){n+=t.token}));var i=parseFloat(n);if(isNaN(i)||0===i)return'Directive "'+t+'" requires a number as a parameter.';s.formatting.scale=i},f=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],m=function(t){var e=t.split(/\s+/);if(2!==e.length&&3!==e.length)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var n=e[0],r=parseInt(e[1],10);if((isNaN(r)||r<35||r>81)&&e[1]&&(r=f.indexOf(e[1].toLowerCase())+35),isNaN(r)||r<35||r>81)return{error:'Expected drum name, received "'+e[1]+'"'};var i={sound:r};return 3===e.length&&(i.noteHead=e[2]),{key:n,value:i}},g=function(e,n){var r=t.getMeasurement(n);return 0===r.used||0!==n.length?{error:'Directive "'+e+'" requires a measurement as a parameter.'}:r.value},v=function(e,n){var r=t.getMeasurement(n);return 0===r.used||0!==n.length?'Directive "'+e+'" requires a measurement as a parameter.':(s.formatting[e]=r.value,null)},b=function(t,e,r,i,s){if(1!==r.length||"number"!==r[0].type)return'Directive "'+e+'" requires a number as a parameter.';var o=r[0].intt;return void 0!==i&&o<i?'Directive "'+e+'" requires a number greater than or equal to '+i+" as a parameter.":void 0!==s&&o>s?'Directive "'+e+'" requires a number less than or equal to '+s+" as a parameter.":(n[t]=o,null)},y=function(t,e,r){if(1===r.length&&("true"===r[0].token||"false"===r[0].token))return n[t]="true"===r[0].token,null;var i=b(t,e,r,0,1);return null!==i?i:(n[t]=1===n[t],null)},_=function(t,e,r,i){if(1!==r.length)return'Directive "'+e+'" requires one of [ '+i.join(", ")+" ] as a parameter.";for(var s=r[0].token,o=!1,a=0;!o&&a<i.length;a++)i[a]===s&&(o=!0);return o?(n[t]=s,null):'Directive "'+e+'" requires one of [ '+i.join(", ")+" ] as a parameter."},w=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],x=["gchord","ptstress","beatstring"],k=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc"],T=["program"],S=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],O=["beat"],C=["drone"],E=["portamento"],A=["expand","grace","trim"],M=["drum","chordname"],N=function(t,n,r){var i=t.shift().token,s=[];if(w.indexOf(i)>=0)0!==t.length&&e("Unexpected parameter in MIDI "+i,r,0);else if(x.indexOf(i)>=0)1!==t.length?e("Expected one parameter in MIDI "+i,r,0):s.push(t[0].token);else if(k.indexOf(i)>=0)1!==t.length?e("Expected one parameter in MIDI "+i,r,0):"number"!==t[0].type?e("Expected one integer parameter in MIDI "+i,r,0):s.push(t[0].intt);else if(T.indexOf(i)>=0)1!==t.length&&2!==t.length?e("Expected one or two parameters in MIDI "+i,r,0):"number"!==t[0].type||2===t.length&&"number"!==t[1].type?e("Expected integer parameter in MIDI "+i,r,0):(s.push(t[0].intt),2===t.length&&s.push(t[1].intt));else if(S.indexOf(i)>=0)2!==t.length?e("Expected two parameters in MIDI "+i,r,0):"number"!==t[0].type||"number"!==t[1].type?e("Expected two integer parameters in MIDI "+i,r,0):(s.push(t[0].intt),s.push(t[1].intt));else if(E.indexOf(i)>=0)2!==t.length?e("Expected two parameters in MIDI "+i,r,0):"alpha"!==t[0].type||"number"!==t[1].type?e("Expected one string and one integer parameters in MIDI "+i,r,0):(s.push(t[0].token),s.push(t[1].intt));else if("drummap"===i)2===t.length&&"alpha"===t[0].type&&"number"===t[1].type?(n.formatting||(n.formatting={}),n.formatting.midi||(n.formatting.midi={}),n.formatting.midi.drummap||(n.formatting.midi.drummap={}),n.formatting.midi.drummap[t[0].token]=t[1].intt,s=n.formatting.midi.drummap):3===t.length&&"punct"===t[0].type&&"alpha"===t[1].type&&"number"===t[2].type?(n.formatting||(n.formatting={}),n.formatting.midi||(n.formatting.midi={}),n.formatting.midi.drummap||(n.formatting.midi.drummap={}),n.formatting.midi.drummap[t[0].token+t[1].token]=t[2].intt,s=n.formatting.midi.drummap):e("Expected one note name and one integer parameter in MIDI "+i,r,0);else if(A.indexOf(i)>=0)3!==t.length||"number"!==t[0].type||"/"!==t[1].token||"number"!==t[2].type?e("Expected fraction parameter in MIDI "+i,r,0):(s.push(t[0].intt),s.push(t[2].intt));else if(O.indexOf(i)>=0)4!==t.length?e("Expected four parameters in MIDI "+i,r,0):"number"!==t[0].type||"number"!==t[1].type||"number"!==t[2].type||"number"!==t[3].type?e("Expected four integer parameters in MIDI "+i,r,0):(s.push(t[0].intt),s.push(t[1].intt),s.push(t[2].intt),s.push(t[3].intt));else if(C.indexOf(i)>=0)5!==t.length?e("Expected five parameters in MIDI "+i,r,0):"number"!==t[0].type||"number"!==t[1].type||"number"!==t[2].type||"number"!==t[3].type||"number"!==t[4].type?e("Expected five integer parameters in MIDI "+i,r,0):(s.push(t[0].intt),s.push(t[1].intt),s.push(t[2].intt),s.push(t[3].intt),s.push(t[4].intt));else if(T.indexOf(i)>=0)1!==t.length||4!==t.length?e("Expected one or two parameters in MIDI "+i,r,0):"number"!==t[0].type?e("Expected integer parameter in MIDI "+i,r,0):4===t.length?("octave"!==t[1].token&&e("Expected octave parameter in MIDI "+i,r,0),"="!==t[2].token&&e("Expected octave parameter in MIDI "+i,r,0),"number"!==t[3].type&&e("Expected integer parameter for octave in MIDI "+i,r,0)):(s.push(t[0].intt),4===t.length&&s.push(t[3].intt));else if(M.indexOf(i)>=0)if(t.length<2)e("Expected string parameter and at least one integer parameter in MIDI "+i,r,0);else if("alpha"!==t[0].type)e("Expected string parameter and at least one integer parameter in MIDI "+i,r,0);else{var a=t.shift();s.push(a.token);while(t.length>0)a=t.shift(),"number"!==a.type&&e("Expected integer parameter in MIDI "+i,r,0),s.push(a.intt)}o.hasBeginMusic()?o.appendElement("midi",-1,-1,{cmd:i,params:s}):(void 0===n.formatting["midi"]&&(n.formatting["midi"]={}),n.formatting["midi"][i]=s)};i.parseFontChangeLine=function(t){var e=t.split("$");if(e.length>1&&n.setfont){for(var r=[{text:e[0]}],i=1;i<e.length;i++)"0"===e[i].charAt(0)?r.push({text:e[i].substring(1)}):"1"===e[i].charAt(0)&&n.setfont[1]?r.push({font:n.setfont[1],text:e[i].substring(1)}):"2"===e[i].charAt(0)&&n.setfont[2]?r.push({font:n.setfont[2],text:e[i].substring(1)}):"3"===e[i].charAt(0)&&n.setfont[3]?r.push({font:n.setfont[3],text:e[i].substring(1)}):"4"===e[i].charAt(0)&&n.setfont[4]?r.push({font:n.setfont[4],text:e[i].substring(1)}):r[r.length-1].text+="$"+e[i];if(r.length>1)return r}return t};var j=["auto","above","below","hidden"];function I(t){if(0===t.length)return{value:1};if(1===t.length)if("number"===t[0].type){if(t[0].floatt>=0||t[0].floatt<=1)return{value:t[0].floatt}}else{if("false"===t[0].token)return{value:0};if("true"===t[0].token)return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+t[0].token+")"}}i.addDirective=function(a){var c=t.tokenize(a,0,a.length);if(0===c.length||"alpha"!==c[0].type)return null;var l=a.substring(a.indexOf(c[0].token)+c[0].token.length);l=t.stripComment(l);var f,w=c.shift().token.toLowerCase(),x="";switch(w){case"bagpipes":s.formatting.bagpipes=!0;break;case"flatbeams":s.formatting.flatbeams=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=l;break;case"graceslurs":if(1!==c.length)return"Directive graceslurs requires one parameter: 0 or 1";if("0"===c[0].token||"false"===c[0].token)s.formatting.graceSlurs=!1;else{if("1"!==c[0].token&&"true"!==c[0].token)return"Directive graceslurs requires one parameter: 0 or 1 (received "+c[0].token+")";s.formatting.graceSlurs=!0}break;case"stretchlast":var k=I(c);if(void 0!==k.value&&(s.formatting.stretchlast=k.value),k.error)return k.error;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":s.formatting.titleleft=!0;break;case"measurebox":s.formatting.measurebox=!0;break;case"vocal":return _("vocalPosition",w,c,j);case"dynamic":return _("dynamicPosition",w,c,j);case"gchord":return _("chordPosition",w,c,j);case"ornament":return _("ornamentPosition",w,c,j);case"volume":return _("volumePosition",w,c,j);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return v(w,c);case"voicescale":if(1!==c.length||"number"!==c[0].type)return"voicescale requires one float as a parameter";var T=c.shift();return n.currentVoice&&(n.currentVoice.scale=T.floatt,o.changeVoiceScale(n.currentVoice.scale)),null;case"vskip":var S=Math.round(g(w,c));return S.error?S.error:(o.addSpacing(S),null);case"scale":p(w,c);break;case"sep":if(0===c.length)o.addSeparator(14,14,85);else{var O=t.getMeasurement(c);if(0===O.used)return'Directive "'+w+'" requires 3 numbers: space above, space below, length of line';var C=O.value;if(O=t.getMeasurement(c),0===O.used)return'Directive "'+w+'" requires 3 numbers: space above, space below, length of line';var E=O.value;if(O=t.getMeasurement(c),0===O.used||0!==c.length)return'Directive "'+w+'" requires 3 numbers: space above, space below, length of line';var A=O.value;o.addSeparator(C,E,A)}break;case"barsperstaff":if(x=b("barsperstaff",w,c),null!==x)return x;break;case"staffnonote":if(1!==c.length)return"Directive staffnonote requires one parameter: 0 or 1";if("0"===c[0].token)n.staffnonote=!0;else{if("1"!==c[0].token)return"Directive staffnonote requires one parameter: 0 or 1 (received "+c[0].token+")";n.staffnonote=!1}break;case"printtempo":if(x=y("printTempo",w,c),null!==x)return x;break;case"partsbox":if(x=y("partsBox",w,c),null!==x)return x;n.partsfont.box=n.partsBox;break;case"freegchord":if(x=y("freegchord",w,c),null!==x)return x;break;case"measurenb":case"barnumbers":if(x=b("barNumbers",w,c),null!==x)return x;break;case"setbarnb":if(1!==c.length||"number"!==c[0].type)return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=o.setBarNumberImmediate(c[0].intt);break;case"begintext":var M="";f=t.nextLine();while(f&&0!==f.indexOf("%%endtext"))r.startsWith(f,"%%")?M+=f.substring(2)+"\n":M+=f+"\n",f=t.nextLine();o.addText(M);break;case"continueall":n.continueall=!0;break;case"beginps":f=t.nextLine();while(f&&0!==f.indexOf("%%endps"))t.nextLine();e("Postscript ignored",a,0);break;case"deco":l.length>0&&n.ignoredDecorations.push(l.substring(0,l.indexOf(" "))),e("Decoration redefinition ignored",a,0);break;case"text":var P=t.translateString(l);o.addText(i.parseFontChangeLine(P));break;case"center":var L=t.translateString(l);o.addCentered(i.parseFontChangeLine(L));break;case"font":break;case"setfont":var D=t.tokenize(l,0,l.length);if(D.length>=4&&"-"===D[0].token&&"number"===D[1].type){var F=parseInt(D[1].token);F>=1&&F<=4&&(n.setfont||(n.setfont=[]),D.shift(),D.shift(),n.setfont[F]=u(D,n.setfont[F],a,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return h(w,c,a);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return d(w,c,a);case"barlabelfont":case"barnumberfont":case"barnumfont":return h("measurefont",c,a);case"staves":case"score":n.score_is_present=!0;var B,R=function(t,e,i,s,o){(e||0===n.staves.length)&&n.staves.push({index:n.staves.length,numVoices:0});var a=r.last(n.staves);void 0!==i&&void 0===a.bracket&&(a.bracket=i),void 0!==s&&void 0===a.brace&&(a.brace=s),o&&(a.connectBarLines="end"),void 0===n.voices[t]&&(n.voices[t]={staffNum:a.index,index:a.numVoices},a.numVoices++)},V=!1,H=!1,q=!1,z=!1,W=!1,G=!1,U=!1,Y=function(){if(U=!0,B){var t="start";B.staffNum>0&&("start"!==n.staves[B.staffNum-1].connectBarLines&&"continue"!==n.staves[B.staffNum-1].connectBarLines||(t="continue")),n.staves[B.staffNum].connectBarLines=t}};while(c.length){var $=c.shift();switch($.token){case"(":V?e("Can't nest parenthesis in %%score",a,$.start):(V=!0,z=!0);break;case")":!V||z?e("Unexpected close parenthesis in %%score",a,$.start):V=!1;break;case"[":H?e("Can't nest brackets in %%score",a,$.start):(H=!0,W=!0);break;case"]":!H||W?e("Unexpected close bracket in %%score",a,$.start):(H=!1,n.staves[B.staffNum].bracket="end");break;case"{":q?e("Can't nest braces in %%score",a,$.start):(q=!0,G=!0);break;case"}":!q||G?e("Unexpected close brace in %%score",a,$.start):(q=!1,n.staves[B.staffNum].brace="end");break;case"|":Y();break;default:var X="";while("alpha"===$.type||"number"===$.type){if(X+=$.token,!$.continueId)break;$=c.shift()}var K=!V||z,Z=W?"start":H?"continue":void 0,Q=G?"start":q?"continue":void 0;R(X,K,Z,Q,U),z=!1,W=!1,G=!1,U=!1,B=n.voices[X],"staves"===w&&Y();break}}break;case"newpage":var J=t.getInt(l);o.addNewPage(0===J.digits?-1:J.value);break;case"abc":var tt=l.split(" ");switch(tt[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var et=tt.shift();o.addMetaText(w+et,tt.join(" "));break;default:return"Unknown directive: "+w+tt[0]}break;case"header":case"footer":var nt=t.getMeat(l,0,l.length);nt=l.substring(nt.start,nt.end),'"'===nt.charAt(0)&&'"'===nt.charAt(nt.length-1)&&(nt=nt.substring(1,nt.length-1));var rt=nt.split("\t"),it={};it=1===rt.length?{left:"",center:rt[0],right:""}:2===rt.length?{left:rt[0],center:rt[1],right:""}:{left:rt[0],center:rt[1],right:rt[2]},rt.length>3&&e("Too many tabs in "+w+": "+rt.length+" found.",l,0),o.addMetaTextObj(w,it);break;case"midi":var st=t.tokenize(l,0,l.length,!0);st.length>0&&"="===st[0].token&&st.shift(),0===st.length?e("Expected midi command",l,0):N(st,s,l);break;case"percmap":var ot=m(l);ot.error?e(ot.error,a,8):(s.formatting.percmap||(s.formatting.percmap={}),s.formatting.percmap[ot.key]=ot.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":s.formatting[w]=l;break;default:return"Unknown directive: "+w}return null},i.globalFormatting=function(r){for(var i in r)if(r.hasOwnProperty(i)){var o,a=""+r[i],c=t.tokenize(a,0,a.length);switch(i){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":h(i,c,a);break;case"scale":p(i,c);break;case"partsbox":o=y("partsBox",i,c),null!==o&&e(o),n.partsfont.box=n.partsBox;break;case"freegchord":o=y("freegchord",i,c),null!==o&&e(o);break;case"fontboxpadding":1===c.length&&"number"===c[0].type||e('Directive "'+i+'" requires a number as a parameter.'),s.formatting.fontboxpadding=c[0].floatt;break;case"stretchlast":var l=I(c);if(void 0!==l.value&&(s.formatting.stretchlast=l.value),l.error)return l.error;break;default:e("Formatting directive unrecognized: ",i,0)}}}})(),t.exports=i},5899:function(t,e){t.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),s="["+i+"]",o=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5a2d":function(t,e,n){var r=n("fa8e"),i=function(t,e){for(var n,i=0;i<e.staffs.length;i++){var c=e.staffs[i],l={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(t.showDebug&&t.showDebug.indexOf("box")>=0&&(c.originalTop=c.top,c.originalBottom=c.bottom),o(c,l,"lyricHeightAbove"),o(c,l,"chordHeightAbove",c.specialY.chordLines.above),c.specialY.endingHeightAbove&&(c.specialY.chordHeightAbove?c.top+=2:c.top+=c.specialY.endingHeightAbove+s,l.endingHeightAbove=c.top),c.specialY.dynamicHeightAbove&&c.specialY.volumeHeightAbove?(c.top+=Math.max(c.specialY.dynamicHeightAbove,c.specialY.volumeHeightAbove)+s,l.dynamicHeightAbove=c.top,l.volumeHeightAbove=c.top):(o(c,l,"dynamicHeightAbove"),o(c,l,"volumeHeightAbove")),o(c,l,"partHeightAbove"),o(c,l,"tempoHeightAbove"),c.specialY.lyricHeightBelow&&(c.specialY.lyricHeightBelow+=t.spacing.vocal/r.STEP,l.lyricHeightBelow=c.bottom,c.bottom-=c.specialY.lyricHeightBelow+s),c.specialY.chordHeightBelow){l.chordHeightBelow=c.bottom;var u=c.specialY.chordHeightBelow;c.specialY.chordLines.below&&(u*=c.specialY.chordLines.below),c.bottom-=u+s}c.specialY.volumeHeightBelow&&c.specialY.dynamicHeightBelow?(l.volumeHeightBelow=c.bottom,l.dynamicHeightBelow=c.bottom,c.bottom-=Math.max(c.specialY.volumeHeightBelow,c.specialY.dynamicHeightBelow)+s):c.specialY.volumeHeightBelow?(l.volumeHeightBelow=c.bottom,c.bottom-=c.specialY.volumeHeightBelow+s):c.specialY.dynamicHeightBelow&&(l.dynamicHeightBelow=c.bottom,c.bottom-=c.specialY.dynamicHeightBelow+s),t.showDebug&&t.showDebug.indexOf("box")>=0&&(c.positionY=l);for(var h=0;h<c.voices.length;h++){var d=e.voices[c.voices[h]];a(l,d,t.spacing)}if(void 0!==n){var p=c.top-10,f=n+p,m=t.spacing.systemStaffSeparation/r.STEP,g=m-f;g>0&&(c.top+=g)}n=2-c.bottom}},s=1;function o(t,e,n,r){if(t.specialY[n]){var i=t.specialY[n];r&&(i*=r),t.top+=i+s,e[n]=t.top}}function a(t,e,n){var r,i;for(r=0;r<e.children.length;r++)i=e.children[r],c(t,i,n);for(r=0;r<e.otherchildren.length;r++)switch(i=e.otherchildren[r],i.type){case"CrescendoElem":l(t,i);break;case"DynamicDecoration":u(t,i);break;case"EndingElem":h(t,i);break}}function c(t,e,n){for(var r=0;r<e.children.length;r++){var i=e.children[r];for(var s in e.specialY)e.specialY.hasOwnProperty(s)&&i[s]&&(i.pitch=t[s],void 0===i.top&&("TempoElement"===i.type?d(t,i):p(t,i,n),e.pushTop(i.top),e.pushBottom(i.bottom)))}}function l(t,e){e.dynamicHeightAbove?e.pitch=t.dynamicHeightAbove:e.pitch=t.dynamicHeightBelow}function u(t,e){e.volumeHeightAbove?e.pitch=t.volumeHeightAbove:e.pitch=t.volumeHeightBelow}function h(t,e){e.pitch=t.endingHeightAbove-2}function d(t,e){if(e.pitch=t.tempoHeightAbove,e.top=t.tempoHeightAbove,e.bottom=t.tempoHeightAbove,e.note){var n=e.pitch-e.totalHeightInPitches+1;e.note.top=n,e.note.bottom=n;for(var r=0;r<e.note.children.length;r++){var i=e.note.children[r];i.top+=n,i.bottom+=n,i.pitch+=n,void 0!==i.pitch2&&(i.pitch2+=n)}}}function p(t,e,n){switch(e.type){case"part":e.top=t.partHeightAbove+e.height,e.bottom=t.partHeightAbove;break;case"text":case"chord":e.chordHeightAbove?(e.top=t.chordHeightAbove,e.bottom=t.chordHeightAbove):(e.top=t.chordHeightBelow,e.bottom=t.chordHeightBelow);break;case"lyric":e.lyricHeightAbove?(e.top=t.lyricHeightAbove,e.bottom=t.lyricHeightAbove):(e.top=t.lyricHeightBelow+n.vocal/r.STEP,e.bottom=t.lyricHeightBelow+n.vocal/r.STEP,e.pitch-=n.vocal/r.STEP);break;case"debug":e.top=t.chordHeightAbove,e.bottom=t.chordHeightAbove;break}void 0!==e.pitch&&void 0!==e.top||console.error("RelativeElement position not set.",e.type,e.pitch,e.top,t)}t.exports=i},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5c95":function(t,e,n){var r,i=n("2f3e");(function(){"use strict";function t(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n]);return t}function e(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}e.prototype.setTempo=function(t){0===this.trackcount&&(this.startTrack(),this.track+="%00%FF%51%03"+l(Math.round(6e7/t),6),this.endTrack())},e.prototype.setGlobalInfo=function(t,e,n,r){if(0===this.trackcount){this.startTrack();var i=Math.round(6e7/t);this.track+="%00%FF%51%03"+l(i,6),n&&(this.track+=o(n)),r&&(this.track+=a(r)),e&&(this.track+=s(e,"%01")),this.endTrack()}},e.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},e.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var t=l(this.track.length/3+4,8);this.track="MTrk"+t+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},e.prototype.setText=function(t,e){switch(t){case"name":this.trackName=s(e,"%03");break}},e.prototype.setInstrument=function(t){this.trackInstrument="%00%C0"+l(t,2),this.instrument=t},e.prototype.setChannel=function(t,e){this.channel=t;var n="%00%B"+this.channel.toString(16);this.track+=n+"%79%00",this.track+=n+"%40%00",this.track+=n+"%5B%30",e||(e=0),e=Math.round(64*(e+1)),this.track+=n+"%0A"+l(e,2),this.track+=n+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var n=4096;function s(t,e){for(var n="",r=0;r<t.length;r++)n+=l(t.charCodeAt(r),2);return"%00%FF"+e+l(n.length/3,2)+n}function o(t){if(!t||!t.accidentals)return"";for(var e="%00%FF%59%02",n=0,r=256,i=0;i<t.accidentals.length;i++)"sharp"===t.accidentals[i].acc?n++:"flat"===t.accidentals[i].acc&&r--;var s=l(256!==r?r:n,2),o="m"===t.mode?"%01":"%00";return e+s+o}function a(t){var e,n="%00%FF%58%04"+l(t.num,2),r={1:0,2:1,4:2,8:3,16:4,32:5},i=r[t.den];if(!i)return"";switch(n+=l(i,2),t.num+"/"+t.den){case"2/4":case"3/4":case"4/4":case"5/4":e=24;break;case"6/4":e=72;break;case"2/2":case"3/2":case"4/2":e=48;break;case"3/8":case"6/8":case"9/8":case"12/8":e=36;break}return e?(n+=l(e,2),n+"%08"):""}function c(t){for(var e="",n=0;n<t.length;n+=2)e+="%",e+=t.substr(n,2);return e}function l(t,e){var n=t.toString(16);n=n.split(".")[0];while(n.length<e)n="0"+n;return n.length>e&&(n=n.substring(0,e)),c(n)}function u(t){t=Math.round(t);var e=t%128,n=t-e;return l(2*n+e,4)}function h(t){var e=0,n=[];t=Math.round(t);while(0!==t)n.push(127&t),t>>=7;for(var r=n.length-1;r>=0;r--){e<<=8;var i=n[r];0!==r&&(i|=128),e|=i}var s=e.toString(16).length;return s+=s%2,l(e,s)}e.prototype.startNote=function(t,e,r){if(this.track+=h(this.silencelength),this.silencelength=0,r){this.track+="%e"+this.channel.toString(16);var s=Math.round(i(r)*n);this.track+=u(8192+s),this.track+=h(0),this.noteWarped[t]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+t.toString(16)+l(e,2)},e.prototype.endNote=function(t){this.track+=h(this.silencelength),this.silencelength=0,this.noteWarped[t]&&(this.track+="%e"+this.channel.toString(16),this.track+=u(8192),this.track+=h(0),this.noteWarped[t]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+t.toString(16)+"%00"},e.prototype.addRest=function(t){this.silencelength+=t,this.silencelength<0&&(this.silencelength=0)},e.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+l(this.trackcount,4)+"%01%e0"+this.trackstrings},e.prototype.embed=function(e,n){var r=this.getData(),i=t(document.createElement("a"),{href:r});if(i.innerHTML="download midi",e.insertBefore(i,e.firstChild),!n){var s=t(document.createElement("embed"),{src:r,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});e.insertBefore(s,e.firstChild)}},r=function(){return new e}})(),t.exports=r},"5cbe":function(t,e){var n=function(t,e,n,r,i){switch(i=i||{},this.x=0,this.c=t,this.dx=e,this.w=n,this.pitch=r,this.scalex=i.scalex||1,this.scaley=i.scaley||1,this.type=i.type||"symbol",this.pitch2=i.pitch2,this.linewidth=i.linewidth,this.klass=i.klass,this.top=r,void 0!==this.pitch2&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=r,void 0!==this.pitch2&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),i.thickness&&(this.top+=i.thickness/2,this.bottom-=i.thickness/2),i.stemHeight&&(i.stemHeight>0?this.top+=i.stemHeight:this.bottom+=i.stemHeight),i.dim&&(this.dim=i.dim),i.position&&(this.position=i.position),this.height=i.height?i.height:4,i.top&&(this.top=i.top),i.bottom&&(this.bottom=i.bottom),i.realWidth?this.realWidth=i.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":i.position&&"below"===i.position?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":i.position&&"below"===i.position?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":void 0===this.pitch?i.position&&"below"===i.position?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};n.prototype.getChordDim=function(){if("debug"===this.type)return null;if(!this.chordHeightAbove&&!this.chordHeightBelow)return null;var t=this.dim.font.size/4;1===this.c.length&&(t/=2);var e="chord"===this.type?this.realWidth/2:0,n=this.x-e-t,r=n+this.realWidth+t;return{left:n,right:r}},n.prototype.invertLane=function(t){void 0===this.lane&&(this.lane=0),this.lane=t-this.lane-1},n.prototype.putChordInLane=function(t){this.lane=t,this.chordHeightAbove?this.chordHeightAbove=1.25*this.height*this.lane:this.chordHeightBelow=1.25*this.height*this.lane},n.prototype.getLane=function(){return void 0===this.lane?0:this.lane},n.prototype.setX=function(t){this.x=t+this.dx},t.exports=n},"5e54":function(t,e,n){"use strict";n.d(e,"a",(function(){return fl})),n.d(e,"b",(function(){return xl}));const r="14.7.77";var i=n("04d1");const s=()=>new DOMException("","AbortError"),o=t=>(e,n,[r,i,s],o)=>{t(e[i],[n,r,s],t=>t[0]===n&&t[1]===r,o)},a=t=>(e,n,r)=>{const i=[];for(let t=0;t<r.numberOfInputs;t+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},c=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},l=new WeakSet,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,b=new WeakMap,y={construct(){return y}},_=t=>{try{const e=new Proxy(t,y);new e}catch{return!1}return!0},w=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,x=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(w);while(null!==i){const t=i[1].slice(1,-1),s=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(s),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(w)}return[n.join(";"),r]},k=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},T=t=>{if(!_(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!==typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},S=(t,e,n,r,i,s,o,a,c,l,u,h,d)=>(p,f,m={credentials:"omit"})=>{const g=s(p);if(void 0!==g.audioWorklet)return Promise.all([i(f),Promise.resolve(t(h,h))]).then(([[t,e],n])=>{const[r,i]=x(t,e),s=n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",l=n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));",u=n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));",h=`${r};((AudioWorkletProcessor,registerProcessor)=>{${i}\n})(${s},(n,p)=>registerProcessor(n,class extends p{${l}process(i,o,p){${u}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac',class extends AudioWorkletProcessor{process(){return !1}})`,d=new Blob([h],{type:"application/javascript; charset=utf-8"}),p=URL.createObjectURL(d);return g.audioWorklet.addModule(p,m).then(()=>{if(a(g))return g;const t=o(g);return t.audioWorklet.addModule(p,m).then(()=>t)}).then(t=>{if(null===c)throw new SyntaxError;try{new c(t,"__sac")}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(p))});const b=u.get(p);if(void 0!==b&&b.has(f))return Promise.resolve();const y=l.get(p);if(void 0!==y){const t=y.get(f);if(void 0!==t)return t}const _=i(f).then(([t,e])=>{const[r,i]=x(t,e),s=`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`;return n(s)}).then(()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;r(g.currentTime,g.sampleRate,()=>t(class{},void 0,(t,n)=>{if(""===t.trim())throw e();const r=v.get(g);if(void 0!==r){if(r.has(t))throw e();T(n),k(n.parameterDescriptors),r.set(t,n)}else T(n),k(n.parameterDescriptors),v.set(g,new Map([[t,n]]))},g.sampleRate,void 0,void 0))});return void 0===y?l.set(p,new Map([[f,_]])):y.set(f,_),_.then(()=>{const t=u.get(p);void 0===t?u.set(p,new Set([f])):t.add(f)}).finally(()=>{const t=l.get(p);void 0!==t&&t.delete(f)}),_},O=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},C=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return t.delete(r),r},E=(t,e,n,r)=>{const i=O(t,e),s=C(i,t=>t[0]===n&&t[1]===r);return 0===i.size&&t.delete(e),s},A=t=>O(m,t),M=t=>{if(l.has(t))throw new Error("The AudioNode is already stored.");l.add(t),A(t).forEach(t=>t(!0))},N=t=>"port"in t,j=t=>{if(!l.has(t))throw new Error("The AudioNode is not stored.");l.delete(t),A(t).forEach(t=>t(!1))},I=(t,e)=>{!N(t)&&e.every(t=>0===t.size)&&j(t)},P=(t,e,n,r,i,s,o,a,c,l,u,h,d)=>{const p=new WeakMap;return(f,m,g,v,b)=>{const{activeInputs:y,passiveInputs:_}=s(m),{outputs:w}=s(f),x=a(f),k=s=>{const a=c(m),l=c(f);if(s){const e=E(_,f,g,v);t(y,f,e,!1),b||h(f)||n(l,a,g,v),d(m)&&M(m)}else{const t=r(y,f,g,v);e(_,v,t,!1),b||h(f)||i(l,a,g,v);const n=o(m);if(0===n)u(m)&&I(m,y);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout(()=>{u(m)&&I(m,y)},1e3*n))}}};return!!l(w,[m,g,v],t=>t[0]===m&&t[1]===g&&t[2]===v,!0)&&(x.add(k),u(f)?t(y,f,[g,v,k],!0):e(_,v,[f,g,k],!0),!0)}},L=t=>(e,n,[r,i,s],o)=>{const a=e.get(r);void 0===a?e.set(r,new Set([[i,n,s]])):t(a,[i,n,s],t=>t[0]===i&&t[1]===n,o)},D=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)},F=t=>(e,n)=>{t(e).add(n)},B={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},R=(t,e,n,r,i,s)=>class extends t{constructor(t,n){const o=i(t),a={...B,...n},c=r(o,a),l=s(o)?e():null;super(t,!1,c,l),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}},V=(t,e)=>t.context===e,H=(t,e,n)=>()=>{const r=new WeakMap,i=async(i,s,o)=>{let a=e(i);const c=V(a,s);if(!c){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a};return{render(t,e,n){const s=r.get(e);return void 0!==s?Promise.resolve(s):i(t,e,n)}}},q=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},z=()=>new DOMException("","IndexSizeError"),W=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){if(12===r.code)throw z();throw r}})(t.getChannelData)},G={numberOfChannels:1},U=(t,e,n,r,i,s,o,a)=>{let c=null;return class l{constructor(l){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...G,...l};null===c&&(c=new i(1,1,44100));const p=null!==r&&e(s,s)?new r({length:u,numberOfChannels:h,sampleRate:d}):c.createBuffer(h,u,d);if(0===p.numberOfChannels)throw n();return"function"!==typeof p.copyFromChannel?(o(p),W(p)):e(q,()=>q(p))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===l.prototype||t.has(e)}}},Y=-34028234663852886e22,$=-Y,X=t=>l.has(t),K={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Z=(t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const a=s(t),c={...K,...r},l=i(a,c),u=o(a),h=u?e():null;super(t,!1,l,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=l,this._onended=null,this._playbackRate=n(this,u,l.playbackRate,$,Y)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){M(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),X(this)&&j(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}},Q=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const c=async(c,l,u)=>{let h=n(c);const d=V(h,l);if(!d){const t={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(l,t),null!==o&&h.start(...o),null!==a&&h.stop(a)}return s.set(l,h),d?await t(l,c.playbackRate,h.playbackRate,u):await r(l,c.playbackRate,h.playbackRate,u),await i(c,l,h,u),h};return{set start(t){o=t},set stop(t){a=t},render(t,e,n){const r=s.get(e);return void 0!==r?Promise.resolve(r):c(t,e,n)}}},J=t=>"playbackRate"in t,tt=t=>"frequency"in t&&"gain"in t,et=t=>"offset"in t,nt=t=>!("frequency"in t)&&"gain"in t,rt=t=>"detune"in t&&"frequency"in t,it=t=>"pan"in t,st=t=>O(u,t),ot=t=>O(d,t),at=(t,e)=>{const{activeInputs:n}=st(t);n.forEach(n=>n.forEach(([n])=>{e.includes(t)||at(n,[...e,t])}));const r=J(t)?[t.playbackRate]:N(t)?Array.from(t.parameters.values()):tt(t)?[t.Q,t.detune,t.frequency,t.gain]:et(t)?[t.offset]:nt(t)?[t.gain]:rt(t)?[t.detune,t.frequency]:it(t)?[t.pan]:[];for(const i of r){const t=ot(i);void 0!==t&&t.activeInputs.forEach(([t])=>at(t,e))}X(t)&&j(t)},ct=t=>{at(t.destination,[])},lt=t=>void 0===t||"number"===typeof t||"string"===typeof t&&("balanced"===t||"interactive"===t||"playback"===t),ut=(t,e,n,r,i,s,o,a,c)=>class extends t{constructor(t={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new c(t)}catch(o){if(12===o.code&&"sampleRate is not in range"===o.message)throw n();throw o}if(null===e)throw r();if(!lt(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:s}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===i?512/s:"interactive"===i||void 0===i?256/s:"playback"===i?1024/s:128*Math.max(2,Math.min(128,Math.round(i*s/128)))/s,this._nativeAudioContext=e,"webkitAudioContext"===c.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ct(this)}))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw e();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw e();throw t})}},ht=(t,e,n,r,i,s,o,a)=>class extends t{constructor(t,n){const r=s(t),c=o(r),l=i(r,n,c),u=c?e(a):null;super(t,!1,l,u),this._isNodeOfNativeOfflineAudioContext=c,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},dt=t=>{let e=null;const n=async(e,n,r)=>{const i=n.destination;return await t(e,n,i,r),i};return{render(t,r,i){return null===e&&(e=n(t,r,i)),e}}},pt=(t,e,n,r,i)=>(s,o)=>{const a=o.listener,c=()=>{const c=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),l=i(o),u=r(o,256,9,0),h=(e,r)=>{const i=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});return i.connect(c,0,e),i.start(),Object.defineProperty(i.offset,"defaultValue",{get(){return r}}),t({context:s},l,i.offset,$,Y)};let d=[0,0,-1,0,1,0],p=[0,0,0];return u.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some((t,e)=>t!==d[e])&&(a.setOrientation(...e),d=e);const n=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];n.some((t,e)=>t!==p[e])&&(a.setPosition(...n),p=n)},c.connect(u),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}},{forwardX:l,forwardY:u,forwardZ:h,positionX:d,positionY:p,positionZ:f,upX:m,upY:g,upZ:v}=void 0===a.forwardX?c():a;return{get forwardX(){return l},get forwardY(){return u},get forwardZ(){return h},get positionX(){return d},get positionY(){return p},get positionZ(){return f},get upX(){return m},get upY(){return g},get upZ(){return v}}},ft=t=>"context"in t,mt=t=>ft(t[0]),gt=(t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},vt=(t,e,[n,r],i)=>{gt(t,[e,n,r],t=>t[0]===e&&t[1]===n,i)},bt=(t,[e,n,r],i)=>{const s=t.get(e);void 0===s?t.set(e,new Set([[n,r]])):gt(s,[n,r],t=>t[0]===n,i)},yt=t=>"inputs"in t,_t=(t,e,n,r)=>{if(yt(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},wt=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},xt=(t,e,n)=>C(t,t=>t[0]===e&&t[1]===n),kt=(t,e)=>{const n=A(t);if(!n.delete(e))throw new Error("Missing the expected event listener.")},Tt=(t,e,n)=>{const r=O(t,e),i=C(r,t=>t[0]===n);return 0===r.size&&t.delete(e),i},St=(t,e,n,r)=>{yt(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Ot=t=>O(h,t),Ct=t=>O(p,t),Et=t=>g.has(t),At=t=>!l.has(t),Mt=t=>new Promise(e=>{const n=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(n).connect(t.destination),o.connect(r),o.disconnect(r),n.onaudioprocess=r=>{const i=r.inputBuffer.getChannelData(0);Array.prototype.some.call(i,t=>1===t)?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()}),Nt=(t,e)=>{const n=new Map;for(const r of t)for(const t of r){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach((t,n)=>e(n,t))},jt=t=>"context"in t,It=t=>{const e=new Map;t.connect=(t=>(n,r=0,i=0)=>{const s=jt(n)?t(n,r,i):t(n,r),o=e.get(n);return void 0===o?e.set(n,[{input:i,output:r}]):o.every(t=>t.input!==i||t.output!==r)&&o.push({input:i,output:r}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),void 0===r)e.clear();else if("number"===typeof r)for(const[t,n]of e){const i=n.filter(t=>t.output!==r);0===i.length?e.delete(t):e.set(t,i)}else if(e.has(r))if(void 0===i)e.delete(r);else{const t=e.get(r);if(void 0!==t){const n=t.filter(t=>t.output!==i&&(t.input!==s||void 0===s));0===n.length?e.delete(r):e.set(r,n)}}for(const[n,o]of e)o.forEach(e=>{jt(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)})})(t.disconnect)},Pt=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=ot(e),{outputs:o}=st(t),a=A(t),c=o=>{const a=Ot(t),c=Ct(e);if(o){const e=Tt(s,t,n);vt(i,t,e,!1),r||Et(t)||a.connect(c,n)}else{const e=xt(i,t,n);bt(s,e,!1),r||Et(t)||a.disconnect(c,n)}};return!!gt(o,[e,n],t=>t[0]===e&&t[1]===n,!0)&&(a.add(c),X(t)?vt(i,t,[n,c],!0):bt(s,[t,n,c],!0),!0)},Lt=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=st(e),o=wt(i[r],t,n);if(null===o){const e=E(s,t,n,r);return[e[2],!1]}return[o[2],!0]},Dt=(t,e,n)=>{const{activeInputs:r,passiveInputs:i}=ot(e),s=wt(r,t,n);if(null===s){const e=Tt(i,t,n);return[e[1],!1]}return[s[2],!0]},Ft=(t,e,n,r,i)=>{const[s,o]=Lt(t,n,r,i);if(null!==s&&(kt(t,s),!o||e||Et(t)||St(Ot(t),Ot(n),r,i)),X(n)){const{activeInputs:t}=st(n);I(n,t)}},Bt=(t,e,n,r)=>{const[i,s]=Dt(t,n,r);null!==i&&(kt(t,i),!s||e||Et(t)||Ot(t).disconnect(Ct(n),r))},Rt=(t,e)=>{const n=st(t),r=[];for(const i of n.outputs)mt(i)?Ft(t,e,...i):Bt(t,e,...i),r.push(i[0]);return n.outputs.clear(),r},Vt=(t,e,n)=>{const r=st(t),i=[];for(const s of r.outputs)s[1]===n&&(mt(s)?Ft(t,e,...s):Bt(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i},Ht=(t,e,n,r,i)=>{const s=st(t);return Array.from(s.outputs).filter(t=>t[0]===n&&(void 0===r||t[1]===r)&&(void 0===i||t[2]===i)).map(n=>(mt(n)?Ft(t,e,...n):Bt(t,e,...n),s.outputs.delete(n),n[0]))},qt=(t,e,n,r,i,s,o,a,c,l,u,d,p,f,g)=>class extends l{constructor(e,r,i,s){super(i),this._context=e,this._nativeAudioNode=i;const o=u(e);d(o)&&!0!==n(Mt,()=>Mt(o))&&It(i),h.set(this,i),m.set(this,new Set),"closed"!==e.state&&r&&M(this),t(this,s,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const l=u(this._context),h=g(l);if(p(t)||f(t))throw s();if(ft(t)){const i=Ot(t);try{const e=_t(this._nativeAudioNode,i,n,a),r=At(this);(h||r)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!r&&At(t)&&M(t)}catch(v){if(12===v.code)throw s();throw v}const o=e(this,t,n,a,h);if(o){const e=c([this],t);Nt(e,r(h))}return t}const d=Ct(t);if("playbackRate"===d.name&&1024===d.maxValue)throw o();try{this._nativeAudioNode.connect(d,n),(h||At(this))&&this._nativeAudioNode.disconnect(d,n)}catch(v){if(12===v.code)throw s();throw v}const m=Pt(this,t,n,h);if(m){const e=c([this],t);Nt(e,r(h))}}disconnect(t,e,n){let r;const o=u(this._context),l=g(o);if(void 0===t)r=Rt(this,l);else if("number"===typeof t){if(t<0||t>=this.numberOfOutputs)throw i();r=Vt(this,l,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(ft(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(r=Ht(this,l,t,e,n),0===r.length)throw s()}for(const i of r){const t=c([this],i);Nt(t,a)}}},zt=(t,e,n,r,s,o,a,c,l,u,h,d,p)=>(f,m,g,v=null,b=null)=>{const y=new i["AutomationEventList"](g.defaultValue),_=m?r(y):null,w={get defaultValue(){return g.defaultValue},get maxValue(){return null===v?g.maxValue:v},get minValue(){return null===b?g.minValue:b},get value(){return g.value},set value(t){g.value=t,w.setValueAtTime(t,f.context.currentTime)},cancelAndHoldAtTime(t){if("function"===typeof g.cancelAndHoldAtTime)null===_&&y.flush(f.context.currentTime),y.add(s(t)),g.cancelAndHoldAtTime(t);else{const e=Array.from(y).pop();null===_&&y.flush(f.context.currentTime),y.add(s(t));const n=Array.from(y).pop();g.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?g.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?g.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?g.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&g.setValueCurveAtTime(n.values,n.startTime,n.duration))}return w},cancelScheduledValues(t){return null===_&&y.flush(f.context.currentTime),y.add(o(t)),g.cancelScheduledValues(t),w},exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===_&&y.flush(f.context.currentTime),y.add(a(t,e)),g.exponentialRampToValueAtTime(t,e),w},linearRampToValueAtTime(t,e){return null===_&&y.flush(f.context.currentTime),y.add(c(t,e)),g.linearRampToValueAtTime(t,e),w},setTargetAtTime(t,e,n){return null===_&&y.flush(f.context.currentTime),y.add(l(t,e,n)),g.setTargetAtTime(t,e,n),w},setValueAtTime(t,e){return null===_&&y.flush(f.context.currentTime),y.add(u(t,e)),g.setValueAtTime(t,e),w},setValueCurveAtTime(t,e,n){const r=t instanceof Float32Array?t:new Float32Array(t);if(null!==d&&"webkitAudioContext"===d.name){const t=e+n,i=f.context.sampleRate,s=Math.ceil(e*i),o=Math.floor(t*i),a=o-s,c=new Float32Array(a);for(let u=0;u<a;u+=1){const t=(r.length-1)/n*((s+u)/i-e),o=Math.floor(t),a=Math.ceil(t);c[u]=o===a?r[o]:(1-(t-o))*r[o]+(1-(a-t))*r[a]}null===_&&y.flush(f.context.currentTime),y.add(h(c,e,n)),g.setValueCurveAtTime(c,e,n);const l=o/i;l<t&&p(w,c[c.length-1],l),p(w,r[r.length-1],t)}else null===_&&y.flush(f.context.currentTime),y.add(h(r,e,n)),g.setValueCurveAtTime(r,e,n);return w}};return n.set(w,g),e.set(w,f),t(w,_),w},Wt=t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:r}=n;e.exponentialRampToValueAtTime(r,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:r}=n;e.linearRampToValueAtTime(r,t)}else if("setTarget"===n.type){const{startTime:t,target:r,timeConstant:i}=n;e.setTargetAtTime(r,t,i)}else if("setValue"===n.type){const{startTime:t,value:r}=n;e.setValueAtTime(r,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,t)}}}});class Gt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((n,r)=>t.call(e,n,r,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ut={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Yt=(t,e,n,r,i,s,o,a,c,l,u,h,d,p)=>class extends e{constructor(e,p,f){var m;const g=a(e),b=c(g),y=u({...Ut,...f});d(y);const _=v.get(g),w=null===_||void 0===_?void 0:_.get(p),x=b||"closed"!==g.state?g:null!==(m=o(g))&&void 0!==m?m:g,k=i(x,b?null:e.baseLatency,l,p,w,y),T=b?r(p,y,w):null;super(e,!0,k,T);const S=[];k.parameters.forEach((t,e)=>{const r=n(this,b,t);S.push([e,r])}),this._nativeAudioWorkletNode=k,this._onprocessorerror=null,this._parameters=new Gt(S),b&&t(g,this);const{activeInputs:O}=s(this);h(k,O)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"===typeof t?p(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function $t(t,e,n,r,i){if("function"===typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(0===e[n].byteLength)e[n]=s.slice(i,i+128);else{const t=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Xt=(t,e,n,r,i)=>{"function"===typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],r,i):0!==e[n].byteLength&&t.getChannelData(r).set(e[n],i)},Kt=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const t=[],i="number"===typeof e?e:e[r];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Zt=(t,e)=>{const n=O(b,t),r=Ot(e);return O(n,r)},Qt=async(t,e,n,r,i,s,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,c=r.channelCount*r.numberOfInputs,l=i.reduce((t,e)=>t+e,0),u=0===l?null:n.createBuffer(l,a,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=st(t),d=await Zt(n,t),p=Kt(r.numberOfInputs,r.channelCount),f=Kt(r.numberOfOutputs,i),m=Array.from(t.parameters.keys()).reduce((t,e)=>({...t,[e]:new Float32Array(128)}),{});for(let v=0;v<a;v+=128){if(r.numberOfInputs>0&&null!==e)for(let t=0;t<r.numberOfInputs;t+=1)for(let n=0;n<r.channelCount;n+=1)$t(e,p[t],n,n,v);void 0!==s.parameterDescriptors&&null!==e&&s.parameterDescriptors.forEach(({name:t},n)=>{$t(e,m,t,c+n,v)});for(let t=0;t<r.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map((t,e)=>0===h.activeInputs[e].size?[]:t),e=o(v/n.sampleRate,n.sampleRate,()=>d.process(t,f,m));if(null!==u)for(let n=0,s=0;n<r.numberOfOutputs;n+=1){for(let t=0;t<i[n];t+=1)Xt(u,f[n],t,s+t,v);s+=i[n]}if(!e)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return u},Jt=(t,e,n,r,i,s,o,a,c,l,u,h,d,p,f,m)=>(g,v,b)=>{const y=new WeakMap;let _=null;const w=async(a,w,x)=>{let k=u(a),T=null;const S=V(k,w),O=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=O.reduce((t,e)=>t+e,0),n=i(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),s=[];for(let e=0;e<a.numberOfOutputs;e+=1)s.push(r(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[e]}));const l=o(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});l.connect=e.bind(null,s),l.disconnect=c.bind(null,s),T=[n,s,l]}else S||(k=new h(w,g));if(y.set(w,null===T?k:T[2]),null!==T){if(null===_){if(void 0===b)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===b.parameterDescriptors?0:b.parameterDescriptors.length,n=t+e,c=async()=>{const c=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),l=[],u=[];for(let t=0;t<v.numberOfInputs;t+=1)l.push(o(c,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),u.push(i(c,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map(async t=>{const e=s(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(c,t,e.offset,x),e})),g=r(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){l[t].connect(u[t]);for(let e=0;e<v.channelCount;e+=1)u[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(c.destination),await Promise.all(l.map(t=>f(a,c,t,x))),m(c)};_=Qt(a,0===n?null:await c(),w,v,O,b,l)}const t=await _,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,u,h]=T;null!==t&&(e.buffer=t,e.start(0)),e.connect(c);for(let n=0,r=0;n<a.numberOfOutputs;n+=1){const t=u[n];for(let e=0;e<O[n];e+=1)c.connect(t,r+e,e);r+=O[n]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(w,n,k.parameters.get(e),x);else for(const[t,e]of a.parameters.entries())await p(w,e,k.parameters.get(t),x);return await f(a,w,k,x),k};return{render(t,e,n){a(e,t);const r=y.get(e);return void 0!==r?Promise.resolve(r):w(t,e,n)}}},te=(t,e,n,r,i,s,o,a,c,l,u,h,d,p,f,m,g,v,b,y)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,r){return new n({length:e,numberOfChannels:t,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(t=6){return new s(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new v(this,{...n,imag:e,real:t})}createStereoPanner(){return new b(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return l(this._nativeContext,t).then(t=>("function"===typeof e&&e(t),t),t=>{throw"function"===typeof n&&n(t),t})}},ee={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},ne=(t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const c=s(t),l={...ee,...r},u=i(c,l),h=o(c),d=h?n():null;super(t,!1,u,d),this._Q=e(this,h,u.Q,$,Y),this._detune=e(this,h,u.detune,1200*Math.log2($),-1200*Math.log2($)),this._frequency=e(this,h,u.frequency,t.sampleRate/2,0),this._gain=e(this,h,u.gain,40*Math.log10($),Y),this._nativeBiquadFilterNode=u,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(i){if(11===i.code)throw r();throw i}if(t.length!==e.length||e.length!==n.length)throw r()}},re=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(o,a,c)=>{let l=n(o);const u=V(l,a);if(!u){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return s.set(a,l),u?(await t(a,o.Q,l.Q,c),await t(a,o.detune,l.detune,c),await t(a,o.frequency,l.frequency,c),await t(a,o.gain,l.gain,c)):(await r(a,o.Q,l.Q,c),await r(a,o.detune,l.detune,c),await r(a,o.frequency,l.frequency,c),await r(a,o.gain,l.gain,c)),await i(o,a,l,c),l};return{render(t,e,n){const r=s.get(e);return void 0!==r?Promise.resolve(r):o(t,e,n)}}},ie=(t,e)=>(n,r)=>{const i=e.get(n);if(void 0!==i)return i;const s=t.get(n);if(void 0!==s)return s;try{const i=r();return i instanceof Promise?(t.set(n,i),i.catch(()=>!1).then(r=>(t.delete(n),e.set(n,r),r))):(e.set(n,i),i)}catch{return e.set(n,!1),!1}},se={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},oe=(t,e,n,r,i)=>class extends t{constructor(t,s){const o=r(t),a={...se,...s},c=n(o,a),l=i(o)?e():null;super(t,!1,c,l)}},ae=(t,e,n)=>()=>{const r=new WeakMap,i=async(i,s,o)=>{let a=e(i);const c=V(a,s);if(!c){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a};return{render(t,e,n){const s=r.get(e);return void 0!==s?Promise.resolve(s):i(t,e,n)}}},ce={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},le=(t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),c=s({...ce,...o}),l=n(a,c),u=i(a)?e():null;super(t,!1,l,u)}},ue=(t,e,n)=>()=>{const r=new WeakMap,i=async(i,s,o)=>{let a=e(i);const c=V(a,s);if(!c){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a};return{render(t,e,n){const s=r.get(e);return void 0!==s?Promise.resolve(s):i(t,e,n)}}},he=t=>(e,n,r,i)=>t(n,e,r,i),de=t=>(e,n,r=0,i=0)=>{const s=e[r];if(void 0===s)throw t();return jt(n)?s.connect(n,0,i):s.connect(n,0)},pe=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},fe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},me=(t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),c={...fe,...o},l=r(a,c),u=s(a),h=u?n():null;super(t,!1,l,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=l,this._offset=e(this,u,l.offset,$,Y),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){M(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),X(this)&&j(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}},ge=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const c=async(c,l,u)=>{let h=n(c);const d=V(h,l);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(l,t),null!==o&&h.start(o),null!==a&&h.stop(a)}return s.set(l,h),d?await t(l,c.offset,h.offset,u):await r(l,c.offset,h.offset,u),await i(c,l,h,u),h};return{set start(t){o=t},set stop(t){a=t},render(t,e,n){const r=s.get(e);return void 0!==r?Promise.resolve(r):c(t,e,n)}}},ve=t=>e=>(t[0]=e,t[0]),be={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ye=(t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),c={...be,...o},l=n(a,c),u=i(a),h=u?e():null;super(t,!1,l,h),this._isBufferNullified=!1,this._nativeConvolverNode=l,null!==c.buffer&&s(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}},_e=(t,e,n)=>()=>{const r=new WeakMap,i=async(i,s,o)=>{let a=e(i);const c=V(a,s);if(!c){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,e)}return r.set(s,a),yt(a)?await n(i,s,a.inputs[0],o):await n(i,s,a,o),a};return{render(t,e,n){const s=r.get(e);return void 0!==s?Promise.resolve(s):i(t,e,n)}}},we=(t,e)=>(n,r,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(s){if("SyntaxError"===s.name)throw t();throw s}},xe=()=>new DOMException("","DataCloneError"),ke=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{n.onmessage=()=>{e.close(),n.close(),r()},e.postMessage(t,[t])})},Te=(t,e,n,r,i,s,o,a,c,l,u)=>(h,d)=>{const p=o(h)?h:s(h);if(i.has(d)){const t=n();return Promise.reject(t)}try{i.add(d)}catch{}return e(c,()=>c(p))?p.decodeAudioData(d).then(n=>(ke(d).catch(()=>{}),e(a,()=>a(n))||u(n),t.add(n),n)):new Promise((e,n)=>{const i=async()=>{try{await ke(d)}catch{}},s=t=>{n(t),i()};try{p.decodeAudioData(d,n=>{"function"!==typeof n.copyFromChannel&&(l(n),W(n)),t.add(n),i().then(()=>e(n))},t=>{s(null===t?r():t)})}catch(o){s(o)}})},Se=(t,e,n,r,i,s,o,a)=>(c,l)=>{const u=e.get(c);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=s(c.context),d=a(h);if(u===l){if(e.delete(c),!d&&o(c)){const e=r(c),{outputs:s}=n(c);for(const n of s)if(mt(n)){const i=r(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(c,u-l)},Oe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ce=(t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const c=i(t),l={...Oe,...a},u=r(c,l),h=s(c),d=h?n(l.maxDelayTime):null;super(t,!1,u,d),this._delayTime=e(this,h,u.delayTime),o(this,l.maxDelayTime)}get delayTime(){return this._delayTime}},Ee=(t,e,n,r,i)=>s=>{const o=new WeakMap,a=async(a,c,l)=>{let u=n(a);const h=V(u,c);if(!h){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:s};u=e(c,t)}return o.set(c,u),h?await t(c,a.delayTime,u.delayTime,l):await r(c,a.delayTime,u.delayTime,l),await i(a,c,u,l),u};return{render(t,e,n){const r=o.get(e);return void 0!==r?Promise.resolve(r):a(t,e,n)}}},Ae=t=>(e,n,r,i)=>t(e[i],t=>t[0]===n&&t[1]===r),Me=t=>(e,n)=>{t(e).delete(n)},Ne=t=>"delayTime"in t,je=(t,e,n)=>function r(i,s){const o=ft(s)?s:n(t,s);if(Ne(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(t=>r([...i,o],t[0])).reduce((t,e)=>t.concat(e),[])},Ie=(t,e,n)=>{const r=e[n];if(void 0===r)throw t();return r},Pe=t=>(e,n,r,i=0)=>void 0===n?e.forEach(t=>t.disconnect()):"number"===typeof n?Ie(t,e,n).disconnect():jt(n)?void 0===r?e.forEach(t=>t.disconnect(n)):void 0===i?Ie(t,e,r).disconnect(n,0):Ie(t,e,r).disconnect(n,0,i):void 0===r?e.forEach(t=>t.disconnect(n)):Ie(t,e,r).disconnect(n,0),Le={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},De=(t,e,n,r,i,s,o,a)=>class extends t{constructor(t,i){const c=s(t),l={...Le,...i},u=r(c,l),h=o(c),d=h?n():null;super(t,!1,u,d),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Fe=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(o,a,c)=>{let l=n(o);const u=V(l,a);if(!u){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return s.set(a,l),u?(await t(a,o.attack,l.attack,c),await t(a,o.knee,l.knee,c),await t(a,o.ratio,l.ratio,c),await t(a,o.release,l.release,c),await t(a,o.threshold,l.threshold,c)):(await r(a,o.attack,l.attack,c),await r(a,o.knee,l.knee,c),await r(a,o.ratio,l.ratio,c),await r(a,o.release,l.release,c),await r(a,o.threshold,l.threshold,c)),await i(o,a,l,c),l};return{render(t,e,n){const r=s.get(e);return void 0!==r?Promise.resolve(r):o(t,e,n)}}},Be=()=>new DOMException("","EncodingError"),Re=t=>e=>new Promise((n,r)=>{if(null===t)return void r(new SyntaxError);const i=t.document.head;if(null===i)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=t.onerror,l=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(e,n,i,s,o)=>n===a||n===t.location.href&&1===i&&1===s?(l(),r(o),!1):null!==c?c(e,n,i,s,o):void 0,s.onerror=()=>{l(),r(new SyntaxError)},s.onload=()=>{l(),n()},s.src=a,s.type="module",i.appendChild(s)}}),Ve=t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,r){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"===typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const r=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===r?null:r,n)}},He=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}},qe=t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw t()},ze={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},We=(t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),c={...ze,...o},l=r(a,c),u=s(a),h=u?n():null;super(t,!1,l,h),this._gain=e(this,u,l.gain,$,Y)}get gain(){return this._gain}},Ge=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(o,a,c)=>{let l=n(o);const u=V(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return s.set(a,l),u?await t(a,o.gain,l.gain,c):await r(a,o.gain,l.gain,c),await i(o,a,l,c),l};return{render(t,e,n){const r=s.get(e);return void 0!==r?Promise.resolve(r):o(t,e,n)}}},Ue=(t,e)=>n=>e(t,n),Ye=t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},$e=t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0},Xe=t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Ke=t=>e=>t.get(e),Ze=()=>new DOMException("","InvalidStateError"),Qe=t=>e=>{const n=t.get(e);if(void 0===n)throw Ze();return n},Je=(t,e)=>n=>{let r=t.get(n);if(void 0!==r)return r;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},tn=t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n},en=()=>new DOMException("","InvalidAccessError"),nn=t=>{t.getFrequencyResponse=(e=>(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw en();return e.call(t,n,r,i)})(t.getFrequencyResponse)},rn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},sn=(t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),c=i(a),l={...rn,...o},u=e(a,c?null:t.baseLatency,l),h=c?n(l.feedback,l.feedforward):null;super(t,!1,u,h),nn(u),this._nativeIIRFilterNode=u,s(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}},on=(t,e,n,r,i,s,o,a,c,l,u)=>{const h=l.length;let d=a;for(let p=0;p<h;p+=1){let a=n[0]*l[p];for(let e=1;e<i;e+=1){const r=d-e&c-1;a+=n[e]*s[r],a-=t[e]*o[r]}for(let t=i;t<r;t+=1)a+=n[t]*s[d-t&c-1];for(let n=i;n<e;n+=1)a-=t[n]*o[d-n&c-1];s[d]=l[p],o[d]=a,d=d+1&c-1,u[p]=a}return d},an=(t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,c=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)s[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const l=32,u=new Float32Array(l),h=new Float32Array(l),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let f=0;f<p;f+=1){const e=t.getChannelData(f),n=d.getChannelData(f);u.fill(0),h.fill(0),on(i,o,s,a,c,u,h,0,l,e,n)}return d},cn=(t,e,n,r,i)=>(s,o)=>{const a=new WeakMap;let c=null;const l=async(l,u,h)=>{let d=null,p=e(l);const f=V(p,u);if(void 0===u.createIIRFilter?d=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=u.createIIRFilter(o,s)),a.set(u,null===d?p:d),null!==d){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(l.context.destination.channelCount,l.context.length,u.sampleRate);c=(async()=>{await r(l,t,t.destination,h);const e=await i(t);return an(e,u,s,o)})()}const t=await c;return d.buffer=t,d.start(0),d}return await r(l,u,p,h),p};return{render(t,e,n){const r=a.get(e);return void 0!==r?Promise.resolve(r):l(t,e,n)}}},ln=(t,e,n,r,i,s)=>o=>(a,c)=>{const l=t.get(a);if(void 0===l){if(!o&&s(a)){const t=r(a),{outputs:s}=n(a);for(const n of s)if(mt(n)){const i=r(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,c)}else t.set(a,l+c)},un=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},hn=(t,e)=>n=>t.has(n)||e(n),dn=(t,e)=>n=>t.has(n)||e(n),pn=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},fn=t=>e=>null!==t&&e instanceof t,mn=t=>e=>null!==t&&"function"===typeof t.AudioNode&&e instanceof t.AudioNode,gn=t=>e=>null!==t&&"function"===typeof t.AudioParam&&e instanceof t.AudioParam,vn=(t,e)=>n=>t(n)||e(n),bn=t=>e=>null!==t&&e instanceof t,yn=t=>null!==t&&t.isSecureContext,_n=(t,e,n,r)=>class extends t{constructor(t,i){const s=n(t),o=e(s,i);if(r(s))throw TypeError();super(t,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},wn={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},xn=(t,e,n,r)=>class extends t{constructor(t,i){const s=n(t);if(r(s))throw new TypeError;const o={...wn,...i},a=e(s,o);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},kn=(t,e,n,r)=>class extends t{constructor(t,i){const s=n(t),o=e(s,i);if(r(s))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Tn=(t,e,n)=>class extends t{constructor(t,r){const i=n(t),s=e(i,r);super(t,!0,s,null)}},Sn=(t,e,n,r,i)=>class extends r{constructor(t={}){if(null===i)throw new Error("Missing the native AudioContext constructor.");let r;try{r=new i(t)}catch(a){if(12===a.code&&"sampleRate is not in range"===a.message)throw e();throw a}if(null===r)throw n();if(!lt(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&r.sampleRate!==t.sampleRate)throw e();super(r,2);const{latencyHint:s}=t,{sampleRate:o}=r;if(this._baseLatency="number"===typeof r.baseLatency?r.baseLatency:"balanced"===s?512/o:"interactive"===s||void 0===s?256/o:"playback"===s?1024/o:128*Math.max(2,Math.min(128,Math.round(s*o/128)))/o,this._nativeAudioContext=r,"webkitAudioContext"===i.name?(this._nativeGainNode=r.createGain(),this._nativeOscillatorNode=r.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(r.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===r.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),r.removeEventListener("statechange",t)};r.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw t()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ct(this)}))}resume(){return"suspended"===this._state?new Promise((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(e=>{if(void 0===e||15===e.code)throw t();throw e})}suspend(){return this._nativeAudioContext.suspend().catch(e=>{if(void 0===e)throw t();throw e})}},On=(t,e,n,r,i,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,f.set(this,n),r(n)&&i.set(n,new Set),this._destination=new t(this,s),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"===typeof t?s(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Cn=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},En={numberOfChannels:1},An=(t,e,n,r,i)=>class extends r{constructor(e){const{length:r,numberOfChannels:i,sampleRate:s}={...En,...e},o=n(i,r,s);t(Cn,()=>Cn(o))||o.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(o.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(o,i),this._length=r,this._nativeOfflineAudioContext=o,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(e()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ct(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}},Mn=(t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(i=>(o,a=0,c=0)=>{const l=0===s.size;if(e(o))return i.call(n,o,a,c),t(s,[o,a,c],t=>t[0]===o&&t[1]===a&&t[2]===c,!0),l&&r(),o;i.call(n,o,a),t(s,[o,a],t=>t[0]===o&&t[1]===a,!0),l&&r()})(n.connect),n.disconnect=(t=>(r,o,a)=>{const c=s.size>0;if(void 0===r)t.apply(n),s.clear();else if("number"===typeof r){t.call(n,r);for(const t of s)t[1]===r&&s.delete(t)}else{e(r)?t.call(n,r,o,a):t.call(n,r,o);for(const t of s)t[0]!==r||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||s.delete(t)}const l=0===s.size;c&&l&&i()})(n.disconnect),n},Nn=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n]&&(t[n]=r)},jn=(t,e)=>{Nn(t,e,"channelCount"),Nn(t,e,"channelCountMode"),Nn(t,e,"channelInterpretation")},In=t=>"function"===typeof t.getFloatTimeDomainData,Pn=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let t=0;t<r;t+=1)e[t]=.0078125*(n[t]-128);return e}},Ln=(t,e)=>(n,r)=>{const i=n.createAnalyser();if(jn(i,r),!(r.maxDecibels>r.minDecibels))throw e();return Nn(i,r,"fftSize"),Nn(i,r,"maxDecibels"),Nn(i,r,"minDecibels"),Nn(i,r,"smoothingTimeConstant"),t(In,()=>In(i))||Pn(i),i},Dn=t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Fn=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n].value&&(t[n].value=r)},Bn=t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw Ze();e.call(t,r,i,s),n=!0}})(t.start)},Rn=t=>{t.start=(e=>(n=0,r=0,i)=>{if("number"===typeof i&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},Vn=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Hn=(t,e,n,r,i,s,o,a,c,l,u)=>(h,d)=>{const p=h.createBufferSource();return jn(p,d),Fn(p,d,"playbackRate"),Nn(p,d,"buffer"),Nn(p,d,"loop"),Nn(p,d,"loopEnd"),Nn(p,d,"loopStart"),e(n,()=>n(h))||Bn(p),e(r,()=>r(h))||c(p),e(i,()=>i(h))||l(p,h),e(s,()=>s(h))||Rn(p),e(o,()=>o(h))||u(p,h),e(a,()=>a(h))||Vn(p),t(h,p),p},qn=t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,zn=(t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",t=>()=>t.call(o),t=>e=>{t.call(o,e);try{s.channelCount=e}catch(n){if(e>s.maxChannelCount)throw n}}),e(o,"channelCountMode",t=>()=>t.call(o),t=>e=>{t.call(o,e),s.channelCountMode=e}),e(o,"channelInterpretation",t=>()=>t.call(o),t=>e=>{t.call(o,e),s.channelInterpretation=e}),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o},Wn=t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Gn=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Un=(t,e,n,r,i)=>(s,o,a,c,l,u)=>{if(null!==a)try{const e=new a(s,c,u),r=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"===typeof o&&e.removeEventListener("processorerror",o),o="function"===typeof t?t:null,"function"===typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(t=>(...n)=>{if("processorerror"===n[0]){const t="function"===typeof n[1]?n[1]:"object"===typeof n[1]&&null!==n[1]&&"function"===typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==t){const e=r.get(n[1]);void 0!==e?n[1]=e:(n[1]=e=>{"error"===e.type?(Object.defineProperties(e,{type:{value:"processorerror"}}),t(e)):t(new ErrorEvent(n[0],{...e}))},r.set(t,n[1]))}}return t.call(e,"error",n[1],n[2]),t.call(e,...n)})(e.addEventListener),e.removeEventListener=(t=>(...n)=>{if("processorerror"===n[0]){const t=r.get(n[1]);void 0!==t&&(r.delete(n[1]),n[1]=t)}return t.call(e,"error",n[1],n[2]),t.call(e,n[0],n[1],n[2])})(e.removeEventListener),0!==u.numberOfOutputs){const t=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(t).connect(s.destination);const r=()=>t.disconnect(),o=()=>t.connect(s.destination);return i(e,r,o)}return e}catch(h){if(11===h.code)throw r();throw h}if(void 0===l)throw r();return Gn(u),e(s,o,l,u)},Yn=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),$n=t=>new Promise((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:t})=>{r.close(),i.close(),e(t)},r.onmessageerror=({data:t})=>{r.close(),i.close(),n(t)},i.postMessage(t)}),Xn=async(t,e)=>{const n=await $n(e);return new t(n)},Kn=(t,e,n,r)=>{let i=b.get(t);void 0===i&&(i=new WeakMap,b.set(t,i));const s=Xn(n,r);return i.set(e,s),s},Zn=(t,e,n,r,i,s,o,a,c,l,u,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw c();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some(t=>t<1))throw c();if(v.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw c();const b=g.channelCount*g.numberOfInputs,y=v.reduce((t,e)=>t+e,0),_=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(b+_>6||y>6)throw c();const w=new MessageChannel,x=[],k=[];for(let t=0;t<g.numberOfInputs;t+=1)x.push(o(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),k.push(i(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const T=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:r}of m.parameterDescriptors){const i=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?$:e},minValue:{get:()=>void 0===n?Y:n}}),T.push(i)}const S=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,b+_)}),O=Yn(f,p.sampleRate),C=a(p,O,b+_,Math.max(1,y)),E=i(p,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),A=[];for(let t=0;t<g.numberOfOutputs;t+=1)A.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[t]}));for(let t=0;t<g.numberOfInputs;t+=1){x[t].connect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[t].connect(S,e,t*g.channelCount+e)}const M=new Gt(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:t},e)=>{const n=T[e];return n.connect(S,0,b+e),n.start(0),[t,n.offset]}));S.connect(C);let N=g.channelInterpretation,j=null;const I=0===g.numberOfOutputs?[C]:A,P={get bufferSize(){return O},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return N},set channelInterpretation(t){for(const e of x)e.channelInterpretation=t;N=t},get context(){return C.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return j},set onprocessorerror(t){"function"===typeof j&&P.removeEventListener("processorerror",j),j="function"===typeof t?t:null,"function"===typeof j&&P.addEventListener("processorerror",j)},get parameters(){return M},get port(){return w.port2},addEventListener(...t){return C.addEventListener(t[0],t[1],t[2])},connect:t.bind(null,I),disconnect:l.bind(null,I),dispatchEvent(...t){return C.dispatchEvent(t[0])},removeEventListener(...t){return C.removeEventListener(t[0],t[1],t[2])}},L=new Map;w.port1.addEventListener=(t=>(...e)=>{if("message"===e[0]){const t="function"===typeof e[1]?e[1]:"object"===typeof e[1]&&null!==e[1]&&"function"===typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=L.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{u(p.currentTime,p.sampleRate,()=>t(e))},L.set(t,e[1]))}}return t.call(w.port1,e[0],e[1],e[2])})(w.port1.addEventListener),w.port1.removeEventListener=(t=>(...e)=>{if("message"===e[0]){const t=L.get(e[1]);void 0!==t&&(L.delete(e[1]),e[1]=t)}return t.call(w.port1,e[0],e[1],e[2])})(w.port1.removeEventListener);let D=null;Object.defineProperty(w.port1,"onmessage",{get:()=>D,set:t=>{"function"===typeof D&&w.port1.removeEventListener("message",D),D="function"===typeof t?t:null,"function"===typeof D&&(w.port1.addEventListener("message",D),w.port1.start())}}),m.prototype.port=w.port1;let F=null;const B=Kn(p,P,m,g);B.then(t=>F=t);const R=Kt(g.numberOfInputs,g.channelCount),V=Kt(g.numberOfOutputs,v),H=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((t,{name:e})=>({...t,[e]:new Float32Array(128)}),{});let q=!0;const z=()=>{g.numberOfOutputs>0&&C.disconnect(E);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=A[t];for(let r=0;r<v[t];r+=1)E.disconnect(n,e+r,r);e+=v[t]}},W=new Map;C.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==F){const r=h(P);for(let i=0;i<O;i+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)$t(t,R[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:e},n)=>{$t(t,H,e,b+n,i)});for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<v[t];e+=1)0===V[t][e].byteLength&&(V[t][e]=new Float32Array(128));try{const t=R.map((t,e)=>{const n=r[e];if(n.size>0)return W.set(e,O/128),t;const i=W.get(e);return void 0===i?[]:(t.every(t=>t.every(t=>0===t))&&(1===i?W.delete(e):W.set(e,i-1)),t)}),n=u(p.currentTime+i/p.sampleRate,p.sampleRate,()=>F.process(t,V,H));q=n;for(let r=0,s=0;r<g.numberOfOutputs;r+=1){for(let t=0;t<v[r];t+=1)Xt(e,V[r],t,s+t,i);s+=v[r]}}catch(n){q=!1,P.dispatchEvent(new ErrorEvent("processorerror",{colno:n.colno,filename:n.filename,lineno:n.lineno,message:n.message}))}if(!q){for(let t=0;t<g.numberOfInputs;t+=1){x[t].disconnect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[i].disconnect(S,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=T[e];t.disconnect(S,0,b+e),t.stop()}}S.disconnect(C),C.onaudioprocess=null,G?z():K();break}}}};let G=!1;const U=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),X=()=>C.connect(U).connect(p.destination),K=()=>{C.disconnect(U),U.disconnect()},Z=()=>{if(q){K(),g.numberOfOutputs>0&&C.connect(E);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=A[t];for(let r=0;r<v[t];r+=1)E.connect(n,e+r,r);e+=v[t]}}G=!0},Q=()=>{q&&(X(),z()),G=!1};return X(),d(P,Z,Q)},Qn=(t,e)=>{const n=t.createBiquadFilter();return jn(n,e),Fn(n,e,"Q"),Fn(n,e,"detune"),Fn(n,e,"frequency"),Fn(n,e,"gain"),Nn(n,e,"type"),n},Jn=(t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),jn(i,r),i},tr=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ze()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ze()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ze()}})},er=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return jn(n,e),tr(n),n},nr=(t,e,n,r,i)=>(s,o)=>{if(void 0===s.createConstantSource)return n(s,o);const a=s.createConstantSource();return jn(a,o),Fn(a,o,"offset"),e(r,()=>r(s))||Rn(a),e(i,()=>i(s))||Vn(a),t(s,a),a},rr=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),ir=(t,e,n,r)=>(i,{offset:s,...o})=>{const a=i.createBuffer(1,2,44100),c=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(i,{...o,gain:s}),u=a.getChannelData(0);u[0]=1,u[1]=1,c.buffer=a,c.loop=!0;const h={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(t){c.onended=t},addEventListener(...t){return c.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return c.dispatchEvent(t[0])},removeEventListener(...t){return c.removeEventListener(t[0],t[1],t[2])},start(t=0){c.start.call(c,t)},stop(t=0){c.stop.call(c,t)}},d=()=>c.connect(l),p=()=>c.disconnect(l);return t(i,c),r(rr(h,l),d,p)},sr=(t,e)=>(n,r)=>{const i=n.createConvolver();if(jn(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),Nn(i,r,"buffer"),r.channelCount>2)throw t();if(e(i,"channelCount",t=>()=>t.call(i),e=>n=>{if(n>2)throw t();return e.call(i,n)}),"max"===r.channelCountMode)throw t();return e(i,"channelCountMode",t=>()=>t.call(i),e=>n=>{if("max"===n)throw t();return e.call(i,n)}),i},or=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return jn(n,e),Fn(n,e,"delayTime"),n},ar=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(jn(r,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Fn(r,n,"attack"),Fn(r,n,"knee"),Fn(r,n,"ratio"),Fn(r,n,"release"),Fn(r,n,"threshold"),r},cr=(t,e)=>{const n=t.createGain();return jn(n,e),Fn(n,e,"gain"),n},lr=t=>(e,n,r)=>{if(void 0===e.createIIRFilter)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return jn(i,r),i};function ur(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function hr(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function dr(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=hr(n,e),n[0]+=t[r];return n}const pr=(t,e,n,r)=>(i,s,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:u})=>{const h=Yn(s,i.sampleRate),d=l instanceof Float64Array?l:new Float64Array(l),p=u instanceof Float64Array?u:new Float64Array(u),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw r();if(0===d[0])throw e();if(0===m||m>20)throw r();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const v=n(i,h,o,o);v.channelCount=o,v.channelCountMode=a,v.channelInterpretation=c;const b=32,y=[],_=[],w=[];for(let t=0;t<o;t+=1){y.push(0);const t=new Float32Array(b),e=new Float32Array(b);t.fill(0),e.fill(0),_.push(t),w.push(e)}v.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,r=e.numberOfChannels;for(let i=0;i<r;i+=1){const t=e.getChannelData(i),r=n.getChannelData(i);y[i]=on(d,f,p,m,g,_[i],w[i],y[i],b,t,r)}};const x=i.sampleRate/2,k={get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(t){v.channelCount=t},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){v.channelCountMode=t},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...t){return v.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return v.dispatchEvent(t[0])},getFrequencyResponse(e,n,r){if(e.length!==n.length||n.length!==r.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/x),s=[Math.cos(i),Math.sin(i)],o=dr(p,s),a=dr(d,s),c=ur(o,a);n[t]=Math.sqrt(c[0]*c[0]+c[1]*c[1]),r[t]=Math.atan2(c[1],c[0])}},removeEventListener(...t){return v.removeEventListener(t[0],t[1],t[2])}};return rr(k,v)},fr=(t,e)=>t.createMediaElementSource(e.mediaElement),mr=(t,e)=>{const n=t.createMediaStreamDestination();return jn(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},gr=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((t,e)=>t.id<e.id?-1:t.id>e.id?1:0);const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i},vr=(t,e)=>(n,{mediaStreamTrack:r})=>{if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),s=n.createMediaStreamSource(i);if("audio"!==r.kind)throw t();if(e(n))throw new TypeError;return s},br=t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,yr=(t,e,n,r,i,s)=>(o,a)=>{const c=o.createOscillator();return jn(c,a),Fn(c,a,"detune"),Fn(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):Nn(c,a,"type"),e(n,()=>n(o))||Rn(c),e(r,()=>r(o))||s(c,o),e(i,()=>i(o))||Vn(c),t(o,c),c},_r=t=>(e,n)=>{const r=e.createPanner();return void 0===r.orientationX?t(e,n):(jn(r,n),Fn(r,n,"orientationX"),Fn(r,n,"orientationY"),Fn(r,n,"orientationZ"),Fn(r,n,"positionX"),Fn(r,n,"positionY"),Fn(r,n,"positionZ"),Nn(r,n,"coneInnerAngle"),Nn(r,n,"coneOuterAngle"),Nn(r,n,"coneOuterGain"),Nn(r,n,"distanceModel"),Nn(r,n,"maxDistance"),Nn(r,n,"panningModel"),Nn(r,n,"refDistance"),Nn(r,n,"rolloffFactor"),r)},wr=(t,e,n,r,i,s,o,a,c)=>(l,{coneInnerAngle:u,coneOuterAngle:h,coneOuterGain:d,distanceModel:p,maxDistance:f,orientationX:m,orientationY:g,orientationZ:v,panningModel:b,positionX:y,positionY:_,positionZ:w,refDistance:x,rolloffFactor:k,...T})=>{const S=l.createPanner();if(T.channelCount>2)throw o();if("max"===T.channelCountMode)throw o();jn(S,T);const O={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},C=n(l,{...O,channelInterpretation:"speakers",numberOfInputs:6}),E=r(l,{...T,gain:1}),A=r(l,{...O,gain:1}),M=r(l,{...O,gain:0}),N=r(l,{...O,gain:0}),j=r(l,{...O,gain:0}),I=r(l,{...O,gain:0}),P=r(l,{...O,gain:0}),L=i(l,256,6,1),D=s(l,{...O,curve:new Float32Array([1,1]),oversample:"none"});let F=[m,g,v],B=[y,_,w];L.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some((t,e)=>t!==F[e])&&(S.setOrientation(...e),F=e);const n=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];n.some((t,e)=>t!==B[e])&&(S.setPosition(...n),B=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const R={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(t){if(t>2)throw o();E.channelCount=t,S.channelCount=t},get channelCountMode(){return S.channelCountMode},set channelCountMode(t){if("max"===t)throw o();E.channelCountMode=t,S.channelCountMode=t},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(t){E.channelInterpretation=t,S.channelInterpretation=t},get coneInnerAngle(){return S.coneInnerAngle},set coneInnerAngle(t){S.coneInnerAngle=t},get coneOuterAngle(){return S.coneOuterAngle},set coneOuterAngle(t){S.coneOuterAngle=t},get coneOuterGain(){return S.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();S.coneOuterGain=t},get context(){return S.context},get distanceModel(){return S.distanceModel},set distanceModel(t){S.distanceModel=t},get inputs(){return[E]},get maxDistance(){return S.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;S.maxDistance=t},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return M.gain},get orientationZ(){return N.gain},get panningModel(){return S.panningModel},set panningModel(t){S.panningModel=t},get positionX(){return j.gain},get positionY(){return I.gain},get positionZ(){return P.gain},get refDistance(){return S.refDistance},set refDistance(t){if(t<0)throw new RangeError;S.refDistance=t},get rolloffFactor(){return S.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;S.rolloffFactor=t},addEventListener(...t){return E.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return E.dispatchEvent(t[0])},removeEventListener(...t){return E.removeEventListener(t[0],t[1],t[2])}};u!==R.coneInnerAngle&&(R.coneInnerAngle=u),h!==R.coneOuterAngle&&(R.coneOuterAngle=h),d!==R.coneOuterGain&&(R.coneOuterGain=d),p!==R.distanceModel&&(R.distanceModel=p),f!==R.maxDistance&&(R.maxDistance=f),m!==R.orientationX.value&&(R.orientationX.value=m),g!==R.orientationY.value&&(R.orientationY.value=g),v!==R.orientationZ.value&&(R.orientationZ.value=v),b!==R.panningModel&&(R.panningModel=b),y!==R.positionX.value&&(R.positionX.value=y),_!==R.positionY.value&&(R.positionY.value=_),w!==R.positionZ.value&&(R.positionZ.value=w),x!==R.refDistance&&(R.refDistance=x),k!==R.rolloffFactor&&(R.rolloffFactor=k),1===F[0]&&0===F[1]&&0===F[2]||S.setOrientation(...F),0===B[0]&&0===B[1]&&0===B[2]||S.setPosition(...B);const V=()=>{E.connect(S),t(E,D,0,0),D.connect(A).connect(C,0,0),D.connect(M).connect(C,0,1),D.connect(N).connect(C,0,2),D.connect(j).connect(C,0,3),D.connect(I).connect(C,0,4),D.connect(P).connect(C,0,5),C.connect(L).connect(l.destination)},H=()=>{E.disconnect(S),a(E,D,0,0),D.disconnect(A),A.disconnect(C),D.disconnect(M),M.disconnect(C),D.disconnect(N),N.disconnect(C),D.disconnect(j),j.disconnect(C),D.disconnect(I),I.disconnect(C),D.disconnect(P),P.disconnect(C),C.disconnect(L),L.disconnect(l.destination)};return c(rr(R,S),V,H)},xr=t=>(e,{disableNormalization:n,imag:r,real:i})=>{const s=r instanceof Float32Array?r:new Float32Array(r),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,s,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},kr=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Tr=(t,e)=>(n,r)=>{const i=r.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,r);const s=n.createStereoPanner();return jn(s,r),Fn(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),s},Sr=(t,e,n,r,i,s)=>{const o=16385,a=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...l,oversample:"none"},h=(t,e,i,s)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let n=0;n<o;n+=1){const t=n/(o-1)*c;h[n]=Math.cos(t),d[n]=Math.sin(t)}const p=n(t,{...l,gain:0}),f=r(t,{...u,curve:h}),m=r(t,{...u,curve:a}),g=n(t,{...l,gain:0}),v=r(t,{...u,curve:d});return{connectGraph(){e.connect(p),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===v.inputs?v:v.inputs[0]),f.connect(p.gain),v.connect(g.gain),p.connect(s,0,0),g.connect(s,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===v.inputs?v:v.inputs[0]),f.disconnect(p.gain),v.disconnect(g.gain),p.disconnect(s,0,0),g.disconnect(s,0,1)}}},d=(t,i,s,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(o/2);for(let e=0;e<o;e+=1)if(e>g){const t=(e-g)/(o-1-g)*c;d[e]=Math.cos(t),p[e]=Math.sin(t),f[e]=0,m[e]=1}else{const t=e/(o-1-g)*c;d[e]=1,p[e]=0,f[e]=Math.cos(t),m[e]=Math.sin(t)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),b=n(t,{...l,gain:0}),y=r(t,{...u,curve:d}),_=n(t,{...l,gain:0}),w=r(t,{...u,curve:p}),x=r(t,{...u,curve:a}),k=n(t,{...l,gain:0}),T=r(t,{...u,curve:f}),S=n(t,{...l,gain:0}),O=r(t,{...u,curve:m});return{connectGraph(){i.connect(v),i.connect(void 0===x.inputs?x:x.inputs[0]),v.connect(b,0),v.connect(_,0),v.connect(k,1),v.connect(S,1),x.connect(s),s.connect(void 0===y.inputs?y:y.inputs[0]),s.connect(void 0===w.inputs?w:w.inputs[0]),s.connect(void 0===T.inputs?T:T.inputs[0]),s.connect(void 0===O.inputs?O:O.inputs[0]),y.connect(b.gain),w.connect(_.gain),T.connect(k.gain),O.connect(S.gain),b.connect(h,0,0),k.connect(h,0,0),_.connect(h,0,1),S.connect(h,0,1)},disconnectGraph(){i.disconnect(v),i.disconnect(void 0===x.inputs?x:x.inputs[0]),v.disconnect(b,0),v.disconnect(_,0),v.disconnect(k,1),v.disconnect(S,1),x.disconnect(s),s.disconnect(void 0===y.inputs?y:y.inputs[0]),s.disconnect(void 0===w.inputs?w:w.inputs[0]),s.disconnect(void 0===T.inputs?T:T.inputs[0]),s.disconnect(void 0===O.inputs?O:O.inputs[0]),y.disconnect(b.gain),w.disconnect(_.gain),T.disconnect(k.gain),O.disconnect(S.gain),b.disconnect(h,0,0),k.disconnect(h,0,0),_.disconnect(h,0,1),S.disconnect(h,0,1)}}},p=(t,e,n,r,s)=>{if(1===e)return h(t,n,r,s);if(2===e)return d(t,n,r,s);throw i()};return(e,{channelCount:r,channelCountMode:o,pan:a,...c})=>{if("max"===o)throw i();const l=t(e,{...c,channelCount:1,channelCountMode:o,numberOfInputs:2}),u=n(e,{...c,channelCount:r,channelCountMode:o,gain:1}),h=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:d,disconnectGraph:f}=p(e,r,u,h,l);Object.defineProperty(h.gain,"defaultValue",{get:()=>0}),Object.defineProperty(h.gain,"maxValue",{get:()=>1}),Object.defineProperty(h.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount!==t&&(g&&f(),({connectGraph:d,disconnectGraph:f}=p(e,t,u,h,l)),g&&d()),u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return h.gain},addEventListener(...t){return u.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return u.dispatchEvent(t[0])},removeEventListener(...t){return u.removeEventListener(t[0],t[1],t[2])}};let g=!1;const v=()=>{d(),g=!0},b=()=>{f(),g=!1};return s(rr(m,l),v,b)}},Or=(t,e,n,r,i,s,o)=>(a,c)=>{const l=a.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===a.createGain().gain.automationRate)return n(a,c);jn(l,c);const u=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==u&&u.length<2)throw e();Nn(l,{curve:u},"curve"),Nn(l,c,"oversample");let h=null,d=!1;o(l,"curve",t=>()=>t.call(l),e=>n=>(e.call(l,n),d&&(r(n)&&null===h?h=t(a,l):r(n)||null===h||(h(),h=null)),n));const p=()=>{d=!0,r(l.curve)&&(h=t(a,l))},f=()=>{d=!1,null!==h&&(h(),h=null)};return i(l,p,f)},Cr=(t,e,n,r,i)=>(s,{curve:o,oversample:a,...c})=>{const l=s.createWaveShaper(),u=s.createWaveShaper();jn(l,c),jn(u,c);const h=n(s,{...c,gain:1}),d=n(s,{...c,gain:-1}),p=n(s,{...c,gain:1}),f=n(s,{...c,gain:-1});let m=null,g=!1,v=null;const b={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,l.channelCount=t,p.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,l.channelCountMode=t,p.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,l.channelInterpretation=t,p.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return l.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)l.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),r=new Float32Array(t+2-t%2);e[0]=n[0],r[0]=-n[t-1];const i=Math.ceil((t+1)/2),s=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*s,c=Math.floor(a),l=Math.ceil(a);e[o]=c===l?n[c]:(1-(a-c))*n[c]+(1-(l-a))*n[l],r[o]=c===l?-n[t-1-c]:-(1-(a-c))*n[t-1-c]-(1-(l-a))*n[t-1-l]}e[i]=t%2===1?n[i-1]:(n[i-2]+n[i-1])/2,l.curve=e,u.curve=r}v=n,g&&(r(v)&&null===m?m=t(s,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(t){l.oversample=t,u.oversample=t},addEventListener(...t){return h.addEventListener(t[0],t[1],t[2])},dispatchEvent(...t){return h.dispatchEvent(t[0])},removeEventListener(...t){return h.removeEventListener(t[0],t[1],t[2])}};null!==o&&(b.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==b.oversample&&(b.oversample=a);const y=()=>{h.connect(l).connect(p),h.connect(d).connect(u).connect(f).connect(p),g=!0,r(v)&&(m=t(s,h))},_=()=>{h.disconnect(l),l.disconnect(p),h.disconnect(d),d.disconnect(u),u.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)};return i(rr(b,p),y,_)},Er=()=>new DOMException("","NotSupportedError"),Ar={numberOfChannels:1},Mr=(t,e,n,r,i)=>class extends t{constructor(t,n,i){let s;if("number"===typeof t&&void 0!==n&&void 0!==i)s={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!==typeof t)throw new Error("The given parameters are not valid.");s=t}const{length:o,numberOfChannels:a,sampleRate:c}={...Ar,...s},l=r(a,o,c);e(Cn,()=>Cn(l))||l.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(l.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(l,a),this._length=o,this._nativeOfflineAudioContext=l,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ct(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}},Nr={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},jr=(t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),c={...Nr,...o},l=n(a,c),u=s(a),h=u?r():null,d=t.sampleRate/2;super(t,!1,l,h),this._detune=e(this,u,l.detune,153600,-153600),this._frequency=e(this,u,l.frequency,d,-d),this._nativeOscillatorNode=l,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){M(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),X(this)&&j(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}},Ir=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,c=null;const l=async(l,u,h)=>{let d=n(l);const p=V(d,u);if(!p){const t={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type};d=e(u,t),null!==a&&d.start(a),null!==c&&d.stop(c)}return s.set(u,d),p?(await t(u,l.detune,d.detune,h),await t(u,l.frequency,d.frequency,h)):(await r(u,l.detune,d.detune,h),await r(u,l.frequency,d.frequency,h)),await i(l,u,d,h),d};return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){c=t},render(t,e,n){const r=s.get(e);return void 0!==r?Promise.resolve(r):l(t,e,n)}}},Pr={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Lr=(t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const c=i(t),l={...Pr,...a},u=n(c,l),h=s(c),d=h?r():null;super(t,!1,u,d),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,$,Y),this._orientationY=e(this,h,u.orientationY,$,Y),this._orientationZ=e(this,h,u.orientationZ,$,Y),this._positionX=e(this,h,u.positionX,$,Y),this._positionY=e(this,h,u.positionY,$,Y),this._positionZ=e(this,h,u.positionZ,$,Y),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}},Dr=(t,e,n,r,i,s,o,a,c,l)=>()=>{const u=new WeakMap;let h=null;const d=async(d,p,f)=>{let m=null,g=s(d);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},b={...v,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},y=V(g,p);if("bufferSize"in g)m=r(p,{...v,gain:1});else if(!y){const t={...b,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=i(p,t)}if(u.set(p,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map(async(e,r)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await a(t,e,i.offset,f),i}));for(let t=0;t<6;t+=1)e[t].connect(r,0,t),e[t].start(0);return l(t)})()}const t=await h,s=r(p,{...v,gain:1});await c(d,p,s,f);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let g=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],_=r(p,{...v,gain:1}),w=i(p,{...b,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]});s.connect(_).connect(w.inputs[0]),w.connect(m);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some((t,e)=>t!==g[e])||n.some((t,e)=>t!==y[e])){g=t,y=n;const o=e/p.sampleRate;_.gain.setValueAtTime(0,o),_=r(p,{...v,gain:0}),w=i(p,{...b,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),_.gain.setValueAtTime(1,o),s.connect(_).connect(w.inputs[0]),w.connect(m)}}return m}return y?(await t(p,d.orientationX,g.orientationX,f),await t(p,d.orientationY,g.orientationY,f),await t(p,d.orientationZ,g.orientationZ,f),await t(p,d.positionX,g.positionX,f),await t(p,d.positionY,g.positionY,f),await t(p,d.positionZ,g.positionZ,f)):(await a(p,d.orientationX,g.orientationX,f),await a(p,d.orientationY,g.orientationY,f),await a(p,d.orientationZ,g.orientationZ,f),await a(p,d.positionX,g.positionX,f),await a(p,d.positionY,g.positionY,f),await a(p,d.positionZ,g.positionZ,f)),yt(g)?await c(d,p,g.inputs[0],f):await c(d,p,g,f),g};return{render(t,e,n){const r=u.get(e);return void 0!==r?Promise.resolve(r):d(t,e,n)}}},Fr={disableNormalization:!1},Br=(t,e,n,r)=>class i{constructor(i,s){const o=e(i),a=r({...Fr,...s}),c=t(o,a);return n.add(c),c}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}},Rr=(t,e)=>(n,r,i,s)=>{const o=t(r);return o.replay(i),e(r,n,i,s)},Vr=(t,e,n)=>async(r,i,s,o)=>{const a=t(r),c=[...o,r];await Promise.all(a.activeInputs.map((t,o)=>Array.from(t).filter(([t])=>!c.includes(t)).map(async([t,a])=>{const l=e(t),u=await l.render(t,i,c),h=r.context.destination;n(t)||r===h&&n(r)||u.connect(s,a,o)})).reduce((t,e)=>[...t,...e],[]))},Hr=(t,e,n)=>async(r,i,s,o)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map(async([e,r])=>{const a=t(e),c=await a.render(e,i,o);n(e)||c.connect(s,r)}))},qr=(t,e,n,r)=>i=>t(Cn,()=>Cn(i))?Promise.resolve(t(r,r)).then(t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()}):new Promise(t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()}),zr=t=>(e,n)=>{t.set(e,n)},Wr=t=>(e,n)=>t.set(e,n),Gr=(t,e,n,r,i,s,o,a)=>{const c=[];return(l,u)=>n(l).render(l,u,c).then(()=>Promise.all(Array.from(r(u)).map(t=>n(t).render(t,u,c)))).then(()=>i(u)).then(n=>("function"!==typeof n.copyFromChannel?(o(n),W(n)):e(s,()=>s(n))||a(n),t.add(n),n))},Ur={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Yr=(t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),c={...Ur,...o},l=n(a,c),u=s(a),h=u?r():null;super(t,!1,l,h),this._pan=e(this,u,l.pan)}get pan(){return this._pan}},$r=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(o,a,c)=>{let l=n(o);const u=V(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return s.set(a,l),u?await t(a,o.pan,l.pan,c):await r(a,o.pan,l.pan,c),yt(l)?await i(o,a,l.inputs[0],c):await i(o,a,l,c),l};return{render(t,e,n){const r=s.get(e);return void 0!==r?Promise.resolve(r):o(t,e,n)}}},Xr=t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Kr=(t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const e=new t(r,"a",{numberOfOutputs:0}),n=r.createOscillator();e.port.onmessage=()=>s=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return s&&!o},Zr=(t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(t=>{n.oncomplete=()=>{r.disconnect(),t(0!==n.currentTime)},n.startRendering()})},Qr=()=>new DOMException("","UnknownError"),Jr={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ti=(t,e,n,r,i,s,o)=>class extends t{constructor(t,e){const a=i(t),c={...Jr,...e},l=n(a,c),u=s(a),h=u?r():null;super(t,!0,l,h),this._isCurveNullified=!1,this._nativeWaveShaperNode=l,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}},ei=(t,e,n)=>()=>{const r=new WeakMap,i=async(i,s,o)=>{let a=e(i);const c=V(a,s);if(!c){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,e)}return r.set(s,a),yt(a)?await n(i,s,a.inputs[0],o):await n(i,s,a,o),a};return{render(t,e,n){const s=r.get(e);return void 0!==s?Promise.resolve(s):i(t,e,n)}}},ni=()=>"undefined"===typeof window?null:window,ri=(t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let t=o<0?-o:0;t+o<c&&t<u;t+=1)r[t]=l[t+o]},n.copyToChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let t=o<0?-o:0;t+o<c&&t<u;t+=1)l[t+o]=r[t]}},ii=t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},si=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=r),t(e,"buffer",t=>()=>{const n=t.call(e);return n===r?null:n},t=>n=>t.call(e,null===n?r:n))},oi=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource(),s=()=>{const t=r.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(r,0,e)},o=()=>i.disconnect(r);e(r,s,o)},ai=t=>{if(null===t)return!1;const e=t.length;return e%2!==0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},ci=(t,e,n,r)=>{let i=Object.getPrototypeOf(t);while(!i.hasOwnProperty(e))i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},li=t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),ui=t=>({...t,channelCount:t.numberOfOutputs}),hi=t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},di=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(9!==r.code)throw r;di(t,e,n+1e-7)}},pi=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},fi=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},mi=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},gi=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},vi=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},bi=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},yi=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},_i=t=>{t.start=(e=>(n=0,r=0,i)=>{const s=t.buffer,o=null===s?r:Math.min(s.duration,r);null!==s&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)},wi=(t,e)=>{const n=e.createGain();t.connect(n);const r=(e=>()=>{e.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),rr(t,n),t.stop=(e=>{let r=!1;return(i=0)=>{if(r)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),r=!0}})(t.stop)},xi=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"===typeof e?e.call(t,n):e.handleEvent.call(t,n)},ki=o(gt),Ti=L(gt),Si=Ae(C),Oi=new WeakMap,Ci=$e(Oi),Ei=ie(new Map,new WeakMap),Ai=ni(),Mi=Ln(Ei,z),Ni=Ye(st),ji=Vr(st,Ni,Et),Ii=H(Mi,Ot,ji),Pi=Qe(f),Li=br(Ai),Di=bn(Li),Fi=new WeakMap,Bi=Ve(xi),Ri=qn(Ai),Vi=fn(Ri),Hi=mn(Ai),qi=gn(Ai),zi=qt(a(u),P(ki,Ti,_t,Si,St,st,Ci,A,Ot,gt,X,Et,At),Ei,ln(g,St,st,Ot,Ct,X),z,en,Er,Se(_t,g,st,Ot,Ct,Pi,X,Di),je(Fi,st,O),Bi,Pi,Vi,Hi,qi,Di),Wi=R(zi,Ii,z,Mi,Pi,Di),Gi=new WeakSet,Ui=Dn(Ai),Yi=ve(new Uint32Array(1)),$i=ri(Yi,z),Xi=ii(Yi),Ki=U(Gi,Ei,Er,Ui,Li,Xr(Ui),$i,Xi),Zi=D(cr),Qi=Hr(Ni,ot,Et),Ji=he(Qi),ts=Hn(Zi,Ei,pi,fi,mi,gi,vi,bi,_i,si(ci),wi),es=Rr(Xe(ot),Qi),ns=Q(Ji,ts,Ot,es,ji),rs=zt(c(d),Fi,p,Wt,i["createCancelAndHoldAutomationEvent"],i["createCancelScheduledValuesAutomationEvent"],i["createExponentialRampToValueAutomationEvent"],i["createLinearRampToValueAutomationEvent"],i["createSetTargetAutomationEvent"],i["createSetValueAutomationEvent"],i["createSetValueCurveAutomationEvent"],Ri,di),is=Z(zi,ns,rs,Ze,ts,Pi,Di,xi),ss=ht(zi,dt,z,Ze,zn(cr,ci),Pi,Di,ji),os=re(Ji,Qn,Ot,es,ji),as=Wr(Oi),cs=ne(zi,rs,os,en,Qn,Pi,Di,as),ls=Mn(gt,Hi),us=oi(Ze,ls),hs=Jn(Ri,us),ds=ae(hs,Ot,ji),ps=oe(zi,ds,hs,Pi,Di),fs=ue(er,Ot,ji),ms=le(zi,fs,er,Pi,Di,ui),gs=ir(Zi,ts,cr,ls),vs=nr(Zi,Ei,gs,gi,bi),bs=ge(Ji,vs,Ot,es,ji),ys=me(zi,rs,bs,vs,Pi,Di,xi),_s=sr(Er,ci),ws=_e(_s,Ot,ji),xs=ye(zi,ws,_s,Pi,Di,as),ks=Ee(Ji,or,Ot,es,ji),Ts=Ce(zi,rs,ks,or,Pi,Di,as),Ss=ar(Er),Os=Fe(Ji,Ss,Ot,es,ji),Cs=De(zi,rs,Os,Ss,Er,Pi,Di,as),Es=Ge(Ji,cr,Ot,es,ji),As=We(zi,rs,Es,cr,Pi,Di),Ms=pr(en,Ze,kr,Er),Ns=qr(Ei,cr,kr,Zr(cr,Li)),js=cn(ts,Ot,Li,ji,Ns),Is=lr(Ms),Ps=sn(zi,Is,js,Pi,Di,as),Ls=pt(rs,hs,vs,kr,Di),Ds=new WeakMap,Fs=On(ss,Ls,Bi,Di,Ds,xi),Bs=yr(Zi,Ei,gi,vi,bi,wi),Rs=Ir(Ji,Bs,Ot,es,ji),Vs=jr(zi,rs,Bs,Rs,Pi,Di,xi),Hs=pe(ts),qs=Cr(Hs,Ze,cr,ai,ls),zs=Or(Hs,Ze,qs,ai,ls,Ri,ci),Ws=wr(_t,Ze,hs,cr,kr,zs,Er,St,ls),Gs=_r(Ws),Us=Dr(Ji,hs,vs,cr,Gs,Ot,Li,es,ji,Ns),Ys=Lr(zi,rs,Gs,Us,Pi,Di,as),$s=xr(z),Xs=Br($s,Pi,new WeakSet,hi),Ks=Sr(hs,er,cr,zs,Er,ls),Zs=Tr(Ks,Er),Qs=$r(Ji,Zs,Ot,es,ji),Js=Yr(zi,rs,Zs,Qs,Pi,Di),to=ei(zs,Ot,ji),eo=ti(zi,Ze,zs,to,Pi,Di,as),no=yn(Ai),ro=He(Ai),io=new WeakMap,so=Je(io,Li),oo=Wn(Ai),ao=no?S(Ei,Er,Re(Ai),ro,qe(s),Pi,so,Di,oo,new WeakMap,new WeakMap,Kr(oo,Li),Ai):void 0,co=vn(Vi,Di),lo=Te(Gi,Ei,xe,Be,new WeakSet,Pi,co,q,Cn,$i,Xi),uo=te(ao,Wi,Ki,is,cs,ps,ms,ys,xs,lo,Ts,Cs,As,Ps,Fs,Vs,Ys,Xs,Js,eo),ho=_n(zi,fr,Pi,Di),po=xn(zi,mr,Pi,Di),fo=kn(zi,gr,Pi,Di),mo=vr(Ze,Di),go=Tn(zi,mo,Pi),vo=ut(uo,Ze,Er,Qr,ho,po,fo,go,Ri),bo=tn(Ds),yo=F(bo),_o=de(z),wo=Me(bo),xo=Pe(z),ko=new WeakMap,To=Ue(ko,O),So=Zn(_o,z,Ze,hs,er,vs,cr,kr,Er,xo,ro,To,ls),Oo=Un(Ze,So,cr,Er,ls),Co=Jt(Ji,_o,ts,hs,er,vs,cr,wo,xo,ro,Ot,oo,Li,es,ji,Ns),Eo=Ke(io),Ao=zr(ko),Mo=no?Yt(yo,zi,rs,Co,Oo,st,Eo,Pi,Di,oo,li,Ao,yi,xi):void 0,No=(Sn(Ze,Er,Qr,Fs,Ri),we(Er,Li)),jo=Gr(Gi,Ei,Ni,bo,Ns,q,$i,Xi),Io=(An(Ei,Ze,No,Fs,jo),Mr(uo,Ei,Ze,No,jo)),Po=un(f,Vi),Lo=hn(h,Hi),Do=dn(p,qi),Fo=pn(f,Di);function Bo(t,e){if(!t)throw new Error(e)}function Ro(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Vo(t){t.isOffline||"running"===t.state||zo('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ho=console;function qo(...t){Ho.log(...t)}function zo(...t){Ho.warn(...t)}function Wo(t){return"undefined"===typeof t}function Go(t){return!Wo(t)}function Uo(t){return"function"===typeof t}function Yo(t){return"number"===typeof t}function $o(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Xo(t){return"boolean"===typeof t}function Ko(t){return Array.isArray(t)}function Zo(t){return"string"===typeof t}function Qo(t){return Zo(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Jo(t){return new vo(t)}function ta(t,e,n){return new Io(t,e,n)}const ea="object"===typeof self?self:null,na=ea&&(ea.hasOwnProperty("AudioContext")||ea.hasOwnProperty("webkitAudioContext"));function ra(t,e,n){return Bo(Go(Mo),"This node only works in a secure context (https or localhost)"),new Mo(t,e,n)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ia(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function sa(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r["throw"](t))}catch(e){s(e)}}function c(t){t.done?n(t.value):i(t.value).then(o,a)}c((r=r.apply(t,e||[])).next())}))}Object.create;Object.create;class oa{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function aa(t){return Do(t)}function ca(t){return Lo(t)}function la(t){return Fo(t)}function ua(t){return Po(t)}function ha(t){return t instanceof AudioBuffer}function da(t,e){return"value"===t||aa(e)||ca(e)||ha(e)}function pa(t,...e){if(!e.length)return t;const n=e.shift();if($o(t)&&$o(n))for(const r in n)da(r,n[r])?t[r]=n[r]:$o(n[r])?(t[r]||Object.assign(t,{[r]:{}}),pa(t[r],n[r])):Object.assign(t,{[r]:n[r]});return pa(t,...e)}function fa(t,e){return t.length===e.length&&t.every((t,n)=>e[n]===t)}function ma(t,e,n=[],r){const i={},s=Array.from(e);if($o(s[0])&&r&&!Reflect.has(s[0],r)){const e=Object.keys(s[0]).some(e=>Reflect.has(t,e));e||(pa(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())}if(1===s.length&&$o(s[0]))pa(i,s[0]);else for(let o=0;o<n.length;o++)Go(s[o])&&(i[n[o]]=s[o]);return pa(t,i)}function ga(t){return t.constructor.getDefaults()}function va(t,e){return Wo(t)?e:t}function ba(t,e){return e.forEach(e=>{Reflect.has(t,e)&&delete t[e]}),t}
/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class ya{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||ea&&this.toString()===ea.TONE_DEBUG_CLASS)&&qo(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ya.version=r;const _a=1e-6;function wa(t,e){return t>e+_a}function xa(t,e){return wa(t,e)||Ta(t,e)}function ka(t,e){return t+_a<e}function Ta(t,e){return Math.abs(t-e)<_a}function Sa(t,e,n){return Math.max(Math.min(t,n),e)}class Oa extends ya{constructor(){super(),this.name="Timeline",this._timeline=[];const t=ma(Oa.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Bo(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Bo(xa(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Ta(this._timeline[e].time,t)){for(let n=e;n>=0;n--){if(!Ta(this._timeline[n].time,t))break;e=n}this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&xa(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][e]<=t)return r-1;while(n<i){let r=Math.floor(n+(i-n)/2);const s=this._timeline[r],o=this._timeline[r+1];if(Ta(s[e],t)){for(let n=r;n<this._timeline.length;n++){const i=this._timeline[n];if(!Ta(i[e],t))break;r=n}return r}if(ka(s[e],t)&&wa(o[e],t))return r;wa(s[e],t)?i=r:n=r+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let r=this._search(t),i=this._search(e);return-1!==r&&-1!==i?(this._timeline[r].time!==t&&(r+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,r,i)):-1===r&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);while(n>=0&&this._timeline[n].time>=t)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&Ta(this._timeline[n].time,t)){let r=n;for(let e=n;e>=0;e--){if(!Ta(this._timeline[e].time,t))break;r=e}this._iterate(t=>{e(t)},r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ca=[];function Ea(t){Ca.push(t)}function Aa(t){Ca.forEach(e=>e(t))}const Ma=[];function Na(t){Ma.push(t)}function ja(t){Ma.forEach(e=>e(t))}class Ia extends ya{constructor(){super(...arguments),this.name="Emitter"}on(t,e){const n=t.split(/\W+/);return n.forEach(t=>{Wo(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)}),this}once(t,e){const n=(...r)=>{e(...r),this.off(t,n)};return this.on(t,n),this}off(t,e){const n=t.split(/\W+/);return n.forEach(n=>{if(Wo(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Wo(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,r=n.length;t<r;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const n=Object.getOwnPropertyDescriptor(Ia.prototype,e);Object.defineProperty(t.prototype,e,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class Pa extends Ia{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class La extends Pa{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Oa,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=ma(La.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=Jo({latencyHint:t.latencyHint}),this._ticker=new oa(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Aa(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){Bo(ua(this._context),"Not available if OfflineAudioContext");const e=this._context;return e.createMediaStreamSource(t)}createMediaElementSource(t){Bo(ua(this._context),"Not available if OfflineAudioContext");const e=this._context;return e.createMediaElementSource(t)}createMediaStreamDestination(){Bo(ua(this._context),"Not available if OfflineAudioContext");const t=this._context;return t.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Bo(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Bo(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Bo(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Bo(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return ra(this.rawContext,t,e)}addAudioWorkletModule(t,e){return sa(this,void 0,void 0,(function*(){Bo(Go(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return sa(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach(e=>t.push(e)),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Zo(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25;break}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return ua(this._context)?this._context.resume():Promise.resolve()}close(){return sa(this,void 0,void 0,(function*(){ua(this._context)&&(yield this._context.close()),this._initialized&&ja(this)}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let i=0;i<n.length;i++)n[i]=t;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants.set(t,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();while(this._timeouts.length&&e&&e.time<=t)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),r()},id:n,time:i+e})};return r(),n}}class Da extends Pa{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return sa(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Fa(t,e){Ko(e)?e.forEach(e=>Fa(t,e)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Ba(t,e){Ko(e)?e.forEach(e=>Ba(t,e)):Object.defineProperty(t,e,{writable:!0})}const Ra=()=>{};class Va extends ya{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ra;const t=ma(Va.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ha(t.url)||t.url instanceof Va?this.set(t.url):Zo(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Ra,onload:Ra,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Wa().sampleRate}set(t){return t instanceof Va?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return sa(this,void 0,void 0,(function*(){const e=Va.load(t).then(t=>{this.set(t),this.onload(this)});Va.downloads.push(e);try{yield e}finally{const t=Va.downloads.indexOf(e);Va.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Ko(t)&&t[0].length>0,n=e?t.length:1,r=e?t[0].length:t.length,i=Wa(),s=i.createBuffer(n,r,i.sampleRate),o=e||1!==n?t:[t];for(let a=0;a<n;a++)s.copyToChannel(o[a],a);return this._buffer=s,this}toMono(t){if(Yo(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map(t=>t/e),this.fromArray(t)}return this}toArray(t){if(Yo(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),r=Math.floor(e*this.sampleRate);Bo(n<r,"The start time must be less than the end time");const i=r-n,s=Wa().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)s.copyToChannel(this.getChannelData(o).subarray(n,r),o);return new Va(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Va).fromArray(t)}static fromUrl(t){return sa(this,void 0,void 0,(function*(){const e=new Va;return yield e.load(t)}))}static load(t){return sa(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let r=n[0];for(const t of n)if(Va.supportsType(t)){r=t;break}t=t.replace(e[0],r)}const n=""===Va.baseUrl||Va.baseUrl.endsWith("/")?Va.baseUrl:Va.baseUrl+"/",r=yield fetch(n+t);if(!r.ok)throw new Error("could not load url: "+t);const i=yield r.arrayBuffer(),s=yield Wa().decodeAudioData(i);return s}))}static supportsType(t){const e=t.split("."),n=e[e.length-1],r=document.createElement("audio").canPlayType("audio/"+n);return""!==r}static loaded(){return sa(this,void 0,void 0,(function*(){yield Promise.resolve();while(Va.downloads.length)yield Va.downloads[0]}))}}Va.baseUrl="",Va.downloads=[];class Ha extends La{constructor(){super({clockSource:"offline",context:la(arguments[0])?arguments[0]:ta(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:la(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=la(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return sa(this,void 0,void 0,(function*(){let e=0;while(this._duration-this._currentTime>=0){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n===0&&(yield new Promise(t=>setTimeout(t,1)))}}))}render(t=!0){return sa(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Va(e)}))}close(){return Promise.resolve()}}const qa=new Da;let za=qa;function Wa(){return za===qa&&na&&Ga(new La),za}function Ga(t){za=ua(t)?new La(t):la(t)?new Ha(t):t}if(ea&&!ea.TONE_SILENCE_LOGGING){let t="v";"dev"===r&&(t="");const e=` * Tone.js ${t}${r} * `;console.log("%c"+e,"background: #000; color: #fff")}function Ua(t){return Math.pow(10,t/20)}function Ya(t){return Math.log(t)/Math.LN10*20}function $a(t){return Math.pow(2,t/12)}let Xa=440;function Ka(){return Xa}function Za(t){Xa=t}function Qa(t){return Math.round(Ja(t))}function Ja(t){return 69+12*Math.log2(t/Xa)}function tc(t){return Xa*Math.pow(2,(t-69)/12)}class ec extends ya{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),r="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let r=0;return t&&"0"!==t&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ec&&this.fromType(this._val),Wo(this._val))return this._noArg();if(Zo(this._val)&&Wo(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if($o(this._val)){let t=0;for(const e in this._val)if(Go(this._val[e])){const n=this._val[e],r=new this.constructor(this.context,e).valueOf()*n;t+=r}return t}if(Go(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Zo(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class nc extends ec{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new nc(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),r=this.valueOf(),i=Math.round(r/n),s=i*n,o=s-r;return r+o*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let i=1;i<9;i++){const t=Math.pow(2,i);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],r=new nc(this.context,e[0]).toSeconds();return e.forEach(e=>{const i=new nc(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(r-t)&&(n=e,r=i)}),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let r=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=r.toString();i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3)));const s=[n,e,r];return s.join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Qa(this.toFrequency())}_now(){return this.context.now()}}class rc extends nc{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Ka()}static set A4(t){Za(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:rc.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=ic[t.toLowerCase()],r=n+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?r:rc.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let r=1;return t&&"0"!==t&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(t){return new rc(this.context,this.valueOf()*$a(t))}harmonize(t){return t.map(t=>this.transpose(t))}toMidi(){return Qa(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/rc.A4);let n=Math.round(12*e)+57;const r=Math.floor(n/12);r<0&&(n+=-12*r);const i=sc[n%12];return i+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return tc(t)}static ftom(t){return Qa(t)}}const ic={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},sc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class oc extends nc{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ac extends ya{constructor(){super();const t=ma(ac.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Wa()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new nc(this.context,t).toSeconds()}toFrequency(t){return new rc(this.context,t).toFrequency()}toTicks(t){return new oc(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(n=>{Wo(t[n])&&delete e[n]}),e}get(){const t=ga(this);return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const n=this[e];Go(n)&&Go(n.value)&&Go(n.setValueAtTime)?t[e]=n.value:n instanceof ac?t[e]=n._getPartialProperties(t[e]):Ko(n)||Yo(n)||Zo(n)||Xo(n)?t[e]=n:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&Go(this[e])&&(this[e]&&Go(this[e].value)&&Go(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof ac?this[e].set(t[e]):this[e]=t[e])}),this}}class cc extends Oa{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Ro(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){const n=this._search(e);for(let r=n;r>=0;r--){const e=this._timeline[r];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let r=n;r<this._timeline.length;r++){const e=this._timeline[r];if(e.state===t)return e}}}class lc extends ac{constructor(){super(ma(lc.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=ma(lc.getDefaults(),arguments,["param","units","convert"]);Bo(Go(t.param)&&(aa(t.param)||t.param instanceof lc),"param must be an AudioParam");while(!aa(t.param))t.param=t.param._param;this._swappable=!!Go(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Oa(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Go(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(ac.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Go(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Go(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Go(this.maxValue)&&Go(this.minValue)&&Ro(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Ua(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?Ya(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),r=this._fromType(t);return Bo(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),r=this._events.get(e);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=r.value;if("setTargetAtTime"===r.type){const e=this._events.getBefore(r.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,t,n.time,n.value,e):this._exponentialInterpolate(r.time,t,n.time,n.value,e)}else i=r.value;else{const t=this._events.getBefore(r.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,n,r.value,r.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),r=this.toSeconds(e);return Bo(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Ta(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(e);return Bo(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,r),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const r=this._fromType(t);Bo(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(r),Bo(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(t,e,n,r=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*r;this.setValueAtTime(this._toType(i),e);const s=n/(t.length-1);for(let o=1;o<t.length;o++){const n=this._fromType(t[o])*r;this.linearRampToValueAtTime(this._toType(n),e+o*s)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Bo(isFinite(e),"Invalid argument to cancelScheduledValues: "+JSON.stringify(t)),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Bo(isFinite(e),"Invalid argument to cancelAndHoldAtTime: "+JSON.stringify(t)),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const r=this._events.get(e),i=this._events.getAfter(e);return r&&Ta(r.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),i=r?r.time:e+2,s=(i-e)/10;for(let n=e;n<i;n+=s)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)}),this}setParam(t){Bo(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)}_linearInterpolate(t,e,n,r,i){return e+(i-t)/(n-t)*(r-e)}_exponentialInterpolate(t,e,n,r,i){return e*Math.pow(r/e,(i-t)/(n-t))}}class uc extends ac{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Go(this.input)?aa(this.input)||this.input instanceof lc?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Go(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Go(t)&&(t instanceof uc||ca(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){const e=this._getInternalNodes();e.forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();Bo(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return dc(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return zo("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return pc(this,t,e,n),this}chain(...t){return hc(this,...t),this}fan(...t){return t.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Go(this.input)&&(this.input instanceof uc?this.input.dispose():ca(this.input)&&this.input.disconnect()),Go(this.output)&&(this.output instanceof uc?this.output.dispose():ca(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function hc(...t){const e=t.shift();t.reduce((t,e)=>(t instanceof uc?t.connect(e):ca(t)&&dc(t,e),e),e)}function dc(t,e,n=0,r=0){Bo(Go(t),"Cannot connect from undefined node"),Bo(Go(e),"Cannot connect to undefined node"),(e instanceof uc||ca(e))&&Bo(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Bo(t.numberOfOutputs>0,"Cannot connect from node with no outputs");while(e instanceof uc||e instanceof lc)Go(e.input)&&(e=e.input);while(t instanceof uc)Go(t.output)&&(t=t.output);aa(e)?t.connect(e,n):t.connect(e,n,r)}function pc(t,e,n=0,r=0){if(Go(e))while(e instanceof uc)e=e.input;while(!ca(t))Go(t.output)&&(t=t.output);aa(e)?t.disconnect(e,n):ca(e)?t.disconnect(e,n,r):t.disconnect()}class fc extends uc{constructor(){super(ma(fc.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=ma(fc.getDefaults(),arguments,["gain","units"]);this.gain=new lc({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Fa(this,"gain")}static getDefaults(){return Object.assign(uc.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class mc extends uc{constructor(t){super(t),this.onended=Ra,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new fc({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(uc.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ra})}_startGain(t,e=1){Bo(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Bo(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ra&&(this.onended(this),this.onended=Ra,!this.context.isOffline)){const t=()=>this.dispose();"undefined"!==typeof window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Bo(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class gc extends mc{constructor(){super(ma(gc.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=ma(gc.getDefaults(),arguments,["offset"]);dc(this._source,this._gainNode),this.offset=new lc({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(mc.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class vc extends uc{constructor(){super(ma(vc.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=ma(vc.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new gc({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(uc.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return bc(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,r){return this._param.setValueCurveAtTime(t,e,n,r),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function bc(t,e,n,r){(e instanceof lc||aa(e)||e instanceof vc&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof vc&&(e.overridden=!0)),dc(t,e,n,r)}class yc extends lc{constructor(){super(ma(yc.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Oa(1/0),this._multiplier=1;const t=ma(yc.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(lc.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const r=this._fromType(t),i=this._events.get(e),s=Math.round(Math.max(1/n,1));for(let o=0;o<=s;o++){const t=n*o+e,s=this._exponentialApproach(i.time,i.value,r,n,t);this.linearRampToValueAtTime(this._toType(s),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(10*(e-r.time),1)),s=(e-r.time)/i;for(let o=0;o<=i;o++){const t=s*o+r.time,i=this._exponentialInterpolate(r.time,r.value,e,n,t);this.linearRampToValueAtTime(this._toType(i),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Wo(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let r=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+r)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(e);return this.getTimeOfTick(r+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const r=this._fromType(this.getValueAtTime(e.time)),i=this._fromType(this.getValueAtTime(n.time)),s=(i-r)/(n.time-e.time),o=Math.sqrt(Math.pow(r,2)-2*s*(e.ticks-t)),a=(-r+o)/s,c=(-r-o)/s;return(a>0?a:c)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),r=this.toSeconds(t),i=this.getTicksAtTime(n),s=this.getTicksAtTime(n+r);return s-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class _c extends vc{constructor(){super(ma(_c.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=ma(_c.getDefaults(),arguments,["value"]);this.input=this._param=new yc({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(vc.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class wc extends ac{constructor(){super(ma(wc.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new cc,this._tickOffset=new Oa;const t=ma(wc.getDefaults(),arguments,["frequency"]);this.frequency=new _c({context:this.context,units:t.units,value:t.frequency}),Fa(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ac.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Go(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let i=n,s=0;return this._state.forEachBetween(n.time,e+this.sampleTime,t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(s=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(s+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t}),this._state.remove(r),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let r=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(i=n.seconds,e=n.time),"started"===r.state&&"started"!==t.state&&(i+=t.time-e),r=t}),this._state.remove(n),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),r=this._state.get(e),i=Math.max(n.time,r.time),s=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(t,e,n){let r=this._state.get(t);this._state.forEachBetween(t,e,e=>{r&&"started"===r.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(r.time,t),e.time-this.sampleTime,n),r=e});let i=null;if(r&&"started"===r.state){const o=Math.max(r.time,t),a=this.frequency.getTicksAtTime(o),c=this.frequency.getTicksAtTime(r.time),l=a-c;let u=Math.ceil(l)-l;u=Ta(u,1)?0:u;let h=this.frequency.getTimeOfTick(a+u);while(h<e){try{n(h,Math.round(this.getTicksAtTime(h)))}catch(s){i=s;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class xc extends ac{constructor(){super(ma(xc.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Ra,this._lastUpdate=0,this._state=new cc("stopped"),this._boundLoop=this._loop.bind(this);const t=ma(xc.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new wc({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Fa(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ac.getDefaults(),{callback:Ra,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Vo(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time);break}}),this._tickSource.forEachTickBetween(t,e,(t,e)=>{this.callback(t,e)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ia.mixin(xc);class kc extends ya{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=ma(kc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ra,onload:Ra,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Bo(this.has(t),"ToneAudioBuffers has no buffer named: "+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,n=Ra,r=Ra){return Zo(e)?this._buffers.set(t.toString(),new Va(this.baseUrl+e,n,r)):this._buffers.set(t.toString(),new Va(e,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Tc extends oc{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Sc extends ac{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Oa,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;while(this._events.length&&this._events.peek().time-this.anticipation<=t){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ea(t=>{t.draw=new Sc({context:t})}),Na(t=>{t.draw.dispose()});class Oc extends ya{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Bo(Go(t.time),"Events must have a time property"),Bo(Go(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Cc(t.time,t.time+t.duration,t);null===this._root?this._root=e:this._root.insert(e),this._length++;while(null!==e)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,t=>this.remove(t)),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{const e=t.getBalance();let n,r=null;if(e>0)if(null===t.left.right)n=t.left,n.right=t.right,r=n;else{n=t.left.right;while(null!==n.right)n=n.right;n.parent&&(n.parent.right=n.left,r=n.parent,n.left=t.left,n.right=t.right)}else if(null===t.right.left)n=t.right,n.left=t.left,r=n;else{n=t.right.left;while(null!==n.left)n=n.left;n.parent&&(n.parent.left=n.right,r=n.parent,n.left=t.left,n.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=n:t.parent.right=n:this._setRoot(n),r&&this._rebalance(r)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),r=t.right;r&&(t.right=r.left,r.left=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),r=t.left;r&&(t.left=r.right,r.right=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse(t=>e.push(t)),e.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Cc{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ec extends uc{constructor(){super(ma(Ec.getDefaults(),arguments,["volume"])),this.name="Volume";const t=ma(Ec.getDefaults(),arguments,["volume"]);this.input=this.output=new fc({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Fa(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(uc.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ac extends uc{constructor(){super(ma(Ac.getDefaults(),arguments)),this.name="Destination",this.input=new Ec({context:this.context}),this.output=new fc({context:this.context}),this.volume=this.input.volume;const t=ma(Ac.getDefaults(),arguments);hc(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(uc.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),hc(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ea(t=>{t.destination=new Ac({context:t})}),Na(t=>{t.destination.dispose()});class Mc extends ya{constructor(t){super(),this.name="TimelineValue",this._timeline=new Oa({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Nc{constructor(t,e){this.id=Nc._eventId++;const n=Object.assign(Nc.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Ra,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Nc._eventId=0;class jc extends Nc{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(jc.getDefaults(),e);this.duration=new Tc(t.context,n.duration).valueOf(),this._interval=new Tc(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Nc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Tc(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Tc(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Tc(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Ic extends ac{constructor(){super(ma(Ic.getDefaults(),arguments)),this.name="Transport",this._loop=new Mc(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Oa,this._repeatedEvents=new Oc,this._syncedSignals=[],this._swingAmount=0;const t=ma(Ic.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new xc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Fa(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(ac.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(2*this._swingTicks)!==0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;t+=new Tc(this.context,2*this._swingTicks/3).toSeconds()*r}this._timeline.forEachAtTime(e,e=>e.invoke(t))}schedule(t,e){const n=new Nc(this,{callback:t,time:new oc(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,r=1/0){const i=new jc(this,{callback:t,duration:new nc(this.context,r).toTicks(),interval:new nc(this.context,e).toTicks(),time:new oc(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new Nc(this,{callback:t,once:!0,time:new oc(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(e,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new Tc(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return Go(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Ko(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new nc(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new nc(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Tc(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Tc(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now(),e=this._clock.getTicksAtTime(t);return(e-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),r=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e),i=e+r;this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=this.getTicksAtTime(e),r=t-n%t;return this._clock.nextTickTime(r,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const r=this.bpm.getValueAtTime(n),i=1/(60/r/this.PPQ);e=t.getValueAtTime(n)/i}else e=0}const n=new fc(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ba(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ia.mixin(Ic),Ea(t=>{t.transport=new Ic({context:t})}),Na(t=>{t.transport.dispose()});class Pc extends uc{constructor(t){super(t),this.input=void 0,this._state=new cc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ra,this._syncedStop=Ra,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ec({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Fa(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(uc.getDefaults(),{mute:!1,onstop:Ra,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let r=Wo(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const t=this._state.get(r);t&&(t.offset=this.toSeconds(va(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule(t=>{this._start(t,e,n)},r);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Vo(this.context),this._start(r,e,n);else Bo(wa(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,e,n);return this}stop(t){let e=Wo(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Go(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const r=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(t,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ra,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Lc extends mc{constructor(){super(ma(Lc.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=ma(Lc.getDefaults(),arguments,["url","onload"]);dc(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new lc({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Va(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(mc.getDefaults(),{url:new Va,loop:!1,loopEnd:0,loopStart:0,onload:Ra,onerror:Ra,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,r=1){Bo(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,r),e=this.loop?va(e,this.loopStart):va(e,0);let s=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;xa(s,t)&&(s=(s-e)%n+e),Ta(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ka(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),Go(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Dc(t,e){return sa(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,r=new Ha(1,n,t.context.sampleRate),i=new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination();i.start(0);const s=yield r.render();return s.getChannelData(0)}))}class Fc extends mc{constructor(){super(ma(Fc.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=ma(Fc.getDefaults(),arguments,["frequency","type"]);dc(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new lc({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new lc({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Fa(this,["frequency","detune"])}static getDefaults(){return Object.assign(mc.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Bc extends Pc{constructor(){super(ma(Bc.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=ma(Bc.getDefaults(),arguments,["frequency","type"]);this.frequency=new vc({context:this.context,units:"frequency",value:t.frequency}),Fa(this,"frequency"),this.detune=new vc({context:this.context,units:"cents",value:t.detune}),Fa(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Pc.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new Fc({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){const t=Bc._periodicWaveCache.find(t=>t.phase===this._phase&&fa(t.partials,this._partials));return t}{const t=Bc._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Go(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(e,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Bc._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),Bc._periodicWaveCache.length>100&&Bc._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ro(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach((t,n)=>e[n]=t),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){const n=4096;let r=n/2;const i=new Float32Array(r),s=new Float32Array(r);let o=1;if("custom"===t){if(o=this._partials.length+1,this._partialCount=this._partials.length,r=o,0===this._partials.length)return[i,s]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(o=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],o=Math.max(o,2),r=o):this._partialCount=0,this._partials=[]}for(let a=1;a<r;++a){const n=2/(a*Math.PI);let r;switch(t){case"sine":r=a<=o?1:0,this._partials[a-1]=r;break;case"square":r=1&a?2*n:0,this._partials[a-1]=r;break;case"sawtooth":r=n*(1&a?1:-1),this._partials[a-1]=r;break;case"triangle":r=1&a?n*n*2*(a-1>>1&1?-1:1):0,this._partials[a-1]=r;break;case"custom":r=this._partials[a-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==r?(i[a]=-r*Math.sin(e*a),s[a]=r*Math.cos(e*a)):(i[a]=0,s[a]=0)}return[i,s]}_inverseFFT(t,e,n){let r=0;const i=t.length;for(let s=0;s<i;s++)r+=t[s]*Math.cos(s*n)+e[s]*Math.sin(s*n);return r}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI,i=32;for(let s=0;s<i;s++)n=Math.max(this._inverseFFT(t,e,s/i*r),n);return Sa(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return sa(this,void 0,void 0,(function*(){return Dc(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Bc._periodicWaveCache=[];class Rc extends uc{constructor(){super(Object.assign(ma(Rc.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return bc(this,t,e,n),this}}class Vc extends Rc{constructor(){super(Object.assign(ma(Vc.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=ma(Vc.getDefaults(),arguments,["mapping","length"]);Ko(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Uo(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(vc.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let r=0,i=e;r<i;r++){const e=r/(i-1)*2-1;n[r]=t(e,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some(e=>e.includes(t));Bo(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Hc extends Rc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Vc({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class qc extends vc{constructor(){super(Object.assign(ma(qc.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=ma(qc.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new fc({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(vc.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class zc extends Pc{constructor(){super(ma(zc.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Hc({context:this.context}),this._modulationNode=new fc({context:this.context});const t=ma(zc.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bc({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Bc({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new qc({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Fa(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bc.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return sa(this,void 0,void 0,(function*(){return Dc(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Wc extends Pc{constructor(){super(ma(Wc.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new fc({context:this.context,gain:0});const t=ma(Wc.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bc({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new vc({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Bc({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new qc({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new qc({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Fa(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bc.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return sa(this,void 0,void 0,(function*(){return Dc(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Gc extends Pc{constructor(){super(ma(Gc.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new fc({context:this.context,gain:0}),this._thresh=new Vc({context:this.context,mapping:t=>t<=0?-1:1});const t=ma(Gc.getDefaults(),arguments,["frequency","width"]);this.width=new vc({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Bc({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Fa(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Pc.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return sa(this,void 0,void 0,(function*(){return Dc(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Uc extends Pc{constructor(){super(ma(Uc.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=ma(Uc.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new vc({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vc({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Fa(this,["frequency","detune"])}static getDefaults(){return Object.assign(Bc.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach((t,r)=>t.detune.value=e+n*r)}}get count(){return this._oscillators.length}set count(t){if(Ro(t,1),this._oscillators.length!==t){this._forEach(t=>t.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const n=new Bc({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Ra});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((t,e)=>t.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return sa(this,void 0,void 0,(function*(){return Dc(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class Yc extends Pc{constructor(){super(ma(Yc.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new qc({context:this.context,value:2});const t=ma(Yc.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Gc({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Bc({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Fa(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Pc.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return sa(this,void 0,void 0,(function*(){return Dc(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const $c={am:zc,fat:Uc,fm:Wc,oscillator:Bc,pulse:Gc,pwm:Yc};class Xc extends Pc{constructor(){super(ma(Xc.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=ma(Xc.getDefaults(),arguments,["frequency","type"]);this.frequency=new vc({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vc({context:this.context,units:"cents",value:t.detune}),Fa(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Bc.getDefaults(),Wc.getDefaults(),zc.getDefaults(),Uc.getDefaults(),Gc.getDefaults(),Yc.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=$c[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout(()=>t.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof $c[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Yo(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Yo(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Zo(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return sa(this,void 0,void 0,(function*(){return Dc(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Kc(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Ro(r,t,e),n.set(this,r)}})}}function Zc(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Ro(this.toSeconds(r),t,e),n.set(this,r)}})}}class Qc extends Pc{constructor(){super(ma(Qc.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=ma(Qc.getDefaults(),arguments,["url","onload"]);this._buffer=new Va({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Pc.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ra,onerror:Ra,playbackRate:1,reverse:!1})}load(t){return sa(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=Ra){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?va(e,this._loopStart):va(e,0);const r=this.toSeconds(e),i=n;n=va(n,Math.max(this._buffer.duration-r,0));let s=this.toSeconds(n);s/=this._playbackRate,t=this.toSeconds(t);const o=new Lc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+s),this._state.setStateAtTime("stopped",t+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Wo(i)?o.start(t,r):o.start(t,r,s-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(t=>t.stop(e))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ro(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ro(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(t=>t.cancelStop())),this._activeSources.forEach(n=>{n.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}ia([Zc(0)],Qc.prototype,"fadeIn",void 0),ia([Zc(0)],Qc.prototype,"fadeOut",void 0);class Jc extends uc{constructor(){super(ma(Jc.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new vc({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=ma(Jc.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(uc.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Zo(t))return t;{let n;for(n in tl)if(tl[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Zo(n)&&Reflect.has(tl,n)){const r=tl[n];$o(r)?"_decayCurve"!==t&&(this[t]=r[e]):this[t]=r}else{if(!Ko(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Bo(["linear","exponential"].some(e=>e===t),"Invalid envelope curve: "+t),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);const n=this.toSeconds(this.attack);let r=n;const i=this.toSeconds(this.decay),s=this.getValueAtTime(t);if(s>0){const t=1/r,e=1-s;r=e/t}if(r<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,r,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,r,t);else{this._sig.cancelAndHoldAtTime(t);let n=this._attackCurve;for(let t=1;t<n.length;t++)if(n[t-1]<=s&&s<=n[t]){n=this._attackCurve.slice(t),n[0]=s;break}this._sig.setValueCurveAtTime(n,t,r,e)}if(i&&this.sustain<1){const n=e*this.sustain,s=t+r;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(n,i+s):this._sig.exponentialApproachValueAtTime(n,s,i)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Bo(Ko(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return bc(this,t,e,n),this}asArray(t=1024){return sa(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Ha(1,e,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),s=.1*i,o=i+s,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));a._sig.toDestination(),a.triggerAttackRelease(e*(r+s)/o,0);const c=yield n.render();return c.getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}ia([Zc(0)],Jc.prototype,"attack",void 0),ia([Zc(0)],Jc.prototype,"decay",void 0),ia([Kc(0,1)],Jc.prototype,"sustain",void 0),ia([Zc(0)],Jc.prototype,"release",void 0);const tl=(()=>{const t=128;let e,n;const r=[];for(e=0;e<t;e++)r[e]=Math.sin(e/(t-1)*(Math.PI/2));const i=[],s=6.4;for(e=0;e<t-1;e++){n=e/(t-1);const r=Math.sin(n*(2*Math.PI)*s-Math.PI/2)+1;i[e]=r/10+.83*n}i[t-1]=1;const o=[],a=5;for(e=0;e<t;e++)o[e]=Math.ceil(e/(t-1)*a)/a;const c=[];for(e=0;e<t;e++)n=e/(t-1),c[e]=.5*(1-Math.cos(Math.PI*n));const l=[];for(e=0;e<t;e++){n=e/(t-1);const r=4*Math.pow(n,3)+.2,i=Math.cos(r*Math.PI*2*n);l[e]=Math.abs(i*(1-n))}function u(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}function h(t){return t.slice(0).reverse()}return{bounce:{In:u(l),Out:l},cosine:{In:r,Out:h(r)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:u(i)},sine:{In:c,Out:u(c)},step:{In:o,Out:u(o)}}})();class el extends uc{constructor(){super(ma(el.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=ma(el.getDefaults(),arguments);this._volume=this.output=new Ec({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Fa(this,"volume")}static getDefaults(){return Object.assign(uc.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const r=t[e],i=this.context.transport.schedule(r=>{t[e]=r,n.apply(this,t)},r);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,r){const i=this.toSeconds(n),s=this.toSeconds(e);return this.triggerAttack(t,i,r),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class nl extends el{constructor(){super(ma(nl.getDefaults(),arguments));const t=ma(nl.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(el.getDefaults(),{detune:0,onsilence:Ra,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const r=this.toSeconds(e);return this._triggerEnvelopeAttack(r,n),this.setNote(t,r),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),r=t instanceof rc?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,t,n)}else this.frequency.setValueAtTime(r,n);return this}}ia([Zc(0)],nl.prototype,"portamento",void 0);class rl extends Jc{constructor(){super(ma(rl.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new fc({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class il extends nl{constructor(){super(ma(il.getDefaults(),arguments)),this.name="Synth";const t=ma(il.getDefaults(),arguments);this.oscillator=new Xc(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new rl(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Fa(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(nl.getDefaults(),{envelope:Object.assign(ba(Jc.getDefaults(),Object.keys(uc.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ba(Xc.getDefaults(),[...Object.keys(Pc.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class sl extends il{constructor(){super(ma(sl.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=ma(sl.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Fa(this,["oscillator","envelope"])}static getDefaults(){return pa(nl.getDefaults(),il.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),r=this.toFrequency(t instanceof rc?t.toFrequency():t),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ia([Kc(0)],sl.prototype,"octaves",void 0),ia([Zc(0)],sl.prototype,"pitchDecay",void 0);const ol=new Set;function al(t){ol.add(t)}function cl(t,e){const n=`registerProcessor("${t}", ${e})`;ol.add(n)}const ll='\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n';al(ll);const ul="\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n";al(ul);const hl="\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n";al(hl);const dl="feedback-comb-filter",pl='\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n';cl(dl,pl);class fl extends el{constructor(){super(ma(fl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=ma(fl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach(n=>{const r=parseInt(n,10);if(Bo(Qo(n)||Yo(r)&&isFinite(r),"url key is neither a note or midi pitch: "+n),Qo(n)){const r=new rc(this.context,n).toMidi();e[r]=t.urls[n]}else Yo(r)&&isFinite(r)&&(e[r]=t.urls[r])}),this._buffers=new kc({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(el.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ra,onerror:Ra,release:.1,urls:{}})}_findClosest(t){const e=96;let n=0;while(n<e){if(this._buffers.has(t+n))return-n;if(this._buffers.has(t-n))return n;n++}throw new Error("No available buffers for note: "+t)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach(t=>{const r=Ja(new rc(this.context,t).toFrequency()),i=Math.round(r),s=r-i,o=this._findClosest(i),a=i-o,c=this._buffers.get(a),l=$a(o+s),u=new Lc({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:l}).connect(this.output);u.start(e,0,c.duration/l,n),Ko(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(u);-1!==e&&t.splice(e,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(t=>{const n=new rc(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach(t=>{t.stop(e)}),this._activeSources.set(n,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(t=>{while(t.length){const n=t.shift();n.stop(e)}}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,r=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,r),Ko(e)?(Bo(Ko(t),"notes must be an array when duration is array"),t.forEach((t,n)=>{const r=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(r))})):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(Bo(Qo(t)||isFinite(t),"note must be a pitch or midi: "+t),Qo(t)){const r=new rc(this.context,t).toMidi();this._buffers.add(r,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}ia([Zc(0)],fl.prototype,"attack",void 0),ia([Zc(0)],fl.prototype,"release",void 0);class ml extends uc{constructor(){super(Object.assign(ma(ml.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=ma(ml.getDefaults(),arguments,["pan"]);this.pan=new lc({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Fa(this,"pan")}static getDefaults(){return Object.assign(uc.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const gl="bit-crusher",vl="\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n";cl(gl,vl);class bl extends uc{constructor(){super(ma(bl.getDefaults(),arguments,["solo"])),this.name="Solo";const t=ma(bl.getDefaults(),arguments,["solo"]);this.input=this.output=new fc({context:this.context}),bl._allSolos.has(this.context)||bl._allSolos.set(this.context,new Set),bl._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(uc.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),bl._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){bl._soloed.has(this.context)||bl._soloed.set(this.context,new Set),bl._soloed.get(this.context).add(this)}_removeSolo(){bl._soloed.has(this.context)&&bl._soloed.get(this.context).delete(this)}_isSoloed(){return bl._soloed.has(this.context)&&bl._soloed.get(this.context).has(this)}_noSolos(){return!bl._soloed.has(this.context)||bl._soloed.has(this.context)&&0===bl._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),bl._allSolos.get(this.context).delete(this),this._removeSolo(),this}}bl._allSolos=new Map,bl._soloed=new Map;class yl extends uc{constructor(){super(ma(yl.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=ma(yl.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new ml({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ec({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Fa(this,["pan","volume"])}static getDefaults(){return Object.assign(uc.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class _l extends uc{constructor(){super(ma(_l.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=ma(_l.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new bl({solo:t.solo,context:this.context}),this._panVol=this.output=new yl({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Fa(this,["pan","volume"])}static getDefaults(){return Object.assign(uc.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return _l.buses.has(t)||_l.buses.set(t,new fc({context:this.context})),_l.buses.get(t)}send(t,e=0){const n=this._getBus(t),r=new fc({context:this.context,units:"decibels",gain:e});return this.connect(r),r.connect(n),r}receive(t){const e=this._getBus(t);return e.connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}_l.buses=new Map;class wl extends uc{constructor(){super(...arguments),this.name="Listener",this.positionX=new lc({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new lc({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new lc({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new lc({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new lc({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new lc({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new lc({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new lc({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new lc({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(uc.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ea(t=>{t.listener=new wl({context:t})}),Na(t=>{t.listener.dispose()});function xl(){return Wa().now()}Wa().transport;Wa().destination,Wa().destination;Wa().listener;Wa().draw;Wa()},"5e89":function(t,e,n){var r=n("861d"),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},"605d":function(t,e,n){var r=n("c6b6"),i=n("da84");t.exports="process"==r(i.process)},"609f":function(t,e,n){var r=n("4919"),i=n("671d"),s=n("a3bf"),o=n("e8ab"),a=n("6211"),c=n("8370"),l=n("4acd"),u=n("7441"),h=n("06db");function d(t,e){var n=this;if("string"===typeof t){var r=t;if(t=document.querySelector(r),!t)throw new Error('Cannot find element "'+r+'" in the DOM.')}else if(!(t instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=t,n.options={},e&&(n.options=o.clone(e)),n.options.ac&&i(n.options.ac),p(n.parent,n.options),g(n),n.disable=function(t){var e=n.parent.querySelector(".abcjs-inline-audio");t?e.classList.add("abcjs-disabled"):e.classList.remove("abcjs-disabled")},n.setWarp=function(t,e){var r=n.parent.querySelector(".abcjs-midi-tempo");r.value=Math.round(e),n.setTempo(t)},n.setTempo=function(t){var e=n.parent.querySelector(".abcjs-midi-current-tempo");e&&(e.innerHTML=Math.round(t))},n.resetAll=function(){for(var t=n.parent.querySelectorAll(".abcjs-pushed"),e=0;e<t.length;e++){var r=t[e];r.classList.remove("abcjs-pushed")}},n.pushPlay=function(t){var e=n.parent.querySelector(".abcjs-midi-start");e&&(t?e.classList.add("abcjs-pushed"):e.classList.remove("abcjs-pushed"))},n.pushLoop=function(t){var e=n.parent.querySelector(".abcjs-midi-loop");e&&(t?e.classList.add("abcjs-pushed"):e.classList.remove("abcjs-pushed"))},n.setProgress=function(t,e){var r=n.parent.querySelector(".abcjs-midi-progress-background"),i=n.parent.querySelector(".abcjs-midi-progress-indicator");if(r&&i){var s=r.clientWidth,o=s*t;i.style.left=o+"px";var a=n.parent.querySelector(".abcjs-midi-clock");if(a){var c=e*t/1e3,l=Math.floor(c/60),u=Math.floor(c%60),h=u<10?"0"+u:u;a.innerHTML=l+":"+h}}},n.options.afterResume){var a=!1;n.options.ac?a="suspended"!==n.options.ac.state:s()&&(a="suspended"!==s().state),a&&n.options.afterResume()}}function p(t,e){var n=!!e.loopHandler,r=!!e.restartHandler,i=!!e.playHandler||!!e.playPromiseHandler,s=!!e.progressHandler,o=!!e.warpHandler,d=!1!==e.hasClock,p='<div class="abcjs-inline-audio">\n';if(n){var f=e.repeatTitle?e.repeatTitle:"Click to toggle play once/repeat.",m=e.repeatAria?e.repeatAria:f;p+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+f+'" aria-label="'+m+'">'+a+"</button>\n"}if(r){var g=e.restartTitle?e.restartTitle:"Click to go to beginning.",v=e.restartAria?e.restartAria:g;p+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+g+'" aria-label="'+v+'">'+h+"</button>\n"}if(i){var b=e.playTitle?e.playTitle:"Click to play/pause.",y=e.playAria?e.playAria:b;p+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+b+'" aria-label="'+y+'">'+c+l+u+"</button>\n"}if(s){var _=e.randomTitle?e.randomTitle:"Click to change the playback position.",w=e.randomAria?e.randomAria:_;p+='<button type="button" class="abcjs-midi-progress-background" title="'+_+'" aria-label="'+w+'"><span class="abcjs-midi-progress-indicator"></span></button>\n'}if(d&&(p+='<span class="abcjs-midi-clock"></span>\n'),o){var x=e.warpTitle?e.warpTitle:"Change the playback speed.",k=e.warpAria?e.warpAria:x,T=e.bpm?e.bpm:"BPM";p+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+x+'" aria-label="'+k+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+T+")</span></span>\n"}p+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',p+="</div>\n",t.innerHTML=p}function f(t,e,n,o,a){var c=!0;if(s()?c="suspended"===s().state:i(),!r())throw{status:"NotSupported",message:"This browser does not support audio."};(c||a)&&n&&n.classList.add("abcjs-loading"),c?s().resume().then((function(){o?o().then((function(r){m(t,e,n,a)})):m(t,e,n,a)})):m(t,e,n,a)}function m(t,e,n,r){r?t(e).then((function(){n&&n.classList.remove("abcjs-loading")})):(t(e),n&&n.classList.remove("abcjs-loading"))}function g(t){var e=!!t.options.loopHandler,n=!!t.options.restartHandler,r=!!t.options.playHandler||!!t.options.playPromiseHandler,i=!!t.options.progressHandler,s=!!t.options.warpHandler,o=t.parent.querySelector(".abcjs-midi-start");e&&t.parent.querySelector(".abcjs-midi-loop").addEventListener("click",(function(e){f(t.options.loopHandler,e,o,t.options.afterResume)})),n&&t.parent.querySelector(".abcjs-midi-reset").addEventListener("click",(function(e){f(t.options.restartHandler,e,o,t.options.afterResume)})),r&&o.addEventListener("click",(function(e){f(t.options.playPromiseHandler||t.options.playHandler,e,o,t.options.afterResume,!!t.options.playPromiseHandler)})),i&&t.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",(function(e){f(t.options.progressHandler,e,o,t.options.afterResume)})),s&&t.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",(function(e){f(t.options.warpHandler,e,o,t.options.afterResume)}))}t.exports=d},"60da":function(t,e,n){"use strict";var r=n("83ab"),i=n("d039"),s=n("df75"),o=n("7418"),a=n("d1e7"),c=n("7b0b"),l=n("44ad"),u=Object.assign,h=Object.defineProperty;t.exports=!u||i((function(){if(r&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||s(u({},e)).join("")!=i}))?function(t,e){var n=c(t),i=arguments.length,u=1,h=o.f,d=a.f;while(i>u){var p,f=l(arguments[u++]),m=h?s(f).concat(h(f)):s(f),g=m.length,v=0;while(g>v)p=m[v++],r&&!d.call(f,p)||(n[p]=f[p])}return n}:u},6211:function(t,e){var n='\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">\n\t<g transform="translate(0,700) scale(0.1,-0.1)" >\n\t<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55\n\t-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128\n\t-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79\n\t-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60\n\t-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507\n\t-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21\n\t-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12\n\t-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33\n\t-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0\n\t-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51\n\t153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48\n\t107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57\n\t74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52\n\t100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45\n\t143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29\n\t165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34\n\t115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33\n\t-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90\n\t-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138\n\t115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191\n\t50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21\n\t7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17\n\t-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10\n\t-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66\n\t50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73\n\t39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53\n\t-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43\n\t-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339\n\t-19z"></path>\n\t<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0\n\t-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72\n\tl69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279\n\t268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74\n\t-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19\n\t-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31\n\t93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59\n\t62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89\n\t89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146\n\t67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56\n\t31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64\n\t48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22\n\t25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14\n\t18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50\n\t47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138\n\t-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10\n\t-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20\n\t-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19\n\t-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25\n\t-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18\n\t-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11\n\t-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168\n\t16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71\n\t37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108\n\t63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65\n\t61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86\n\t12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030\n\t0 -1086 -11z"></path>\n\t</g>\n</svg>\n';t.exports=n},"62c6":function(t,e,n){var r=n("c076"),i=n("17d5");function s(t,e,n,s,o){if(n<0||s<o){var a=i(o);o=i(s),s=a}else s=i(s),o=i(o);e=i(e);var c=i(e+n),l=t.foregroundColor,u=[["M",e,s],["L",e,o],["L",c,o],["L",c,s],["z"]];if(!r.isInGroup()){for(var h="",d=0;d<u.length;d++)h+=u[d].join(" ");var p=t.paper.pathToBack({path:h,stroke:"none",fill:l,class:t.controller.classes.generate("stem")});return p}r.addPath(u)}t.exports=s},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),s=function(t){return function(e,n){var s,o,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(s=a.charCodeAt(c),s<55296||s>56319||c+1===l||(o=a.charCodeAt(c+1))<56320||o>57343?t?a.charAt(c):s:t?a.slice(c,c+2):o-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),s=n("b622"),o=s("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"671d":function(t,e){function n(t){if(t)window.abcjsAudioContext=t;else if(!window.abcjsAudioContext){var e=window.AudioContext||window.webkitAudioContext;window.abcjsAudioContext=new e}return"suspended"!==window.abcjsAudioContext.state}t.exports=n},"67ad":function(t,e,n){var r=n("2e42"),i=n("4a45"),s=n("786a"),o=n("4550"),a=n("bde2"),c=n("7fcd"),l=n("9856"),u=n("bd0f"),h=n("93c6"),d=n("1ce3"),p=n("5cbe"),f=n("fa8e"),m=n("c087"),g=n("dc59"),v=n("f1ef"),b=n("ac8a"),y=n("6e8a"),_=n("e730"),w=n("2601"),x=n("e8ab"),k=function(t){var e=0;return t.duration&&(e=t.duration),e},T=!1,S={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},O=function(t,e,n){this.decoration=new u,this.getTextSize=t,this.tuneNumber=e,this.isBagpipes=n.bagpipes,this.flatBeams=n.flatbeams,this.graceSlurs=n.graceSlurs,this.percmap=n.percmap,this.reset()};function C(t,e){var n=t[e];if("note"!==n.el_type||!n.startBeam||n.endBeam)return{count:1,elem:n};var r=[];while(e<t.length&&"note"===t[e].el_type){if(r.push(t[e]),t[e].endBeam)break;e++}return{count:r.length,elem:r}}function E(t){if(t.pitches){A(t);for(var e=0,n=0;n<t.pitches.length;n++)e+=t.pitches[n].verticalPos;t.averagepitch=e/t.pitches.length,t.minpitch=t.pitches[0].verticalPos,t.maxpitch=t.pitches[t.pitches.length-1].verticalPos}}O.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},O.prototype.setStemHeight=function(t){this.stemHeight=Math.round(10*t/f.STEP)/10},O.prototype.getCurrentVoiceId=function(t,e){return"s"+t+"v"+e},O.prototype.pushCrossLineElems=function(t,e){this.slursbyvoice[this.getCurrentVoiceId(t,e)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(t,e)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(t,e)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(t,e)]=this.voiceScale},O.prototype.popCrossLineElems=function(t,e){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(t,e)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(t,e)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(t,e)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(t,e)],void 0===this.voiceScale&&(this.voiceScale=1)},O.prototype.containsLyrics=function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t[e].voices.length;n++)for(var r=0;r<t[e].voices[n].length;r++){var i=t[e].voices[n][r];if(i.lyric)return void(i.positioning&&"below"!==i.positioning.vocalPosition||(this.hasVocals=!0))}},O.prototype.createABCLine=function(t,e){this.minY=2,this.containsLyrics(t);var n=new m(this.getTextSize);this.tempoSet=!1;for(var r=0;r<t.length;r++)T&&this.restoreState(),T=!1,this.createABCStaff(n,t[r],e,r);return n},O.prototype.createABCStaff=function(t,e,n,r){t.getTextSize.updateFonts(e);for(var i=0;i<e.voices.length;i++){var c=new y(i,e.voices.length);0===i?(c.barfrom="start"===e.connectBarLines||"continue"===e.connectBarLines,c.barto="continue"===e.connectBarLines||"end"===e.connectBarLines):c.duplicate=!0,e.title&&e.title[i]&&(c.header=e.title[i].replace(/\\n/g,"\n"),c.headerPosition=6+t.getTextSize.baselineToCenter(c.header,"voicefont","staff-extra voice-name",i,e.voices.length)/f.STEP),e.clef&&"perc"===e.clef.type&&(c.isPercussion=!0);var u=o(e.clef,this.tuneNumber);u&&(0===i&&e.barNumber&&this.addMeasureNumber(e.barNumber,u),c.addChild(u),this.startlimitelem=u);var h=a(e.key,this.tuneNumber);if(h&&(c.addChild(h),this.startlimitelem=h),e.meter){"specified"===e.meter.type?this.measureLength=e.meter.value[0].num/e.meter.value[0].den:this.measureLength=1;var d=l(e.meter,this.tuneNumber);c.addChild(d),this.startlimitelem=d}c.duplicate&&(c.children=[]);var p=e.clef.stafflines||0===e.clef.stafflines?e.clef.stafflines:5;t.addVoice(c,r,p);var m=1===p;this.createABCVoice(e.voices[i],n,r,i,m,c),t.setStaffLimits(c),0===i&&("start"===e.brace||!t.brace&&e.brace?(t.brace||(t.brace=[]),t.brace.push(new s(c,"brace"))):"end"===e.brace&&t.brace?t.brace[t.brace.length-1].setBottomStaff(c):"continue"===e.brace&&t.brace&&t.brace[t.brace.length-1].continuing(c),"start"===e.bracket||!t.bracket&&e.bracket?(t.bracket||(t.bracket=[]),t.bracket.push(new s(c,"bracket"))):"end"===e.bracket&&t.bracket?t.bracket[t.bracket.length-1].setBottomStaff(c):"continue"===e.bracket&&t.bracket&&t.bracket[t.bracket.length-1].continuing(c))}},O.prototype.createABCVoice=function(t,e,n,i,s,o){this.popCrossLineElems(n,i),this.stemdir=this.isBagpipes?"down":null,this.abcline=t,this.partstartelem&&(this.partstartelem=new h("",null,null),o.addOther(this.partstartelem));var a=o.voicetotal<2?-1:o.voicenumber;for(var l in this.slurs)this.slurs.hasOwnProperty(l)&&(this.slurs[l]=new v({force:this.slurs[l].force,voiceNumber:a,stemDir:this.slurs[l].stemDir,style:this.slurs[l].dotted}),T&&this.slurs[l].setHint(),o.addOther(this.slurs[l]));for(var u=0;u<this.ties.length;u++)this.ties[u]=new v({force:this.ties[u].force,stemDir:this.ties[u].stemDir,voiceNumber:a,style:this.ties[u].dotted}),T&&this.ties[u].setHint(),o.addOther(this.ties[u]);for(var d=0;d<this.abcline.length;d++)E(this.abcline[d]),this.minY=Math.min(this.abcline[d].minpitch,this.minY);var p=0===n,f=0;while(f<this.abcline.length){var m=C(this.abcline,f),b=this.createABCElement(p,s,o,m.elem);if(b)for(u=0;u<b.length;u++){if(!this.tempoSet&&e&&!e.suppress){this.tempoSet=!0;var y=new r(e,0,0,"tempo",this.tuneNumber,{});y.addFixedX(new g(e,this.tuneNumber,c)),o.addChild(y)}o.addChild(b[u])}f+=m.count}this.pushCrossLineElems(n,i)},O.prototype.saveState=function(){this.tiesSave=x.cloneArray(this.ties),this.slursSave=x.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=x.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=x.cloneHashOfArrayOfHash(this.tiesbyvoice)},O.prototype.restoreState=function(){this.ties=x.cloneArray(this.tiesSave),this.slurs=x.cloneHashOfHash(this.slursSave),this.slursbyvoice=x.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=x.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},O.prototype.createABCElement=function(t,e,n,i){var s=[];switch(i.el_type){case void 0:s=this.createBeam(e,n,i);break;case"note":s[0]=this.createNote(i,!1,e,n),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":s[0]=this.createBarLine(n,i,t),n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"meter":s[0]=l(i,this.tuneNumber),this.startlimitelem=s[0],n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"clef":if(s[0]=o(i,this.tuneNumber),!s[0])return null;n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"key":var u=a(i,this.tuneNumber);u&&(s[0]=u,this.startlimitelem=s[0]),n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"stem":this.stemdir="auto"===i.direction?void 0:i.direction;break;case"part":var h=new r(i,0,0,"part",this.tuneNumber),d=this.getTextSize.calc(i.title,"partsfont","part");h.addFixedX(new p(i.title,0,0,void 0,{type:"part",height:d.height/f.STEP})),s[0]=h;break;case"tempo":var m=new r(i,0,0,"tempo",this.tuneNumber);m.addFixedX(new g(i,this.tuneNumber,c)),s[0]=m;break;case"style":"normal"===i.head?delete this.style:this.style=i.head;break;case"hint":T=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=i.size;break;default:var v=new r(i,0,0,"unsupported",this.tuneNumber);v.addFixed(new p("element type "+i.el_type,0,0,void 0,{type:"debug"})),s[0]=v}return s},O.prototype.createBeam=function(t,e,n){var r=[],s=new i(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,n[0]);T&&s.setHint();for(var o=0;o<n.length;o++){var a=n[o],c=this.createNote(a,!0,t,e);r.push(c),s.add(c),this.triplet&&this.triplet.isClosed()&&(e.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return s.calcDir(),e.addBeam(s),r};var A=function(t){var e;do{e=!0;for(var n=0;n<t.pitches.length-1;n++)if(t.pitches[n].pitch>t.pitches[n+1].pitch){e=!1;var r=t.pitches[n];t.pitches[n]=t.pitches[n+1],t.pitches[n+1]=r}}while(!e)},M=function(t,e,n,r,i,s,o,a,c){for(var l=n;l>11;l--)l%2!==0||r||t.addFixed(new p(null,a,(i+4)*c,l,{type:"ledger"}));for(l=e;l<1;l++)l%2!==0||r||t.addFixed(new p(null,a,(i+4)*c,l,{type:"ledger"}));for(l=0;l<s.length;l++){var u=i;"down"===o&&(u=-u),t.addFixed(new p(null,u+a,(i+4)*c,s[l],{type:"ledger"}))}};function N(t,e,n,r,i,s,o,a,l){var u,h,f,m,g=7;switch(i&&("down"===s&&(g=3),"up"===s&&(g=11)),o&&(g=n<.5||n<1?7:5),e.rest.type){case"whole":u=S.rest[0],e.averagepitch=g,e.minpitch=g,e.maxpitch=g,r=0;break;case"rest":u="rhythm"===e.style?S.rhythm[-a]:S.rest[-a],e.averagepitch=g,e.minpitch=g,e.maxpitch=g;break;case"invisible":case"invisible-multimeasure":case"spacer":u="",e.averagepitch=g,e.minpitch=g,e.maxpitch=g;break;case"multimeasure":u=S.rest["multi"],e.averagepitch=g,e.minpitch=g,e.maxpitch=g,r=0;var v=d.getSymbolWidth(u);t.addHead(new p(u,v,2*v,7));var b=new p(""+e.rest.text,v,v,16,{type:"multimeasure-text"});t.addExtra(b)}if(e.rest.type.indexOf("multimeasure")<0){var y=c(t,u,{verticalPos:g},{dot:r,scale:l});h=y.notehead,h&&(t.addHead(h),f=y.accidentalshiftx,m=y.dotshiftx)}return{noteHead:h,roomTaken:f,roomTakenRight:m}}function j(t,e){for(var n=0;n<t.length;n++)if(JSON.stringify(t[n])===JSON.stringify(e))return;t.push(e)}O.prototype.addGraceNotes=function(t,e,n,r,s,o,a){var l=.6,u=.7;s=Math.round(s*u);var h,f,m=null;t.gracenotes.length>1&&(m=new i(s,"grace",o),T&&m.setHint(),m.mainNote=n);var g=[];for(f=t.gracenotes.length-1;f>=0;f--)a+=10,g[f]=a,t.gracenotes[f].accidental&&(a+=7);for(f=0;f<t.gracenotes.length;f++){var b=t.gracenotes[f].verticalPos;h=m?null:S.uflags[o?5:3];var y=[],_=c(n,"noteheads.quarter",t.gracenotes[f],{dir:"up",headx:-g[f],extrax:-g[f],flag:h,scale:l*this.voiceScale,accidentalSlot:y});_.notehead.highestVert=_.notehead.pitch+s;var w=_.notehead;if(this.addSlursAndTies(n,t.gracenotes[f],w,e,"up",!0),n.addExtra(w),t.gracenotes[f].acciaccatura){var x=t.gracenotes[f].verticalPos+7*l,k=m?5:6;n.addRight(new p("flags.ugrace",-g[f]+k,0,x,{scalex:l,scaley:l}))}if(m){var O=t.gracenotes[f].duration/2;o&&(O/=2);var C={heads:[w],abcelem:{averagepitch:b,minpitch:b,maxpitch:b,duration:O}};m.add(C)}else{var E=b+1/3*l,A=b+7*l,N=w.dx+w.w,j=-.6;n.addExtra(new p(null,N,0,E,{type:"stem",pitch2:A,linewidth:j}))}M(n,b,b,!1,d.getSymbolWidth("noteheads.quarter"),[],!0,w.dx-1,.6);var I=t.rest&&("spacer"===t.rest.type||"invisible"===t.rest.type);0!==f||o||!this.graceSlurs||I||e.addOther(new v({anchor1:w,anchor2:r,isGrace:!0}))}return m&&(m.calcDir(),e.addBeam(m)),a},O.prototype.addNoteToAbcElement=function(t,e,n,r,i,s,o,a,l){var u,h,f,m,g,v=0,b=0,y=0,_=[],x=[],T=0,O=e.averagepitch>=6?"down":"up";for(r&&(O=r),i=e.style?e.style:i,i&&"normal"!==i||(i="note"),m=s?S[i].nostem:S[i][-o],m||console.log("noteSymbol:",i,o,s),g="down"===O?e.pitches.length-2:1;"down"===O?g>=0:g<e.pitches.length;g="down"===O?g-1:g+1){var C=e.pitches["down"===O?g+1:g-1],E=e.pitches[g],A="down"===O?C.pitch-E.pitch:E.pitch-C.pitch;A<=1&&!C.printer_shift&&(E.printer_shift=A?"different":"same",(E.verticalPos>11||E.verticalPos<1)&&_.push(E.verticalPos-E.verticalPos%2),"down"===O?b=d.getSymbolWidth(m)+2:v=d.getSymbolWidth(m)+2)}var M=e.pitches.length;for(g=0;g<e.pitches.length;g++){var N,I;if(!a)N="down"===O&&0!==g||"up"===O&&g!==M-1?null:S["down"===O?"dflags":"uflags"][-o];if(e.pitches[g].style)I=S[e.pitches[g].style][-o];else if(l.isPercussion&&this.percmap){I=m;var P=this.percmap[w(e.pitches[g])];P&&P.noteHead&&S[P.noteHead]&&(I=S[P.noteHead][-o])}else I=m;e.pitches[g].highestVert=e.pitches[g].verticalPos;var L=("up"===r||"up"===O)&&0===g,D=("down"===r||"down"===O)&&g===M-1;if(L||D){if((e.startSlur||1===M)&&(e.pitches[g].highestVert=e.pitches[M-1].verticalPos,k(e)<1&&("up"===r||"up"===O)&&(e.pitches[g].highestVert+=6)),e.startSlur)for(e.pitches[g].startSlur||(e.pitches[g].startSlur=[]),f=0;f<e.startSlur.length;f++)j(e.pitches[g].startSlur,e.startSlur[f]);if(e.endSlur)for(e.pitches[g].highestVert=e.pitches[M-1].verticalPos,k(e)<1&&("up"===r||"up"===O)&&(e.pitches[g].highestVert+=6),e.pitches[g].endSlur||(e.pitches[g].endSlur=[]),f=0;f<e.endSlur.length;f++)j(e.pitches[g].endSlur,e.endSlur[f])}var F=!a&&o<=-1,B=c(t,I,e.pitches[g],{dir:O,extrax:-b,flag:N,dot:n,dotshiftx:v,scale:this.voiceScale,accidentalSlot:x,shouldExtendStem:!r,printAccidentals:!l.isPercussion});T=Math.max(d.getSymbolWidth(I),T),t.extraw-=B.extraLeft,u=B.notehead,u&&(this.addSlursAndTies(t,e.pitches[g],u,l,F?O:null,!1),e.gracenotes&&e.gracenotes.length>0&&(u.bottom=u.bottom-1),t.addHead(u)),b+=B.accidentalshiftx,y=Math.max(y,B.dotshiftx)}if(F){var R=Math.round(70*this.voiceScale)/10,V="down"===O?e.minpitch-R:e.minpitch+1/3;V>6&&!r&&(V=6);var H="down"===O?e.maxpitch-1/3:e.maxpitch+R;H<6&&!r&&(H=6);var q="down"===O||0===t.heads.length?0:t.heads[0].w,z="down"===O?1:-1;"noteheads.slash.quarter"===u.c&&("down"===O?H-=1:V+=1),t.addRight(new p(null,q,0,V,{type:"stem",pitch2:H,linewidth:z})),h=Math.min(V,H)}return{noteHead:u,roomTaken:b,roomTakenRight:y,min:h,additionalLedgers:_,dir:O,symbolWidth:T}},O.prototype.addLyric=function(t,e){var n="";x.each(e.lyric,(function(t){var e=" "===t.divider?"":t.divider;n+=t.syllable+e+"\n"}));var r=this.getTextSize.calc(n,"vocalfont","lyric"),i=e.positioning?e.positioning.vocalPosition:"below";t.addCentered(new p(n,0,r.width,void 0,{type:"lyric",position:i,height:r.height/f.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))},O.prototype.createNote=function(t,e,n,i){var s,o=null,a=0,c=0,l=0,u=[],h=k(t),d=!1;0===h&&(d=!0,h=.25,e=!0);for(var f=Math.floor(Math.log(h)/Math.log(2)),m=0,g=Math.pow(2,f),v=g/2;g<h;m++,g+=v,v/=2);t.startTriplet&&(this.tripletmultiplier=t.tripletMultiplier);var y=h*this.tripletmultiplier;t.rest&&"multimeasure"===t.rest.type&&(y=1),t.rest&&"invisible-multimeasure"===t.rest.type&&(y=this.measureLength*t.rest.text);var w=t.rest?"rest":"note",x=new r(t,y,1,w,this.tuneNumber,{durationClassOveride:t.duration*this.tripletmultiplier});if(T&&x.setHint(),t.rest){this.measureLength===h&&"invisible"!==t.rest.type&&"spacer"!==t.rest.type&&t.rest.type.indexOf("multimeasure")<0&&(t.rest.type="whole");var S=N(x,t,h,m,i.voicetotal>1,this.stemdir,n,f,this.voiceScale);o=S.noteHead,a=S.roomTaken,c=S.roomTakenRight}else{var O=this.addNoteToAbcElement(x,t,m,this.stemdir,this.style,d,f,e,i);void 0!==O.min&&(this.minY=Math.min(O.min,this.minY)),o=O.noteHead,a=O.roomTaken,c=O.roomTakenRight,u=O.additionalLedgers,s=O.dir,l=O.symbolWidth}if(void 0!==t.lyric&&this.addLyric(x,t),void 0!==t.gracenotes&&(a+=this.addGraceNotes(t,i,x,o,this.stemHeight*this.voiceScale,this.isBagpipes,a)),t.decoration&&this.decoration.createDecoration(i,t.decoration,x.top,o?o.w:0,x,a,s,x.bottom,t.positioning,this.hasVocals),t.barNumber&&x.addFixed(new p(t.barNumber,-10,0,0,{type:"barNumber"})),M(x,t.minpitch,t.maxpitch,t.rest,l,u,s,-2,1),void 0!==t.chord){var C=_(this.getTextSize,x,t,a,c,l);a=C.roomTaken,c=C.roomTakenRight}return t.startTriplet&&(this.triplet=new b(t.startTriplet,o,{flatBeams:this.flatBeams})),t.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(o),!this.triplet||t.startTriplet||t.endTriplet||t.rest&&"spacer"===t.rest.type||this.triplet.middleNote(o),x},O.prototype.addSlursAndTies=function(t,e,n,r,i,s){if(e.endTie&&this.ties.length>0){for(var o=!1,a=0;a<this.ties.length;a++)if(this.ties[a].anchor1&&this.ties[a].anchor1.pitch===n.pitch){this.ties[a].setEndAnchor(n),this.ties.splice(a,1),o=!0;break}o||(this.ties[0].setEndAnchor(n),this.ties.splice(0,1))}var c,l,u=r.voicetotal<2?-1:r.voicenumber;if(e.startTie){var h=new v({anchor1:n,force:"down"===this.stemdir||"up"===this.stemdir,stemDir:this.stemdir,isGrace:s,voiceNumber:u,style:e.startTie.style});T&&h.setHint(),this.ties[this.ties.length]=h,r.addOther(h),t.startTie=!0}if(e.endSlur)for(var d=0;d<e.endSlur.length;d++)l=e.endSlur[d],this.slurs[l]?(c=this.slurs[l],c.setEndAnchor(n),delete this.slurs[l]):(c=new v({anchor2:n,stemDir:this.stemdir,voiceNumber:u}),T&&c.setHint(),r.addOther(c)),this.startlimitelem&&c.setStartX(this.startlimitelem);else if(!s)for(var p in this.slurs)this.slurs.hasOwnProperty(p)&&this.slurs[p].addInternalNote(n);if(e.startSlur)for(d=0;d<e.startSlur.length;d++)l=e.startSlur[d].label,c=new v({anchor1:n,stemDir:this.stemdir,voiceNumber:u,style:e.startSlur[d].style}),T&&c.setHint(),this.slurs[l]=c,r.addOther(c)},O.prototype.addMeasureNumber=function(t,e){var n=this.getTextSize.calc(t,"measurefont","bar-number"),r=n.width>18&&"treble"===e.abcelem.type?-7:0;e.addFixed(new p(t,r,n.width,11+n.height/f.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))},O.prototype.createBarLine=function(t,e,n){var i=new r(e,0,10,"bar",this.tuneNumber),s=null,o=0;e.barNumber&&this.addMeasureNumber(e.barNumber,i);var a="bar_right_repeat"===e.type||"bar_dbl_repeat"===e.type,c="bar_left_repeat"!==e.type&&"bar_thick_thin"!==e.type&&"bar_invisible"!==e.type,l="bar_right_repeat"===e.type||"bar_dbl_repeat"===e.type||"bar_left_repeat"===e.type||"bar_thin_thick"===e.type||"bar_thick_thin"===e.type,u="bar_left_repeat"===e.type||"bar_thick_thin"===e.type||"bar_thin_thin"===e.type||"bar_dbl_repeat"===e.type,d="bar_left_repeat"===e.type||"bar_dbl_repeat"===e.type;if(a||d){for(var f in this.slurs)this.slurs.hasOwnProperty(f)&&this.slurs[f].setEndX(i);this.startlimitelem=i}if(a&&(i.addRight(new p("dots.dot",o,1,7)),i.addRight(new p("dots.dot",o,1,5)),o+=6),c&&(s=new p(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(s)),"bar_invisible"===e.type&&(s=new p(null,o,1,2,{type:"none",pitch2:10,linewidth:.6}),i.addRight(s)),e.decoration&&this.decoration.createDecoration(t,e.decoration,12,l?3:1,i,0,"down",2,e.positioning,this.hasVocals),l&&(o+=4,s=new p(null,o,4,2,{type:"bar",pitch2:10,linewidth:4}),i.addRight(s),o+=5),this.partstartelem&&e.endEnding&&(this.partstartelem.anchor2=s,this.partstartelem=null),u&&(o+=3,s=new p(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(s)),d&&(o+=3,i.addRight(new p("dots.dot",o,1,7)),i.addRight(new p("dots.dot",o,1,5))),e.startEnding&&n){var m=this.getTextSize.calc(e.startEnding,"repeatfont","").width;i.minspacing+=m+10,this.partstartelem=new h(e.startEnding,s,null),t.addOther(this.partstartelem)}return i.extraw-=5,i},t.exports=O},"67c2":function(t,e){var n=function(t,e,n,r){this.type="CrescendoElem",this.anchor1=t,this.anchor2=e,this.dir=n,"above"===r?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0};t.exports=n},"69f3":function(t,e,n){var r,i,s,o=n("7f9a"),a=n("da84"),c=n("861d"),l=n("9112"),u=n("5135"),h=n("c6cd"),d=n("f772"),p=n("d012"),f=a.WeakMap,m=function(t){return s(t)?i(t):r(t,{})},g=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(o){var v=h.state||(h.state=new f),b=v.get,y=v.has,_=v.set;r=function(t,e){return e.facade=t,_.call(v,t,e),e},i=function(t){return b.call(v,t)||{}},s=function(t){return y.call(v,t)}}else{var w=d("state");p[w]=!0,r=function(t,e){return e.facade=t,l(t,w,e),e},i=function(t){return u(t,w)?t[w]:{}},s=function(t){return u(t,w)}}t.exports={set:r,get:i,has:s,enforce:m,getterFor:g}},"6d22":function(t,e){var n=function(t,e,n,r){if(t)for(var i=0;i<t.length;i++){var s=t[i],o=s.getAttribute("highlight");o||(o="fill"),s.setAttribute(o,r);var a=s.getAttribute("class");a||(a=""),a=a.replace(n,""),a=a.replace(e,""),e.length>0&&(a.length>0&&" "!==a.charAt(a.length-1)&&(a+=" "),a+=e),s.setAttribute("class",a)}};t.exports=n},"6e15":function(t,e){function n(t,e,n){this.rows=[],t&&this.rows.push({move:t}),this.rows.push({separator:e}),n&&this.rows.push({move:n})}t.exports=n},"6e8a":function(t,e){var n=function(t,e){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=e,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};n.prototype.addChild=function(t){if("bar"===t.type){for(var e=!0,n=0;e&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&"tempo"!==this.children[n].type&&(e=!1);e||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=t,this.setRange(t)},n.prototype.setLimit=function(t,e){var n=e.specialY;n||(n=e),n[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],n[t]):this.specialY[t]=n[t])},n.prototype.adjustRange=function(t){void 0!==t.bottom&&(this.bottom=Math.min(this.bottom,t.bottom)),void 0!==t.top&&(this.top=Math.max(this.top,t.top))},n.prototype.setRange=function(t){this.adjustRange(t),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)},n.prototype.addOther=function(t){this.otherchildren.push(t),this.setRange(t)},n.prototype.addBeam=function(t){this.beams.push(t)},n.prototype.setWidth=function(t){this.w=t},t.exports=n},"6eeb":function(t,e,n){var r=n("da84"),i=n("9112"),s=n("5135"),o=n("ce4e"),a=n("8925"),c=n("69f3"),l=c.get,u=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,a){var c,l=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||i(n,"name",e),c=u(n),c.source||(c.source=h.join("string"==typeof e?e:""))),t!==r?(l?!p&&t[e]&&(d=!0):delete t[e],d?t[e]=n:i(t,e,n)):d?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var s,o;return i&&"function"==typeof(s=e.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&i(t,o),t}},7204:function(t,e){var n=function(){var t=this;t.tracks=[],t.totalDuration=0,t.currentInstrument=[],t.starts=[],t.addTrack=function(){return t.tracks.push([]),t.currentInstrument.push(0),t.starts.push(0),t.tracks.length-1},t.setInstrument=function(e,n){t.tracks[e].push({channel:0,cmd:"program",instrument:n}),t.currentInstrument[e]=n},t.appendNote=function(e,n,r,i,s){var o={cmd:"note",duration:r,gap:0,instrument:t.currentInstrument[e],pitch:n,start:t.starts[e],volume:i};s&&(o.cents=s),t.tracks[e].push(o),t.starts[e]+=r,t.totalDuration=Math.max(t.totalDuration,t.starts[e])}};t.exports=n},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"743f":function(t,e,n){"use strict";var r=n("dd76"),i=n("216d"),s=n("7a23"),o={name:"Fieldset",emits:["update:collapsed","toggle"],props:{legend:String,toggleable:Boolean,collapsed:Boolean},data(){return{d_collapsed:this.collapsed}},watch:{collapsed(t){this.d_collapsed=t}},methods:{toggle(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})}},computed:{iconClass(){return["p-fieldset-toggler pi ",{"pi-minus":!this.d_collapsed,"pi-plus":this.d_collapsed}]},ariaId(){return Object(r["e"])()}},directives:{ripple:i["a"]}};const a={class:"p-fieldset-legend"},c={class:"p-fieldset-legend-text"},l={class:"p-fieldset-content"};function u(t,e,n,r,i,o){const u=Object(s["resolveDirective"])("ripple");return Object(s["openBlock"])(),Object(s["createBlock"])("fieldset",{class:["p-fieldset p-component",{"p-fieldset-toggleable":n.toggleable}]},[Object(s["createVNode"])("legend",a,[n.toggleable?Object(s["createCommentVNode"])("",!0):Object(s["renderSlot"])(t.$slots,"legend",{key:0},()=>[Object(s["createVNode"])("span",{class:"p-fieldset-legend-text",id:o.ariaId+"_header"},Object(s["toDisplayString"])(n.legend),9,["id"])]),n.toggleable?Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createBlock"])("a",{key:1,tabindex:"0",onClick:e[1]||(e[1]=(...t)=>o.toggle&&o.toggle(...t)),onKeydown:e[2]||(e[2]=Object(s["withKeys"])((...t)=>o.toggle&&o.toggle(...t),["enter"])),id:o.ariaId+"_header","aria-controls":o.ariaId+"_content","aria-expanded":!i.d_collapsed},[Object(s["createVNode"])("span",{class:o.iconClass},null,2),Object(s["renderSlot"])(t.$slots,"legend",{},()=>[Object(s["createVNode"])("span",c,Object(s["toDisplayString"])(n.legend),1)])],40,["id","aria-controls","aria-expanded"])),[[u]]):Object(s["createCommentVNode"])("",!0)]),Object(s["createVNode"])(s["Transition"],{name:"p-toggleable-content"},{default:Object(s["withCtx"])(()=>[Object(s["withDirectives"])(Object(s["createVNode"])("div",{class:"p-toggleable-content",role:"region",id:o.ariaId+"_content","aria-labelledby":o.ariaId+"_header"},[Object(s["createVNode"])("div",l,[Object(s["renderSlot"])(t.$slots,"default")])],8,["id","aria-labelledby"]),[[s["vShow"],!i.d_collapsed]])]),_:3})],2)}function h(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var d="\n.p-fieldset-legend > a,\n.p-fieldset-legend > span {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-fieldset-toggleable .p-fieldset-legend a {\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    overflow: hidden;\n    position: relative;\n    text-decoration: none;\n}\n.p-fieldset-legend-text {\n    line-height: 1;\n}\n";h(d),o.render=u,e["a"]=o},7441:function(t,e){var n='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">\n    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>\n</svg>\n';t.exports=n},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),s=n("e538"),o=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||o(e,t,{value:s.f(t)})}},7558:function(t,e,n){var r=n("609f"),i=n("245c"),s=n("2c7f"),o=n("a3bf");function a(){var t=this;function e(t){return new Promise((function(e){setTimeout(e,t)}))}t.warp=100,t.cursorControl=null,t.visualObj=null,t.timer=null,t.midiBuffer=null,t.options=null,t.currentTempo=null,t.control=null,t.isLooping=!1,t.isStarted=!1,t.isLoaded=!1,t.isLoading=!1,t.load=function(e,n,i){i||(i={}),t.control=new r(e,{loopHandler:i.displayLoop?t.toggleLoop:void 0,restartHandler:i.displayRestart?t.restart:void 0,playPromiseHandler:i.displayPlay?t.play:void 0,progressHandler:i.displayProgress?t.randomAccess:void 0,warpHandler:i.displayWarp?t.onWarp:void 0,afterResume:t.init}),t.cursorControl=n,t.disable(!0)},t.disable=function(e){t.control&&t.control.disable(e)},t.setTune=function(e,n,r){return t.visualObj=e,t.disable(!1),t.options=r,t.control&&(t.pause(),t.setProgress(0,1),t.control.resetAll(),t.restart(),t.isStarted=!1),t.isLooping=!1,n?t.go():Promise.resolve({status:"no-audio-context"})},t.go=function(){t.isLoading=!0;var e,n=100*t.visualObj.millisecondsPerMeasure()/t.warp;return t.currentTempo=Math.round(t.visualObj.getBeatsPerMeasure()/n*6e4),t.control&&t.control.setTempo(t.currentTempo),t.percent=0,t.midiBuffer||(t.midiBuffer=new i),o().resume().then((function(e){return t.midiBuffer.init({visualObj:t.visualObj,options:t.options,millisecondsPerMeasure:n})})).then((function(n){return e=n,t.midiBuffer.prime()})).then((function(){var n=16;return t.cursorControl&&void 0!==t.cursorControl.beatSubdivisions&&parseInt(t.cursorControl.beatSubdivisions,10)>=1&&parseInt(t.cursorControl.beatSubdivisions,10)<=64&&(n=parseInt(t.cursorControl.beatSubdivisions,10)),t.timer=new s(t.visualObj,{beatCallback:t.beatCallback,eventCallback:t.eventCallback,lineEndCallback:t.lineEndCallback,qpm:t.currentTempo,extraMeasuresAtBeginning:t.cursorControl?t.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:t.cursorControl?t.cursorControl.lineEndAnticipation:0,beatSubdivisions:n}),t.cursorControl&&t.cursorControl.onReady&&"function"===typeof t.cursorControl.onReady&&t.cursorControl.onReady(t),t.isLoaded=!0,t.isLoading=!1,Promise.resolve({status:"created",notesStatus:e})}))},t.destroy=function(){t.timer&&(t.timer.reset(),t.timer.stop(),t.timer=null),t.midiBuffer&&(t.midiBuffer.stop(),t.midiBuffer=null),t.setProgress(0,1),t.control&&t.control.resetAll()},t.play=function(){return t.runWhenReady(t._play,void 0)},t.runWhenReady=function(n,r){return t.visualObj?t.isLoading?e(500).then((function(){return t.isLoading?t.runWhenReady(n,r):n(r)})):t.isLoaded?n(r):t.go().then((function(){return n(r)})):Promise.resolve({status:"loading"})},t._play=function(){return o().resume().then((function(){return t.isStarted=!t.isStarted,t.isStarted?(t.cursorControl&&t.cursorControl.onStart&&"function"===typeof t.cursorControl.onStart&&t.cursorControl.onStart(),t.midiBuffer.start(),t.timer.start(t.percent),t.control&&t.control.pushPlay(!0)):t.pause(),Promise.resolve({status:"ok"})}))},t.pause=function(){t.timer&&(t.timer.pause(),t.midiBuffer.pause(),t.control&&t.control.pushPlay(!1))},t.toggleLoop=function(){t.isLooping=!t.isLooping,t.control&&t.control.pushLoop(t.isLooping)},t.restart=function(){t.timer&&(t.timer.setProgress(0),t.midiBuffer.seek(0))},t.randomAccess=function(e){return t.runWhenReady(t._randomAccess,e)},t._randomAccess=function(e){var n=e.target.classList.contains("abcjs-midi-progress-indicator")?e.target.parentNode:e.target,r=(e.x-n.offsetLeft)/n.offsetWidth;return r<0&&(r=0),r>1&&(r=1),t.seek(r),Promise.resolve({status:"ok"})},t.seek=function(e,n){t.timer&&t.midiBuffer&&(t.timer.setProgress(e,n),t.midiBuffer.seek(e,n))},t.setWarp=function(e){if(parseInt(e,10)>0){t.warp=parseInt(e,10);var n=t.isStarted,r=t.percent;return t.destroy(),t.isStarted=!1,t.go().then((function(){return t.setProgress(r,1e3*t.midiBuffer.duration),t.control&&t.control.setWarp(t.currentTempo,t.warp),n?t.play().then((function(){return t.seek(r),Promise.resolve()})):(t.seek(r),Promise.resolve())}))}return Promise.resolve()},t.onWarp=function(e){var n=e.target.value;return t.setWarp(n)},t.setProgress=function(e,n){t.percent=e,t.control&&t.control.setProgress(e,n)},t.finished=function(){if(t.timer.reset(),t.isLooping)return t.timer.start(0),t.midiBuffer.finished(),t.midiBuffer.start(),"continue";t.timer.stop(),t.isStarted&&(t.control&&t.control.pushPlay(!1),t.isStarted=!1,t.midiBuffer.finished(),t.cursorControl&&t.cursorControl.onFinished&&"function"===typeof t.cursorControl.onFinished&&t.cursorControl.onFinished(),t.setProgress(0,1))},t.beatCallback=function(e,n,r,i){var s=e/n;t.setProgress(s,r),t.cursorControl&&t.cursorControl.onBeat&&"function"===typeof t.cursorControl.onBeat&&t.cursorControl.onBeat(e,n,r,i)},t.eventCallback=function(e){if(!e)return t.finished();t.cursorControl&&t.cursorControl.onEvent&&"function"===typeof t.cursorControl.onEvent&&t.cursorControl.onEvent(e)},t.lineEndCallback=function(e,n){t.cursorControl&&t.cursorControl.onLineEnd&&"function"===typeof t.cursorControl.onLineEnd&&t.cursorControl.onLineEnd(e,n)},t.getUrl=function(){return t.midiBuffer.download()},t.download=function(e){var n=t.getUrl(),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none;"),r.href=n,r.download=e||"output.wav",r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}}t.exports=a},"776f":function(t,e,n){},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7841:function(t,e,n){var r=n("c352"),i=n("17d5");function s(t,e,n,s,o){var a=.35,c=t.foregroundColor,l=t.calcY(s);e=i(e),n=i(n);var u=i(l-a),h=i(l+a),d=r("M %f %f L %f %f L %f %f L %f %f z",e,u,n,u,n,h,e,h),p={path:d,stroke:"none",fill:c};o&&(p["class"]=o);var f=t.paper.pathToBack(p);return f}t.exports=s},"786a":function(t,e){var n=function(t,e){this.startVoice=t,this.type=e};n.prototype.setBottomStaff=function(t){this.endVoice=t,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)},n.prototype.continuing=function(t){this.lastContinuedVoice=t},n.prototype.getWidth=function(){return 10},n.prototype.isStartVoice=function(t){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===t)},t.exports=n},"78a7":function(t,e){function n(t,e){e||(e={});for(var n=!!e.lineBreaks,r=[],u=!1,h=[],d=[],p=[],f=[],m=[],g=[],v=[],b=0;b<t.length;b++){var y=t[b];if(y.staff){if(u&&!y.vskip)for(var _=r[r.length-1],w=0;w<_.staff.length;w++){var x=y.staff[w],k=_.staff[w];if(x&&(c(x.meter,h[w])||(i(x.meter,x.voices),h[w]=x.meter,delete x.meter),c(x.key,d[w])||(s(x.key,x.voices),d[w]=x.key,delete x.key),x.title&&(k.abbrevTitle=x.title),c(x.clef,p[w])||(o(x.clef,x.voices),p[w]=x.clef,delete x.clef),c(x.vocalfont,f[w])||(a(x.vocalfont,x.voices,"vocalfont"),f[w]=x.vocalfont,delete x.vocalfont),c(x.gchordfont,m[w])||(a(x.gchordfont,x.voices,"gchordfont"),m[w]=x.gchordfont,delete x.gchordfont),c(x.tripletfont,g[w])||(a(x.tripletfont,x.voices,"tripletfont"),g[w]=x.tripletfont,delete x.tripletfont),c(x.annotationfont,v[w])||(a(x.annotationfont,x.voices,"annotationfont"),v[w]=x.annotationfont,delete x.annotationfont)),x)for(var T=0;T<k.voices.length;T++){var S=k.voices[T],O=x.voices[T];n&&S.push({el_type:"break"}),O&&(k.voices[T]=S.concat(O))}}else{for(var C=0;C<y.staff.length;C++)d[C]=y.staff[C].key,h[C]=y.staff[C].meter,p[C]=y.staff[C].clef;r.push(l(y))}u=!0}else u=!1,r.push(y)}return r}function r(t,e){return"abselem"===t?"abselem":e}function i(t,e){t.el_type="meter",t.startChar=-1,t.endChar=-1;for(var n=0;n<e.length;n++)e[n].unshift(t)}function s(t,e){t.el_type="key",t.startChar=-1,t.endChar=-1;for(var n=0;n<e.length;n++)e[n].unshift(t)}function o(t,e){t.el_type="clef",t.startChar=-1,t.endChar=-1;for(var n=0;n<e.length;n++)e[n].unshift(t)}function a(t,e,n){t.el_type="font",t.type=n,t.startChar=-1,t.endChar=-1;for(var r=0;r<e.length;r++)e[r].unshift(t)}function c(t,e){if(!t)return!0;var n=JSON.stringify(t,r),i=JSON.stringify(e,r);return n===i}function l(t){for(var e={},n=Object.keys(t),r=0;r<n.length;r++)if("staff"!==n[r])e[n[r]]=t[n[r]];else{e.staff=[];for(var i=0;i<t.staff.length;i++){for(var s={},o=Object.keys(t.staff[i]),a=0;a<o.length;a++)if("voices"!==o[a])s[o[a]]=t.staff[i][o[a]];else{s.voices=[];for(var c=0;c<t.staff[i].voices.length;c++)s.voices.push([].concat(t.staff[i].voices[c]))}e.staff.push(s)}}return e}t.exports=n},7900:function(t,e,n){var r,i=n("e8ab");(function(){"use strict";var t,e=128;function n(t,e,n){for(var r=0,i=e+1;i<t.length;i++)if("note"===t[i].el_type&&r++,t[i].decoration&&t[i].decoration.indexOf(n)>=0)return r;return r}function s(t,e,n){for(var r=Math.min(t.length,e+3),i=e;i<r;i++)if("note"===t[i].el_type&&t[i].decoration)for(var s=0;s<t[i].decoration.length;s++)if(n.indexOf(t[i].decoration[s])>=0)return t[i].decoration[s];return null}function o(t,e){if(e&&0!==e.length)for(var n=Object.keys(e),r=0;r<t.length;r++)for(var i=t[r],s=e["0"]?e["0"].qpm:0,o=0;o<i.length;o++){var a=i[o];"tempo"===a.el_type&&(s=a.qpm),n.indexOf(""+a.timing)>=0&&s!==e[""+a.timing].qpm&&(s=e[""+a.timing].qpm,"tempo"===a.el_type?(a.qpm=e[""+a.timing].qpm,o++):(t[r].splice(o,0,{el_type:"tempo",qpm:e[""+a.timing].qpm,timing:a.timing}),o+=2))}}function a(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.length-1;while(r>=0&&"bar"!==n[r].el_type)n[r].noChordVoice=!0,r--}}function c(t,e){if(t&&!(t.length<=e)&&t[e].title)return t[e].title.join(" ")}function l(t,e){var n=1/4;t.duration&&(n=t.duration[0]);var r=60;return t.bpm&&(r=t.bpm),n*r/e}function u(e){var n;switch(e.type){case"common_time":n={el_type:"meter",num:4,den:4};break;case"cut_time":n={el_type:"meter",num:2,den:2};break;case"specified":n={el_type:"meter",num:e.value[0].num,den:e.value[0].den};break;default:n={el_type:"meter"}}return t=n.num/n.den,n}function h(t){for(var e=[],n=0;n<t.length;n++)"natural"!==t[n].acc&&e.push(t[n]);return e}function d(t,e){var n;n="HP"===e.root?{el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:{el_type:"key",accidentals:h(e.accidentals)},f(t,n)}function p(t,e){var n=u(e);f(t,n)}function f(t,e){for(var n=t.length-1;n>=0;n--)if(t[n].el_type===e.el_type)return void(JSON.stringify(t[n])!==JSON.stringify(e)&&t.push(e));t.push(e)}r=function(r,h){var m;h=h||{};var g=h.program||0,v=h.midiTranspose||0;r.visualTranspose&&(v-=r.visualTranspose);var b=h.channel||0,y=!1,_=h.drum||"",w=h.drumBars||1,x=h.drumIntro||0,k=""!==_,T=[],S=50;g=parseInt(g,10),v=parseInt(v,10),b=parseInt(b,10),10===b&&(g=e),_=_.split(" "),w=parseInt(w,10),x=parseInt(x,10);var O=r.formatting.bagpipes;O&&(g=71);var C=[];if(r.formatting.midi){var E=r.formatting.midi;E.program&&E.program.length>0&&(g=E.program[0],E.program.length>1&&(g=E.program[1],b=E.program[0]),y=!0),E.transpose&&(v=E.transpose[0]),E.channel&&(b=E.channel[0],y=!0),E.drum&&(_=E.drum),E.drumbars&&(w=E.drumbars[0]),E.drumon&&(k=!0),10===b&&(g=e),E.beat&&C.push({el_type:"beat",beats:E.beat}),E.nobeataccents&&C.push({el_type:"beataccents",value:!1})}m=h.qpm?parseInt(h.qpm,10):r.metaText.tempo?l(r.metaText.tempo,r.getBeatLength()):h.defaultQpm?h.defaultQpm:180;var A=[];O&&A.push({el_type:"bagpipes"}),A.push({el_type:"instrument",program:g}),b&&A.push({el_type:"channel",channel:b}),v&&A.push({el_type:"transpose",transpose:v}),A.push({el_type:"tempo",qpm:m});for(var M=0;M<C.length;M++)A.push(C[M]);var N,j=[],I=[],P=[],L=[0],D={};D["0"]={el_type:"tempo",qpm:m,timing:0};for(var F=[],B=[],R=!1,V=r.lines,H=0;H<V.length;H++){var q=V[H];if(q.staff){for(var z=q.staff,W=0,G=0;G<z.length;G++)for(var U=z[G],Y=0;Y<U.voices.length;Y++){var $=U.voices[Y];if(!j[W]){j[W]=[].concat(JSON.parse(JSON.stringify(A)));var X=c(q.staff,W);X&&j[W].unshift({el_type:"name",trackName:X})}if(v&&"perc"===U.clef.type&&j[W].push({el_type:"transpose",transpose:0}),U.clef&&"perc"===U.clef.type&&!y)for(var K=0;K<j[W].length;K++)"instrument"===j[W][K].el_type&&(j[W][K].program=e);else U.key&&d(j[W],U.key);U.meter&&p(j[W],U.meter),!R&&k&&(j[W].push({el_type:"drum",params:{pattern:_,bars:w,on:k,intro:x}}),R=!0),U.clef&&"perc"!==U.clef.type&&U.clef.transpose&&(U.clef.el_type="clef",j[W].push({el_type:"transpose",transpose:U.clef.transpose})),U.clef&&U.clef.type&&(U.clef.type.indexOf("-8")>=0?j[W].push({el_type:"transpose",transpose:-12}):U.clef.type.indexOf("+8")>=0&&j[W].push({el_type:"transpose",transpose:12})),r.formatting.midi&&r.formatting.midi.drumoff&&(j[W].push({el_type:"bar"}),j[W].push({el_type:"drum",params:{pattern:"",on:!1}}));var Z=0,Q=0,J=0,tt=0;N=[105,95,85,1];for(var et=0;et<$.length;et++){var nt=$[et];switch(nt.el_type){case"note":if(I[Y]&&(N[0]+=I[Y],N[1]+=I[Y],N[2]+=I[Y],j[W].push({el_type:"beat",beats:N.slice(0)})),P[Y]&&(N[0]+=P[Y],N[1]+=P[Y],N[2]+=P[Y],j[W].push({el_type:"beat",beats:N.slice(0)})),dt(nt),!nt.rest||"spacer"!==nt.rest.type){var rt={elem:nt,el_type:"note",timing:L[W]};nt.style?rt.style=nt.style:T[W]&&(rt.style=T[W]),rt.duration=0===nt.duration?.25:nt.duration,nt.startTriplet?(Q=nt.tripletMultiplier,J=nt.startTriplet*Q*nt.duration,rt.duration=rt.duration*Q,rt.duration=Math.round(1e6*rt.duration)/1e6,tt=rt.duration):Q&&(nt.endTriplet?(Q=0,rt.duration=Math.round(1e6*(J-tt))/1e6):(rt.duration=rt.duration*Q,rt.duration=Math.round(1e6*rt.duration)/1e6,tt+=rt.duration)),nt.rest&&(rt.rest=nt.rest),nt.decoration&&(rt.decoration=nt.decoration.slice(0)),nt.pitches&&(rt.pitches=i.cloneArray(nt.pitches)),nt.gracenotes&&(rt.gracenotes=i.cloneArray(nt.gracenotes)),nt.chord&&(rt.chord=i.cloneArray(nt.chord)),j[W].push(rt),"rhythm"===nt.style&&(!0,a(j)),Z++,L[W]+=rt.duration}break;case"key":d(j[W],nt);break;case"meter":p(j[W],nt);break;case"clef":nt.transpose&&j[W].push({el_type:"transpose",transpose:nt.transpose}),nt.type&&(nt.type.indexOf("-8")>=0?j[W].push({el_type:"transpose",transpose:-12}):nt.type.indexOf("+8")>=0&&j[W].push({el_type:"transpose",transpose:12}));break;case"tempo":m=l(nt,r.getBeatLength()),j[W].push({el_type:"tempo",qpm:m,timing:L[W]}),D[""+L[W]]={el_type:"tempo",qpm:m,timing:L[W]};break;case"bar":Z>0&&j[W].push({el_type:"bar"}),dt(nt),Z=0;var it="bar_right_repeat"===nt.type||"bar_dbl_repeat"===nt.type,st="1"===nt.startEnding,ot="bar_left_repeat"===nt.type||"bar_dbl_repeat"===nt.type||"bar_right_repeat"===nt.type;if(it){var at=F[W];at||(at=0);var ct=B[W];ct||(ct=j[W].length);for(var lt=at;lt<ct;lt++){var ut=i.clone(j[W][lt]);ut.pitches&&(ut.pitches=i.cloneArray(ut.pitches)),j[W].push(ut)}B[W]=void 0,F[W]=void 0}st&&(B[W]=j[W].length),ot&&(F[W]=j[W].length),!1;break;case"style":T[W]=nt.head;break;case"timeSignature":j[W].push(u(nt));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var ht=!1;switch(nt.cmd){case"drumon":k=!0,ht=!0;break;case"drumoff":k=!1,ht=!0;break;case"drum":_=nt.params,ht=!0;break;case"drumbars":w=nt.params[0],ht=!0;break;case"drummap":break;case"channel":10===nt.params[0]&&j[W].push({el_type:"instrument",program:e});break;case"program":f(j[W],{el_type:"instrument",program:nt.params[0]}),y=!0;break;case"transpose":j[W].push({el_type:"transpose",transpose:nt.params[0]});break;case"gchordoff":j[W].push({el_type:"gchord",tacet:!0});break;case"gchordon":j[W].push({el_type:"gchord",tacet:!1});break;case"beat":j[W].push({el_type:"beat",beats:nt.params});break;case"nobeataccents":j[W].push({el_type:"beataccents",value:!1});break;case"beataccents":j[W].push({el_type:"beataccents",value:!0});break;case"vol":j[W].push({el_type:"vol",volume:nt.params[0]});break;case"volinc":j[W].push({el_type:"volinc",volume:nt.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",nt.cmd,nt)}ht&&(j[0].push({el_type:"drum",params:{pattern:_,bars:w,intro:x,on:k}}),R=!0);break;default:console.log("MIDI: element type "+nt.el_type+" not handled.")}}W++,L[W]||(L[W]=0)}function dt(t){var e,r={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]};if(t.decoration)if(t.decoration.indexOf("pppp")>=0?e="pppp":t.decoration.indexOf("ppp")>=0?e="ppp":t.decoration.indexOf("pp")>=0?e="pp":t.decoration.indexOf("p")>=0?e="p":t.decoration.indexOf("mp")>=0?e="mp":t.decoration.indexOf("mf")>=0?e="mf":t.decoration.indexOf("f")>=0?e="f":t.decoration.indexOf("ff")>=0?e="ff":t.decoration.indexOf("fff")>=0?e="fff":t.decoration.indexOf("ffff")>=0&&(e="ffff"),e&&(N=r[e].slice(0),j[W].push({el_type:"beat",beats:N.slice(0)}),I[Y]=!1,P[Y]=!1),t.decoration.indexOf("crescendo(")>=0){var i=n($,et,"crescendo)"),o=Math.min(127,N[0]+S),a=s($,et+i+1,Object.keys(r));a&&(o=r[a][0]),I[Y]=i>0&&Math.floor((o-N[0])/i),P[Y]=!1}else if(t.decoration.indexOf("crescendo)")>=0)I[Y]=!1;else if(t.decoration.indexOf("diminuendo(")>=0){var c=n($,et,"diminuendo)"),l=Math.max(15,N[0]-S),u=s($,et+c+1,Object.keys(r));u&&(l=r[u][0]),I[Y]=!1,P[Y]=c>0&&Math.floor((l-N[0])/c)}else t.decoration.indexOf("diminuendo)")>=0&&(P[Y]=!1)}}}if(o(j,D),x)for(var pt=r.getPickupLength(),ft=0;ft<j.length;ft++){var mt=0;while("note"!==j[ft][mt].el_type&&j[ft].length>mt)mt++;if(j[ft].length>mt)for(var gt=0;gt<x;gt++)0===pt||gt<x-1?j[ft].splice(mt,0,{el_type:"note",rest:{type:"rest"},duration:t},{el_type:"bar"}):j[ft].splice(mt,0,{el_type:"note",rest:{type:"rest"},duration:t-pt})}return j.length>0&&j[0].length>0&&(j[0][0].pickupLength=r.getPickupLength()),j}})(),t.exports=r},7985:function(t,e,n){var r,i,s,o,a,c,l=n("e8ab"),u=n("06b3"),h=n("ca0c"),d=function(t,e,n,l,u,h){r=t,i=e,s=n,o=l,a=u,c=h,this.lineContinuation=!1},p="ABCDEFGabcdefgxyzZ[]|^_{",f=function(t,e,n){if(void 0===t.inTie[e])return!1;var r=t.currentVoice?t.currentVoice.index:0;return!(!t.inTie[e][r]||void 0===n.pitches&&"spacer"===n.rest.type)},m={};d.prototype.parseMusic=function(t){c.resolveTempo(),s.is_in_header=!1;var e=0,n=s.iChar;while(r.isWhiteSpace(t.charAt(e))&&e<t.length)e++;if(e!==t.length&&"%"!==t.charAt(e)){var u=s.start_new_line;void 0===s.continueall?s.start_new_line=!0:s.start_new_line=!1;var h=0,d=c.letter_to_body_header(t,e);d[0]>0&&(e+=d[0],"V"===d[1]&&this.startNewLine());var w=0;while(e<t.length){var x=e;if("%"===t.charAt(e))break;var k=c.letter_to_inline_header(t,e,u);if(k[0]>0)e+=k[0],"V"===k[1]&&(u=!0);else{var T;(!a.hasBeginMusic()||u&&!this.lineContinuation)&&(this.startNewLine(),u=!1);while(1)if(T=r.eatWhiteSpace(t,e),T>0&&(e+=T),e>0&&""===t.charAt(e-1)&&(T=c.letter_to_body_header(t,e),T[0]>0&&("V"===T[1]&&this.startNewLine(),e=T[0],s.start_new_line=!1)),T=C(t,e),T[0]>0&&(e+=T[0]),T=v(t,e),T[0]>0){m.chord||(m.chord=[]);var S=r.translateString(T[1]);S=S.replace(/;/g,"\n");for(var A=!1,j=0;j<m.chord.length;j++)m.chord[j].position===T[2]&&(A=!0,m.chord[j].name+="\n"+S);!1===A&&(null===T[2]&&T[3]?m.chord.push({name:S,rel_position:T[3]}):m.chord.push({name:S,position:T[2]})),e+=T[0];var I=r.skipWhiteSpace(t.substring(e));I>0&&(m.force_end_beam_last=!0),e+=I}else if(T=-1===p.indexOf(t.charAt(e))?O(t,e):[0],T[0]>0)null===T[1]?e+1<t.length&&this.startNewLine():T[1].length>0&&(0===T[1].indexOf("style=")?m.style=T[1].substr(6):(void 0===m.decoration&&(m.decoration=[]),"beambr1"===T[1]?m.beambr=1:"beambr2"===T[1]?m.beambr=2:m.decoration.push(T[1]))),e+=T[0];else{if(T=b(t,e),!(T[0]>0))break;m.gracenotes=T[1],e+=T[0]}if(T=E(t,e),T[0]>0){w=0,void 0!==m.gracenotes&&(m.rest={type:"spacer"},m.duration=.125,s.addFormattingOptions(m,o.formatting,"note"),a.appendElement("note",n+e,n+e+T[0],m),s.measureNotEmpty=!0,m={});var D={type:T[1]};if(0===D.type.length)i("Unknown bar type",t,e);else{if(s.inEnding&&"bar_thin"!==D.type&&(D.endEnding=!0,s.inEnding=!1),T[2]&&(D.startEnding=T[2],s.inEnding&&(D.endEnding=!0),s.inEnding=!0,"bar_right_repeat"===T[1]?s.restoreStartEndingHoldOvers():s.duplicateStartEndingHoldOvers()),void 0!==m.decoration&&(D.decoration=m.decoration),void 0!==m.chord&&(D.chord=m.chord),D.startEnding&&void 0===s.barFirstEndingNum?s.barFirstEndingNum=s.currBarNumber:D.startEnding&&D.endEnding&&s.barFirstEndingNum?s.currBarNumber=s.barFirstEndingNum:D.endEnding&&(s.barFirstEndingNum=void 0),"bar_invisible"!==D.type&&s.measureNotEmpty){var F=void 0===s.currentVoice||0===s.currentVoice.staffNum&&0===s.currentVoice.index;F&&(s.currBarNumber++,s.barNumbers&&s.currBarNumber%s.barNumbers===0&&(D.barNumber=s.currBarNumber))}s.addFormattingOptions(m,o.formatting,"bar"),a.appendElement("bar",n+e,n+e+T[0],D),s.measureNotEmpty=!1,m={}}e+=T[0]}else if("&"===t[e])T=y(t,e),T[0]>0&&(a.appendElement("overlay",n,n+1,{}),e+=1,w++);else{if(T=M(t,e),T.consumed>0&&(void 0!==T.startSlur&&(m.startSlur=T.startSlur),T.dottedSlur&&(m.dottedSlur=!0),void 0!==T.triplet&&(h>0?i("Can't nest triplets",t,e):(m.startTriplet=T.triplet,m.tripletMultiplier=T.tripletQ/T.triplet,h=void 0===T.num_notes?T.triplet:T.num_notes)),e+=T.consumed),"["===t.charAt(e)){e++;var B=null,R=!1,V=!1;while(!V){var H=O(t,e);H[0]>0&&(e+=H[0]);var q=P(t,e,{},!1);if(null!==q&&void 0!==q.pitch)H[0]>0&&0!==H[1].indexOf("style=")&&(void 0===m.decoration&&(m.decoration=[]),m.decoration.push(H[1])),q.end_beam&&(m.end_beam=!0,delete q.end_beam),void 0===m.pitches?(m.duration=q.duration,m.pitches=[q]):m.pitches.push(q),delete q.duration,H[0]>0&&0===H[1].indexOf("style=")&&(m.pitches[m.pitches.length-1].style=H[1].substr(6)),s.inTieChord[m.pitches.length]&&(q.endTie=!0,s.inTieChord[m.pitches.length]=void 0),q.startTie&&(s.inTieChord[m.pitches.length]=!0),e=q.endChar,delete q.endChar;else if(" "===t.charAt(e))i("Spaces are not allowed in chords",t,e),e++;else{if(e<t.length&&"]"===t.charAt(e)){e++,0!==s.next_note_duration&&(m.duration=m.duration*s.next_note_duration,s.next_note_duration=0),f(s,w,m)&&(l.each(m.pitches,(function(t){t.endTie=!0})),g(s,w,!1)),h>0&&(!m.rest||"spacer"!==m.rest.type)&&(h--,0===h&&(m.endTriplet=!0));var z=!1;while(e<t.length&&!z){switch(t.charAt(e)){case" ":case"\t":N(m);break;case")":void 0===m.endSlur?m.endSlur=1:m.endSlur++;break;case"-":l.each(m.pitches,(function(t){t.startTie={}})),g(s,w,!0);break;case">":case"<":var W=L(t,e);e+=W[0]-1,s.next_note_duration=W[2],B?B*=W[1]:B=W[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var G=r.getFraction(t,e);B=G.value,e=G.index," "===t.charAt(e)&&(R=!0),"-"===t.charAt(e)||")"===t.charAt(e)||" "===t.charAt(e)||"<"===t.charAt(e)||">"===t.charAt(e)?e--:z=!0;break;default:z=!0;break}z||e++}}else i("Expected ']' to end the chords",t,e);void 0!==m.pitches&&(null!==B&&(m.duration=m.duration*B,R&&N(m)),s.addFormattingOptions(m,o.formatting,"note"),a.appendElement("note",n+x,n+e,m),s.measureNotEmpty=!0,m={}),V=!0}}}else{var U={},Y=P(t,e,U,!0);if(void 0!==U.endTie&&g(s,w,!0),null!==Y){void 0!==Y.pitch?(m.pitches=[{}],void 0!==Y.accidental&&(m.pitches[0].accidental=Y.accidental),m.pitches[0].pitch=Y.pitch,(Y.midipitch||0===Y.midipitch)&&(m.pitches[0].midipitch=Y.midipitch),void 0!==Y.endSlur&&(m.pitches[0].endSlur=Y.endSlur),void 0!==Y.endTie&&(m.pitches[0].endTie=Y.endTie),void 0!==Y.startSlur&&(m.pitches[0].startSlur=Y.startSlur),void 0!==m.startSlur&&(m.pitches[0].startSlur=m.startSlur),void 0!==m.dottedSlur&&(m.pitches[0].dottedSlur=!0),void 0!==Y.startTie&&(m.pitches[0].startTie=Y.startTie),void 0!==m.startTie&&(m.pitches[0].startTie=m.startTie)):(m.rest=Y.rest,void 0!==Y.endSlur&&(m.endSlur=Y.endSlur),void 0!==Y.endTie&&(m.rest.endTie=Y.endTie),void 0!==Y.startSlur&&(m.startSlur=Y.startSlur),void 0!==Y.startTie&&(m.rest.startTie=Y.startTie),void 0!==m.startTie&&(m.rest.startTie=m.startTie)),void 0!==Y.chord&&(m.chord=Y.chord),void 0!==Y.duration&&(m.duration=Y.duration),void 0!==Y.decoration&&(m.decoration=Y.decoration),void 0!==Y.graceNotes&&(m.graceNotes=Y.graceNotes),delete m.startSlur,delete m.dottedSlur,f(s,w,m)&&(void 0!==m.pitches?m.pitches[0].endTie=!0:"spacer"!==m.rest.type&&(m.rest.endTie=!0),g(s,w,!1)),(Y.startTie||m.startTie)&&g(s,w,!0),e=Y.endChar,h>0&&(!Y.rest||"spacer"!==Y.rest.type)&&(h--,0===h&&(m.endTriplet=!0)),Y.end_beam&&N(m),m.rest&&"rest"===m.rest.type&&1===m.duration&&_(s)<=1&&(m.rest.type="whole",m.duration=_(s));var $=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];m.duration<1&&-1===$.indexOf(m.duration)&&0!==m.duration&&(m.rest&&"spacer"===m.rest.type||i("Duration not representable: "+t.substring(x,e),t,e)),s.addFormattingOptions(m,o.formatting,"note"),a.appendElement("note",n+x,n+e,m),s.measureNotEmpty=!0,m={}}}e===x&&(" "!==t.charAt(e)&&"`"!==t.charAt(e)&&i("Unknown character ignored",t,e),e++)}}}this.lineContinuation=t.indexOf("")>=0||d[0]>0,this.lineContinuation||(m={})}};var g=function(t,e,n){var r=t.currentVoice?t.currentVoice.index:0;void 0===t.inTie[e]&&(t.inTie[e]=[]),t.inTie[e][r]=n},v=function(t,e){if('"'===t.charAt(e)){var n=r.getBrackettedSubstring(t,e,5);if(n[2]||i("Missing the closing quote while parsing the chord symbol",t,e),n[0]>0&&n[1].length>0&&"^"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&"_"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&"<"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&">"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&"@"===n[1].charAt(0)){n[1]=n[1].substring(1);var o=r.getFloat(n[1]);0===o.digits&&i("Missing first position in absolutely positioned annotation.",t,e),n[1]=n[1].substring(o.digits),","!==n[1][0]&&i("Missing comma absolutely positioned annotation.",t,e),n[1]=n[1].substring(1);var a=r.getFloat(n[1]);0===a.digits&&i("Missing second position in absolutely positioned annotation.",t,e),n[1]=n[1].substring(a.digits);var c=r.skipWhiteSpace(n[1]);n[1]=n[1].substring(c),n[2]=null,n[3]={x:o.value,y:a.value}}else!0!==s.freegchord&&(n[1]=n[1].replace(/([ABCDEFG0-9])b/g,"$1â­"),n[1]=n[1].replace(/([ABCDEFG0-9])#/g,"$1â¯"),n[1]=n[1].replace(/^([ABCDEFG])([â¯â­]?)o([^A-Za-z])/g,"$1$2Â°$3"),n[1]=n[1].replace(/^([ABCDEFG])([â¯â­]?)o$/g,"$1$2Â°"),n[1]=n[1].replace(/^([ABCDEFG])([â¯â­]?)0([^A-Za-z])/g,"$1$2Ã¸$3"),n[1]=n[1].replace(/^([ABCDEFG])([â¯â­]?)\^([^A-Za-z])/g,"$1$2â$3")),n[2]="default",n[1]=h.chordName(s,n[1]);return n}return[0,""]},b=function(t,e){if("{"===t.charAt(e)){var n=r.getBrackettedSubstring(t,e,1,"}");n[2]||i("Missing the closing '}' while parsing grace note",t,e),")"===t[e+n[0]]&&(n[0]++,n[1]+=")");var o=[],a=0,c=!1;while(a<n[1].length){var l=!1;"/"===n[1].charAt(a)&&(l=!0,a++);var u=P(n[1],a,{},!1);null!==u?(u.duration=u.duration/(8*s.default_length),l&&(u.acciaccatura=!0),o.push(u),c&&(u.endTie=!0,c=!1),u.startTie&&(c=!0),a=u.endChar,delete u.endChar):(" "===n[1].charAt(a)?o.length>0&&(o[o.length-1].end_beam=!0):i("Unknown character '"+n[1].charAt(a)+"' while parsing grace note",t,e),a++)}if(o.length)return[n[0],o]}return[0]};function y(t,e){if("&"===t.charAt(e)){var n=e;while(t.charAt(e)&&":"!==t.charAt(e)&&"|"!==t.charAt(e))e++;return[e-n,t.substring(n+1,e)]}return[0]}function _(t){var e=t.origMeter;return e&&"specified"===e.type&&e.value&&0!==e.value.length?parseInt(e.value[0].num,10)/parseInt(e.value[0].den,10):1}var w=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle"],x=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],k=["crescendo(","crescendo)","diminuendo(","diminuendo)"],T=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],S=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],O=function(t,e){var n=s.macros[t.charAt(e)];if(void 0!==n)return"!"!==n.charAt(0)&&"+"!==n.charAt(0)||(n=n.substring(1)),"!"!==n.charAt(n.length-1)&&"+"!==n.charAt(n.length-1)||(n=n.substring(0,n.length-1)),l.detect(w,(function(t){return n===t}))?[1,n]:l.detect(x,(function(t){return n===t}))?("hidden"===s.volumePosition&&(n=""),[1,n]):l.detect(k,(function(t){return"hidden"===s.dynamicPosition&&(n=""),n===t}))?[1,n]:(l.detect(s.ignoredDecorations,(function(t){return n===t}))||i("Unknown macro: "+n,t,e),[1,""]);switch(t.charAt(e)){case".":if("("===t[e+1]||"-"===t[e+1])break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var o=r.getBrackettedSubstring(t,e,5);return o[1].length>1&&("^"===o[1].charAt(0)||"_"===o[1].charAt(0))&&(o[1]=o[1].substring(1)),l.detect(w,(function(t){return o[1]===t}))?o:l.detect(x,(function(t){return o[1]===t}))?("hidden"===s.volumePosition&&(o[1]=""),o):l.detect(k,(function(t){return o[1]===t}))?("hidden"===s.dynamicPosition&&(o[1]=""),o):l.detect(T,(function(t){return o[1]===t[0]&&(o[1]=t[1],!0)}))?o:l.detect(S,(function(t){return o[1]===t[0]&&(o[1]=t[1],!0)}))?("hidden"===s.dynamicPosition&&(o[1]=""),o):"!"!==t.charAt(e)||1!==o[0]&&"!"===t.charAt(e+o[0]-1)?(i("Unknown decoration: "+o[1],t,e),o[1]="",o):[1,null];case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},C=function(t,e){var n=e;while(r.isWhiteSpace(t.charAt(e)))e++;return[e-n]},E=function(t,e){var n=r.getBarLine(t,e);if(0===n.len)return[0,""];if(n.warn)return i(n.warn,t,e),[n.len,""];for(var s=0;s<t.length;s++)if(" "!==t.charAt(e+n.len+s))break;var o=n.len;if("["===t.charAt(e+n.len+s)&&(n.len+=s+1),'"'===t.charAt(e+n.len)&&"["===t.charAt(e+n.len-1)){var a=r.getBrackettedSubstring(t,e+n.len,5);return[n.len+a[0],n.token,a[1]]}var c=r.getTokenOf(t.substring(e+n.len),"1234567890-,");return 0===c.len||"-"===c.token[0]?[o,n.token]:[n.len+c.len,n.token,c.token]},A={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2},M=function(t,e){var n={},s=e;"."===t[e]&&"("===t[e+1]&&(n.dottedSlur=!0,e++);while("("===t.charAt(e)||r.isWhiteSpace(t.charAt(e)))"("===t.charAt(e)&&(e+1<t.length&&t.charAt(e+1)>="2"&&t.charAt(e+1)<="9"?(void 0!==n.triplet?i("Can't nest triplets",t,e):(n.triplet=t.charAt(e+1)-"0",n.tripletQ=A[n.triplet],n.num_notes=n.triplet,e+2<t.length&&":"===t.charAt(e+2)&&(e+3<t.length&&":"===t.charAt(e+3)?e+4<t.length&&t.charAt(e+4)>="1"&&t.charAt(e+4)<="9"?(n.num_notes=t.charAt(e+4)-"0",e+=3):i("expected number after the two colons after the triplet to mark the duration",t,e):e+3<t.length&&t.charAt(e+3)>="1"&&t.charAt(e+3)<="9"?(n.tripletQ=t.charAt(e+3)-"0",e+4<t.length&&":"===t.charAt(e+4)?e+5<t.length&&t.charAt(e+5)>="1"&&t.charAt(e+5)<="9"&&(n.num_notes=t.charAt(e+5)-"0",e+=4):e+=2):i("expected number after the triplet to mark the duration",t,e))),e++):void 0===n.startSlur?n.startSlur=1:n.startSlur++),e++;return n.consumed=e-s,n};d.prototype.startNewLine=function(){var t={startChar:-1,endChar:-1};s.partForNextLine.title&&(t.part=s.partForNextLine),t.clef=s.currentVoice&&void 0!==s.staves[s.currentVoice.staffNum].clef?l.clone(s.staves[s.currentVoice.staffNum].clef):l.clone(s.clef);var e=s.currentVoice?s.currentVoice.scoreTranspose:0;if(t.key=u.standardKey(s.key.root+s.key.acc+s.key.mode,s.key.root,s.key.acc,e),t.key.mode=s.key.mode,s.key.impliedNaturals&&(t.key.impliedNaturals=s.key.impliedNaturals),s.key.explicitAccidentals)for(var n=0;n<s.key.explicitAccidentals.length;n++){for(var r=!1,i=0;i<t.key.accidentals.length;i++)t.key.accidentals[i].note===s.key.explicitAccidentals[n].note&&(t.key.accidentals[i].acc=s.key.explicitAccidentals[n].acc,r=!0);r||t.key.accidentals.push(s.key.explicitAccidentals[n])}if(s.targetKey=t.key,t.key.explicitAccidentals&&delete t.key.explicitAccidentals,u.addPosToKey(t.clef,t.key),null!==s.meter?(s.currentVoice?(l.each(s.staves,(function(t){t.meter=s.meter})),t.meter=s.staves[s.currentVoice.staffNum].meter,s.staves[s.currentVoice.staffNum].meter=null):t.meter=s.meter,s.meter=null):s.currentVoice&&s.staves[s.currentVoice.staffNum].meter&&(t.meter=s.staves[s.currentVoice.staffNum].meter,s.staves[s.currentVoice.staffNum].meter=null),s.currentVoice&&s.currentVoice.name&&(t.name=s.currentVoice.name),s.vocalfont&&(t.vocalfont=s.vocalfont),s.tripletfont&&(t.tripletfont=s.tripletfont),s.gchordfont&&(t.gchordfont=s.gchordfont),s.style&&(t.style=s.style),s.currentVoice){var o=s.staves[s.currentVoice.staffNum];o.brace&&(t.brace=o.brace),o.bracket&&(t.bracket=o.bracket),o.connectBarLines&&(t.connectBarLines=o.connectBarLines),o.name&&(t.name=o.name[s.currentVoice.index]),o.subname&&(t.subname=o.subname[s.currentVoice.index]),s.currentVoice.stem&&(t.stem=s.currentVoice.stem),s.currentVoice.stafflines&&(t.stafflines=s.currentVoice.stafflines),s.currentVoice.staffscale&&(t.staffscale=s.currentVoice.staffscale),s.currentVoice.scale&&(t.scale=s.currentVoice.scale),s.currentVoice.style&&(t.style=s.currentVoice.style),s.currentVoice.transpose&&(t.clef.transpose=s.currentVoice.transpose)}var c=void 0===s.currentVoice||0===s.currentVoice.staffNum&&0===s.currentVoice.index;0===s.barNumbers&&c&&1!==s.currBarNumber&&(t.barNumber=s.currBarNumber),a.startNewLine(t),s.key.impliedNaturals&&delete s.key.impliedNaturals,s.partForNextLine={},4===s.tempoForNextLine.length&&a.appendElement(s.tempoForNextLine[0],s.tempoForNextLine[1],s.tempoForNextLine[2],s.tempoForNextLine[3]),s.tempoForNextLine=[]};var N=function(t){return void 0!==t.duration&&t.duration<.25&&(t.end_beam=!0),t},j={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},I={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},P=function(t,e,n,i){var c,l=function(t){return"octave"===t||"duration"===t||"Zduration"===t||"broken_rhythm"===t||"end_slur"===t};"."===t[e]&&"-"===t[e+1]&&(c=!0,e++);var u="startSlur",d=!1;while(1){switch(t.charAt(e)){case"(":if("startSlur"!==u)return l(u)?(n.endChar=e,n):null;void 0===n.startSlur?n.startSlur=1:n.startSlur++;break;case")":if(!l(u))return null;void 0===n.endSlur?n.endSlur=1:n.endSlur++;break;case"^":if("startSlur"===u)n.accidental="sharp",u="sharp2";else{if("sharp2"!==u)return l(u)?(n.endChar=e,n):null;n.accidental="dblsharp",u="pitch"}break;case"_":if("startSlur"===u)n.accidental="flat",u="flat2";else{if("flat2"!==u)return l(u)?(n.endChar=e,n):null;n.accidental="dblflat",u="pitch"}break;case"=":if("startSlur"!==u)return l(u)?(n.endChar=e,n):null;n.accidental="natural",u="pitch";break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if("startSlur"!==u&&"sharp2"!==u&&"flat2"!==u&&"pitch"!==u)return l(u)?(n.endChar=e,n):null;if(n.pitch=j[t.charAt(e)],h.note(s,n),u="octave",i&&0!==s.next_note_duration?(n.duration=s.default_length*s.next_note_duration,s.next_note_duration=0,d=!0):n.duration=s.default_length,s.clef&&"perc"===s.clef.type||s.currentVoice&&"perc"===s.currentVoice.clef){var p=t.charAt(e);if(n.accidental){var f={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^"};p=f[n.accidental]+p}o.formatting&&o.formatting.midi&&o.formatting.midi.drummap&&(n.midipitch=o.formatting.midi.drummap[p])}break;case",":if("octave"!==u)return l(u)?(n.endChar=e,n):null;n.pitch-=7;break;case"'":if("octave"!==u)return l(u)?(n.endChar=e,n):null;n.pitch+=7;break;case"x":case"X":case"y":case"z":case"Z":if("startSlur"!==u)return l(u)?(n.endChar=e,n):null;n.rest={type:I[t.charAt(e)]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,n.rest.type.indexOf("multimeasure")>=0?(n.duration=o.getBarLength(),n.rest.text=1,u="Zduration"):(i&&0!==s.next_note_duration?(n.duration=s.default_length*s.next_note_duration,s.next_note_duration=0,d=!0):n.duration=s.default_length,u="duration");break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if("octave"===u||"duration"===u){var m=r.getFraction(t,e);n.duration=n.duration*m.value,n.endChar=m.index;while(m.index<t.length&&(r.isWhiteSpace(t.charAt(m.index))||"-"===t.charAt(m.index)))"-"===t.charAt(m.index)?n.startTie={}:n=N(n),m.index++;e=m.index-1,u="broken_rhythm"}else if("sharp2"===u)n.accidental="quartersharp",u="pitch";else{if("flat2"!==u){if("Zduration"===u){var g=r.getNumber(t,e);return n.duration=g.num*o.getBarLength(),n.rest.text=g.num,n.endChar=g.index,n}return null}n.accidental="quarterflat",u="pitch"}break;case"-":if("startSlur"===u)a.addTieToLastNote(c),n.endTie=!0;else{if("octave"!==u&&"duration"!==u&&"end_slur"!==u)return"broken_rhythm"===u?(n.endChar=e,n):null;if(n.startTie={},d||!i)return r.isWhiteSpace(t.charAt(e+1))&&N(n),n.endChar=e+1,n;u="broken_rhythm"}break;case" ":case"\t":if(!l(u))return null;n.end_beam=!0,c=!1;do{"."===t.charAt(e)&&"-"===t.charAt(e+1)&&(c=!0,e++),"-"===t.charAt(e)&&(n.startTie={},c&&(n.startTie.style="dotted")),e++}while(e<t.length&&(r.isWhiteSpace(t.charAt(e))||"-"===t.charAt(e))||"."===t.charAt(e)&&"-"===t.charAt(e+1));if(n.endChar=e,d||!i||"<"!==t.charAt(e)&&">"!==t.charAt(e))return n;e--,u="broken_rhythm";break;case">":case"<":if(!l(u))return null;if(!i)return n.endChar=e,n;var v=L(t,e);e+=v[0]-1,s.next_note_duration=v[2],n.duration=v[1]*n.duration,u="end_slur";break;default:return l(u)?(n.endChar=e,n):null}if(e++,e===t.length)return l(u)?(n.endChar=e,n):null}return null},L=function(t,e){switch(t.charAt(e)){case">":return e<t.length-2&&">"===t.charAt(e+1)&&">"===t.charAt(e+2)?[3,1.875,.125]:e<t.length-1&&">"===t.charAt(e+1)?[2,1.75,.25]:[1,1.5,.5];case"<":return e<t.length-2&&"<"===t.charAt(e+1)&&"<"===t.charAt(e+2)?[3,.125,1.875]:e<t.length-1&&"<"===t.charAt(e+1)?[2,.25,1.75]:[1,.5,1.5]}return null};t.exports=d},7991:function(t,e){var n="6.0.0-beta.33";t.exports=n},"7a23":function(t,e,n){"use strict";n.r(e),n.d(e,"customRef",(function(){return Ft})),n.d(e,"isProxy",(function(){return kt})),n.d(e,"isReactive",(function(){return wt})),n.d(e,"isReadonly",(function(){return xt})),n.d(e,"isRef",(function(){return Ct})),n.d(e,"markRaw",(function(){return St})),n.d(e,"proxyRefs",(function(){return Lt})),n.d(e,"reactive",(function(){return gt})),n.d(e,"readonly",(function(){return bt})),n.d(e,"ref",(function(){return Et})),n.d(e,"shallowReactive",(function(){return vt})),n.d(e,"shallowReadonly",(function(){return yt})),n.d(e,"shallowRef",(function(){return At})),n.d(e,"toRaw",(function(){return Tt})),n.d(e,"toRef",(function(){return Vt})),n.d(e,"toRefs",(function(){return Bt})),n.d(e,"triggerRef",(function(){return jt})),n.d(e,"unref",(function(){return It})),n.d(e,"camelize",(function(){return r["e"]})),n.d(e,"capitalize",(function(){return r["f"]})),n.d(e,"toDisplayString",(function(){return r["I"]})),n.d(e,"toHandlerKey",(function(){return r["J"]})),n.d(e,"BaseTransition",(function(){return Ln})),n.d(e,"Comment",(function(){return Ur})),n.d(e,"Fragment",(function(){return Wr})),n.d(e,"KeepAlive",(function(){return Wn})),n.d(e,"Static",(function(){return Yr})),n.d(e,"Suspense",(function(){return Ke})),n.d(e,"Teleport",(function(){return Lr})),n.d(e,"Text",(function(){return Gr})),n.d(e,"callWithAsyncErrorHandling",(function(){return Zt})),n.d(e,"callWithErrorHandling",(function(){return Kt})),n.d(e,"cloneVNode",(function(){return ui})),n.d(e,"computed",(function(){return ns})),n.d(e,"createBlock",(function(){return ei})),n.d(e,"createCommentVNode",(function(){return pi})),n.d(e,"createHydrationRenderer",(function(){return kr})),n.d(e,"createRenderer",(function(){return xr})),n.d(e,"createSlots",(function(){return ds})),n.d(e,"createStaticVNode",(function(){return di})),n.d(e,"createTextVNode",(function(){return hi})),n.d(e,"createVNode",(function(){return ci})),n.d(e,"defineAsyncComponent",(function(){return vr})),n.d(e,"defineComponent",(function(){return mr})),n.d(e,"defineEmit",(function(){return is})),n.d(e,"defineProps",(function(){return rs})),n.d(e,"devtools",(function(){return Se})),n.d(e,"getCurrentInstance",(function(){return Bi})),n.d(e,"getTransitionRawChildren",(function(){return Hn})),n.d(e,"h",(function(){return os})),n.d(e,"handleError",(function(){return Qt})),n.d(e,"initCustomFormatter",(function(){return ls})),n.d(e,"inject",(function(){return yi})),n.d(e,"isRuntimeOnly",(function(){return Ui})),n.d(e,"isVNode",(function(){return ni})),n.d(e,"mergeProps",(function(){return vi})),n.d(e,"nextTick",(function(){return pe})),n.d(e,"onActivated",(function(){return Un})),n.d(e,"onBeforeMount",(function(){return vn})),n.d(e,"onBeforeUnmount",(function(){return wn})),n.d(e,"onBeforeUpdate",(function(){return yn})),n.d(e,"onDeactivated",(function(){return Yn})),n.d(e,"onErrorCaptured",(function(){return Sn})),n.d(e,"onMounted",(function(){return bn})),n.d(e,"onRenderTracked",(function(){return Tn})),n.d(e,"onRenderTriggered",(function(){return kn})),n.d(e,"onUnmounted",(function(){return xn})),n.d(e,"onUpdated",(function(){return _n})),n.d(e,"openBlock",(function(){return Kr})),n.d(e,"popScopeId",(function(){return Be})),n.d(e,"provide",(function(){return bi})),n.d(e,"pushScopeId",(function(){return Fe})),n.d(e,"queuePostFlushCb",(function(){return _e})),n.d(e,"registerRuntimeCompiler",(function(){return Yi})),n.d(e,"renderList",(function(){return us})),n.d(e,"renderSlot",(function(){return je})),n.d(e,"resolveComponent",(function(){return Br})),n.d(e,"resolveDirective",(function(){return Hr})),n.d(e,"resolveDynamicComponent",(function(){return Vr})),n.d(e,"resolveTransitionHooks",(function(){return Fn})),n.d(e,"setBlockTracking",(function(){return ti})),n.d(e,"setDevtoolsHook",(function(){return Oe})),n.d(e,"setTransitionHooks",(function(){return Vn})),n.d(e,"ssrContextKey",(function(){return as})),n.d(e,"ssrUtils",(function(){return fs})),n.d(e,"toHandlers",(function(){return hs})),n.d(e,"transformVNodeArgs",(function(){return ii})),n.d(e,"useContext",(function(){return ss})),n.d(e,"useSSRContext",(function(){return cs})),n.d(e,"useTransitionState",(function(){return jn})),n.d(e,"version",(function(){return ps})),n.d(e,"warn",(function(){return Wt})),n.d(e,"watch",(function(){return En})),n.d(e,"watchEffect",(function(){return On})),n.d(e,"withCtx",(function(){return Ve})),n.d(e,"withDirectives",(function(){return sr})),n.d(e,"withScopeId",(function(){return Re})),n.d(e,"Transition",(function(){return Qs})),n.d(e,"TransitionGroup",(function(){return vo})),n.d(e,"createApp",(function(){return Ko})),n.d(e,"createSSRApp",(function(){return Zo})),n.d(e,"hydrate",(function(){return Xo})),n.d(e,"render",(function(){return $o})),n.d(e,"useCssModule",(function(){return Ys})),n.d(e,"useCssVars",(function(){return $s})),n.d(e,"vModelCheckbox",(function(){return Co})),n.d(e,"vModelDynamic",(function(){return Po})),n.d(e,"vModelRadio",(function(){return Ao})),n.d(e,"vModelSelect",(function(){return Mo})),n.d(e,"vModelText",(function(){return Oo})),n.d(e,"vShow",(function(){return Ho})),n.d(e,"withKeys",(function(){return Vo})),n.d(e,"withModifiers",(function(){return Bo})),n.d(e,"compile",(function(){return Jo}));var r=n("9ff4");const i=new WeakMap,s=[];let o;const a=Symbol(""),c=Symbol("");function l(t){return t&&!0===t._isEffect}function u(t,e=r["b"]){l(t)&&(t=t.raw);const n=p(t,e);return e.lazy||n(),n}function h(t){t.active&&(f(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let d=0;function p(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!s.includes(n)){f(n);try{return b(),s.push(n),o=n,t()}finally{s.pop(),y(),o=s[s.length-1]}}};return n.id=d++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function f(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let m=!0;const g=[];function v(){g.push(m),m=!1}function b(){g.push(m),m=!0}function y(){const t=g.pop();m=void 0===t||t}function _(t,e,n){if(!m||void 0===o)return;let r=i.get(t);r||i.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(o)||(s.add(o),o.deps.push(s))}function w(t,e,n,s,l,u){const h=i.get(t);if(!h)return;const d=new Set,p=t=>{t&&t.forEach(t=>{(t!==o||t.allowRecurse)&&d.add(t)})};if("clear"===e)h.forEach(p);else if("length"===n&&Object(r["m"])(t))h.forEach((t,e)=>{("length"===e||e>=s)&&p(t)});else switch(void 0!==n&&p(h.get(n)),e){case"add":Object(r["m"])(t)?Object(r["q"])(n)&&p(h.get("length")):(p(h.get(a)),Object(r["r"])(t)&&p(h.get(c)));break;case"delete":Object(r["m"])(t)||(p(h.get(a)),Object(r["r"])(t)&&p(h.get(c)));break;case"set":Object(r["r"])(t)&&p(h.get(a));break}const f=t=>{t.options.scheduler?t.options.scheduler(t):t()};d.forEach(f)}const x=Object(r["E"])("__proto__,__v_isRef,__isVue"),k=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(r["B"])),T=A(),S=A(!1,!0),O=A(!0),C=A(!0,!0),E={};function A(t=!1,e=!1){return function(n,i,s){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_raw"===i&&s===(t?e?pt:dt:e?ht:ut).get(n))return n;const o=Object(r["m"])(n);if(!t&&o&&Object(r["j"])(E,i))return Reflect.get(E,i,s);const a=Reflect.get(n,i,s);if(Object(r["B"])(i)?k.has(i):x(i))return a;if(t||_(n,"get",i),e)return a;if(Ct(a)){const t=!o||!Object(r["q"])(i);return t?a.value:a}return Object(r["t"])(a)?t?bt(a):gt(a):a}}["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];E[t]=function(...t){const n=Tt(this);for(let e=0,i=this.length;e<i;e++)_(n,"get",e+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Tt)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];E[t]=function(...t){v();const n=e.apply(this,t);return y(),n}});const M=j(),N=j(!0);function j(t=!1){return function(e,n,i,s){let o=e[n];if(!t&&(i=Tt(i),o=Tt(o),!Object(r["m"])(e)&&Ct(o)&&!Ct(i)))return o.value=i,!0;const a=Object(r["m"])(e)&&Object(r["q"])(n)?Number(n)<e.length:Object(r["j"])(e,n),c=Reflect.set(e,n,i,s);return e===Tt(s)&&(a?Object(r["i"])(i,o)&&w(e,"set",n,i,o):w(e,"add",n,i)),c}}function I(t,e){const n=Object(r["j"])(t,e),i=t[e],s=Reflect.deleteProperty(t,e);return s&&n&&w(t,"delete",e,void 0,i),s}function P(t,e){const n=Reflect.has(t,e);return Object(r["B"])(e)&&k.has(e)||_(t,"has",e),n}function L(t){return _(t,"iterate",Object(r["m"])(t)?"length":a),Reflect.ownKeys(t)}const D={get:T,set:M,deleteProperty:I,has:P,ownKeys:L},F={get:O,set(t,e){return!0},deleteProperty(t,e){return!0}},B=Object(r["h"])({},D,{get:S,set:N}),R=Object(r["h"])({},F,{get:C}),V=t=>Object(r["t"])(t)?gt(t):t,H=t=>Object(r["t"])(t)?bt(t):t,q=t=>t,z=t=>Reflect.getPrototypeOf(t);function W(t,e,n=!1,r=!1){t=t["__v_raw"];const i=Tt(t),s=Tt(e);e!==s&&!n&&_(i,"get",e),!n&&_(i,"get",s);const{has:o}=z(i),a=r?q:n?H:V;return o.call(i,e)?a(t.get(e)):o.call(i,s)?a(t.get(s)):void 0}function G(t,e=!1){const n=this["__v_raw"],r=Tt(n),i=Tt(t);return t!==i&&!e&&_(r,"has",t),!e&&_(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function U(t,e=!1){return t=t["__v_raw"],!e&&_(Tt(t),"iterate",a),Reflect.get(t,"size",t)}function Y(t){t=Tt(t);const e=Tt(this),n=z(e),r=n.has.call(e,t);return r||(e.add(t),w(e,"add",t,t)),this}function $(t,e){e=Tt(e);const n=Tt(this),{has:i,get:s}=z(n);let o=i.call(n,t);o||(t=Tt(t),o=i.call(n,t));const a=s.call(n,t);return n.set(t,e),o?Object(r["i"])(e,a)&&w(n,"set",t,e,a):w(n,"add",t,e),this}function X(t){const e=Tt(this),{has:n,get:r}=z(e);let i=n.call(e,t);i||(t=Tt(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,o=e.delete(t);return i&&w(e,"delete",t,void 0,s),o}function K(){const t=Tt(this),e=0!==t.size,n=void 0,r=t.clear();return e&&w(t,"clear",void 0,void 0,n),r}function Z(t,e){return function(n,r){const i=this,s=i["__v_raw"],o=Tt(s),c=e?q:t?H:V;return!t&&_(o,"iterate",a),s.forEach((t,e)=>n.call(r,c(t),c(e),i))}}function Q(t,e,n){return function(...i){const s=this["__v_raw"],o=Tt(s),l=Object(r["r"])(o),u="entries"===t||t===Symbol.iterator&&l,h="keys"===t&&l,d=s[t](...i),p=n?q:e?H:V;return!e&&_(o,"iterate",h?c:a),{next(){const{value:t,done:e}=d.next();return e?{value:t,done:e}:{value:u?[p(t[0]),p(t[1])]:p(t),done:e}},[Symbol.iterator](){return this}}}}function J(t){return function(...e){return"delete"!==t&&this}}const tt={get(t){return W(this,t)},get size(){return U(this)},has:G,add:Y,set:$,delete:X,clear:K,forEach:Z(!1,!1)},et={get(t){return W(this,t,!1,!0)},get size(){return U(this)},has:G,add:Y,set:$,delete:X,clear:K,forEach:Z(!1,!0)},nt={get(t){return W(this,t,!0)},get size(){return U(this,!0)},has(t){return G.call(this,t,!0)},add:J("add"),set:J("set"),delete:J("delete"),clear:J("clear"),forEach:Z(!0,!1)},rt={get(t){return W(this,t,!0,!0)},get size(){return U(this,!0)},has(t){return G.call(this,t,!0)},add:J("add"),set:J("set"),delete:J("delete"),clear:J("clear"),forEach:Z(!0,!0)},it=["keys","values","entries",Symbol.iterator];function st(t,e){const n=e?t?rt:et:t?nt:tt;return(e,i,s)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(Object(r["j"])(n,i)&&i in e?n:e,i,s)}it.forEach(t=>{tt[t]=Q(t,!1,!1),nt[t]=Q(t,!0,!1),et[t]=Q(t,!1,!0),rt[t]=Q(t,!0,!0)});const ot={get:st(!1,!1)},at={get:st(!1,!0)},ct={get:st(!0,!1)},lt={get:st(!0,!0)};const ut=new WeakMap,ht=new WeakMap,dt=new WeakMap,pt=new WeakMap;function ft(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:ft(Object(r["L"])(t))}function gt(t){return t&&t["__v_isReadonly"]?t:_t(t,!1,D,ot,ut)}function vt(t){return _t(t,!1,B,at,ht)}function bt(t){return _t(t,!0,F,ct,dt)}function yt(t){return _t(t,!0,R,lt,pt)}function _t(t,e,n,i,s){if(!Object(r["t"])(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=s.get(t);if(o)return o;const a=mt(t);if(0===a)return t;const c=new Proxy(t,2===a?i:n);return s.set(t,c),c}function wt(t){return xt(t)?wt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function xt(t){return!(!t||!t["__v_isReadonly"])}function kt(t){return wt(t)||xt(t)}function Tt(t){return t&&Tt(t["__v_raw"])||t}function St(t){return Object(r["g"])(t,"__v_skip",!0),t}const Ot=t=>Object(r["t"])(t)?gt(t):t;function Ct(t){return Boolean(t&&!0===t.__v_isRef)}function Et(t){return Nt(t)}function At(t){return Nt(t,!0)}class Mt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Ot(t)}get value(){return _(Tt(this),"get","value"),this._value}set value(t){Object(r["i"])(Tt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Ot(t),w(Tt(this),"set","value",t))}}function Nt(t,e=!1){return Ct(t)?t:new Mt(t,e)}function jt(t){w(Tt(t),"set","value",void 0)}function It(t){return Ct(t)?t.value:t}const Pt={get:(t,e,n)=>It(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ct(i)&&!Ct(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Lt(t){return wt(t)?t:new Proxy(t,Pt)}class Dt{constructor(t){this.__v_isRef=!0;const{get:e,set:n}=t(()=>_(this,"get","value"),()=>w(this,"set","value"));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Ft(t){return new Dt(t)}function Bt(t){const e=Object(r["m"])(t)?new Array(t.length):{};for(const n in t)e[n]=Vt(t,n);return e}class Rt{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function Vt(t,e){return Ct(t[e])?t[e]:new Rt(t,e)}class Ht{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=u(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,w(Tt(this),"set","value"))}}),this["__v_isReadonly"]=n}get value(){const t=Tt(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),_(t,"get","value"),t._value}set value(t){this._setter(t)}}function qt(t){let e,n;return Object(r["n"])(t)?(e=t,n=r["d"]):(e=t.get,n=t.set),new Ht(e,n,Object(r["n"])(t)||!t.set)}const zt=[];function Wt(t,...e){v();const n=zt.length?zt[zt.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=Gt();if(r)Kt(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:t})=>`at <${ts(n,t.type)}>`).join("\n"),i]);else{const n=["[Vue warn]: "+t,...e];i.length&&n.push("\n",...Ut(i)),console.warn(...n)}y()}function Gt(){let t=zt[zt.length-1];if(!t)return[];const e=[];while(t){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function Ut(t){const e=[];return t.forEach((t,n)=>{e.push(...0===n?[]:["\n"],...Yt(t))}),e}function Yt({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=!!t.component&&null==t.component.parent,i=" at <"+ts(t.component,t.type,r),s=">"+n;return t.props?[i,...$t(t.props),s]:[i+s]}function $t(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(n=>{e.push(...Xt(n,t[n]))}),n.length>3&&e.push(" ..."),e}function Xt(t,e,n){return Object(r["A"])(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):"number"===typeof e||"boolean"===typeof e||null==e?n?e:[`${t}=${e}`]:Ct(e)?(e=Xt(t,Tt(e.value),!0),n?e:[t+"=Ref<",e,">"]):Object(r["n"])(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Tt(e),n?e:[t+"=",e])}function Kt(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Qt(s,e,n)}return i}function Zt(t,e,n,i){if(Object(r["n"])(t)){const s=Kt(t,e,n,i);return s&&Object(r["v"])(s)&&s.catch(t=>{Qt(t,e,n)}),s}const s=[];for(let r=0;r<t.length;r++)s.push(Zt(t[r],e,n,i));return s}function Qt(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const i=e.proxy,s=n;while(r){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,s))return;r=r.parent}const o=e.appContext.config.errorHandler;if(o)return void Kt(o,null,10,[t,i,s])}Jt(t,n,i,r)}function Jt(t,e,n,r=!0){console.error(t)}let te=!1,ee=!1;const ne=[];let re=0;const ie=[];let se=null,oe=0;const ae=[];let ce=null,le=0;const ue=Promise.resolve();let he=null,de=null;function pe(t){const e=he||ue;return t?e.then(this?t.bind(this):t):e}function fe(t){let e=re+1,n=ne.length;const r=ke(t);while(e<n){const t=e+n>>>1,i=ke(ne[t]);i<r?e=t+1:n=t}return e}function me(t){if((!ne.length||!ne.includes(t,te&&t.allowRecurse?re+1:re))&&t!==de){const e=fe(t);e>-1?ne.splice(e,0,t):ne.push(t),ge()}}function ge(){te||ee||(ee=!0,he=ue.then(Te))}function ve(t){const e=ne.indexOf(t);e>re&&ne.splice(e,1)}function be(t,e,n,i){Object(r["m"])(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),ge()}function ye(t){be(t,se,ie,oe)}function _e(t){be(t,ce,ae,le)}function we(t,e=null){if(ie.length){for(de=e,se=[...new Set(ie)],ie.length=0,oe=0;oe<se.length;oe++)se[oe]();se=null,oe=0,de=null,we(t,e)}}function xe(t){if(ae.length){const t=[...new Set(ae)];if(ae.length=0,ce)return void ce.push(...t);for(ce=t,ce.sort((t,e)=>ke(t)-ke(e)),le=0;le<ce.length;le++)ce[le]();ce=null,le=0}}const ke=t=>null==t.id?1/0:t.id;function Te(t){ee=!1,te=!0,we(t),ne.sort((t,e)=>ke(t)-ke(e));try{for(re=0;re<ne.length;re++){const t=ne[re];t&&Kt(t,null,14)}}finally{re=0,ne.length=0,xe(t),te=!1,he=null,(ne.length||ae.length)&&Te(t)}}new Set;new Map;let Se;function Oe(t){Se=t}function Ce(t,e,...n){const i=t.vnode.props||r["b"];let s=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in i){const t=("modelValue"===a?"model":a)+"Modifiers",{number:e,trim:o}=i[t]||r["b"];o?s=n.map(t=>t.trim()):e&&(s=n.map(r["K"]))}let c;let l=i[c=Object(r["J"])(e)]||i[c=Object(r["J"])(Object(r["e"])(e))];!l&&o&&(l=i[c=Object(r["J"])(Object(r["k"])(e))]),l&&Zt(l,t,6,s);const u=i[c+"Once"];if(u){if(t.emitted){if(t.emitted[c])return}else(t.emitted={})[c]=!0;Zt(u,t,6,s)}}function Ee(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const i=t.emits;let s={},o=!1;if(!Object(r["n"])(t)){const i=t=>{const n=Ee(t,e,!0);n&&(o=!0,Object(r["h"])(s,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return i||o?(Object(r["m"])(i)?i.forEach(t=>s[t]=null):Object(r["h"])(s,i),t.__emits=s):t.__emits=null}function Ae(t,e){return!(!t||!Object(r["u"])(e))&&(e=e.slice(2).replace(/Once$/,""),Object(r["j"])(t,e[0].toLowerCase()+e.slice(1))||Object(r["j"])(t,Object(r["k"])(e))||Object(r["j"])(t,e))}let Me=0;const Ne=t=>Me+=t;function je(t,e,n={},r,i){let s=t[e];Me++,Kr();const o=s&&Ie(s(n)),a=ei(Wr,{key:n.key||"_"+e},o||(r?r():[]),o&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),Me--,a}function Ie(t){return t.some(t=>!ni(t)||t.type!==Ur&&!(t.type===Wr&&!Ie(t.children)))?t:null}let Pe=null,Le=null;function De(t){const e=Pe;return Pe=t,Le=t&&t.type.__scopeId||null,e}function Fe(t){Le=t}function Be(){Le=null}const Re=t=>Ve;function Ve(t,e=Pe){if(!e)return t;const n=(...n)=>{Me||Kr(!0);const r=De(e),i=t(...n);return De(r),Me||Zr(),i};return n._c=!0,n}function He(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[a],slots:c,attrs:l,emit:u,render:h,renderCache:d,data:p,setupState:f,ctx:m}=t;let g;const v=De(t);try{let t;if(4&n.shapeFlag){const e=s||i;g=fi(h.call(e,e,d,o,f,p,m)),t=l}else{const n=e;0,g=fi(n.length>1?n(o,{attrs:l,slots:c,emit:u}):n(o,null)),t=e.props?l:ze(l)}let v=g;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=v;e.length&&(1&n||6&n)&&(a&&e.some(r["s"])&&(t=We(t,a)),v=ui(v,t))}n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),g=v}catch(b){$r.length=0,Qt(b,t,1),g=ci(Ur)}return De(v),g}function qe(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!ni(r))return;if(r.type!==Ur||"v-if"===r.children){if(e)return;e=r}}return e}const ze=t=>{let e;for(const n in t)("class"===n||"style"===n||Object(r["u"])(n))&&((e||(e={}))[n]=t[n]);return e},We=(t,e)=>{const n={};for(const i in t)Object(r["s"])(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function Ge(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||Ue(r,o,l):!!o);if(1024&c)return!0;if(16&c)return r?Ue(r,o,l):!!o;if(8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==r[n]&&!Ae(l,n))return!0}}return!1}function Ue(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Ae(n,s))return!0}return!1}function Ye({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const $e=t=>t.__isSuspense,Xe={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,c,l){null==t?Ze(e,n,r,i,s,o,a,c,l):Qe(t,e,n,r,i,o,a,c,l)},hydrate:tn,create:Je},Ke=Xe;function Ze(t,e,n,r,i,s,o,a,c){const{p:l,o:{createElement:u}}=c,h=u("div"),d=t.suspense=Je(t,i,r,e,h,n,s,o,a,c);l(null,d.pendingBranch=t.ssContent,h,null,r,d,s,o),d.deps>0?(l(null,t.ssFallback,e,n,r,null,s,o),sn(d,t.ssFallback)):d.resolve()}function Qe(t,e,n,i,s,o,a,c,{p:l,um:u,o:{createElement:h}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,f=e.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:v,isHydrating:b}=d;if(g)d.pendingBranch=p,ri(p,g)?(l(g,p,d.hiddenContainer,null,s,d,o,a,c),d.deps<=0?d.resolve():v&&(l(m,f,n,i,s,null,o,a,c),sn(d,f))):(d.pendingId++,b?(d.isHydrating=!1,d.activeBranch=g):u(g,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),v?(l(null,p,d.hiddenContainer,null,s,d,o,a,c),d.deps<=0?d.resolve():(l(m,f,n,i,s,null,o,a,c),sn(d,f))):m&&ri(p,m)?(l(m,p,n,i,s,d,o,a,c),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,o,a,c),d.deps<=0&&d.resolve()));else if(m&&ri(p,m))l(m,p,n,i,s,d,o,a,c),sn(d,p);else{const t=e.props&&e.props.onPending;if(Object(r["n"])(t)&&t(),d.pendingBranch=p,d.pendingId++,l(null,p,d.hiddenContainer,null,s,d,o,a,c),d.deps<=0)d.resolve();else{const{timeout:t,pendingId:e}=d;t>0?setTimeout(()=>{d.pendingId===e&&d.fallback(f)},t):0===t&&d.fallback(f)}}}function Je(t,e,n,i,s,o,a,c,l,u,h=!1){const{p:d,m:p,um:f,n:m,o:{parentNode:g,remove:v}}=u,b=Object(r["K"])(t.props&&t.props.timeout),y={vnode:t,parent:e,parentComponent:n,isSVG:a,container:i,hiddenContainer:s,anchor:o,deps:0,pendingId:0,timeout:"number"===typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:n,pendingBranch:i,pendingId:s,effects:o,parentComponent:a,container:c}=y;if(y.isHydrating)y.isHydrating=!1;else if(!t){const t=n&&i.transition&&"out-in"===i.transition.mode;t&&(n.transition.afterLeave=()=>{s===y.pendingId&&p(i,c,e,0)});let{anchor:e}=y;n&&(e=m(n),f(n,a,y,!0)),t||p(i,c,e,0)}sn(y,i),y.pendingBranch=null,y.isInFallback=!1;let l=y.parent,u=!1;while(l){if(l.pendingBranch){l.effects.push(...o),u=!0;break}l=l.parent}u||_e(o),y.effects=[];const h=e.props&&e.props.onResolve;Object(r["n"])(h)&&h()},fallback(t){if(!y.pendingBranch)return;const{vnode:e,activeBranch:n,parentComponent:i,container:s,isSVG:o}=y,a=e.props&&e.props.onFallback;Object(r["n"])(a)&&a();const u=m(n),h=()=>{y.isInFallback&&(d(null,t,s,u,i,null,o,c,l),sn(y,t))},p=t.transition&&"out-in"===t.transition.mode;p&&(n.transition.afterLeave=h),f(n,i,null,!0),y.isInFallback=!0,p||h()},move(t,e,n){y.activeBranch&&p(y.activeBranch,t,e,n),y.container=t},next(){return y.activeBranch&&m(y.activeBranch)},registerDep(t,e){const n=!!y.pendingBranch;n&&y.deps++;const r=t.vnode.el;t.asyncDep.catch(e=>{Qt(e,t,0)}).then(i=>{if(t.isUnmounted||y.isUnmounted||y.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:s}=t;Gi(t,i,!1),r&&(s.el=r);const o=!r&&t.subTree.el;e(t,s,g(r||t.subTree.el),r?null:m(t.subTree),y,a,l),o&&v(o),Ye(t,s.el),n&&0===--y.deps&&y.resolve()})},unmount(t,e){y.isUnmounted=!0,y.activeBranch&&f(y.activeBranch,n,t,e),y.pendingBranch&&f(y.pendingBranch,n,t,e)}};return y}function tn(t,e,n,r,i,s,o,a,c){const l=e.suspense=Je(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),u=c(t,l.pendingBranch=e.ssContent,n,l,s,o);return 0===l.deps&&l.resolve(),u}function en(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=nn(n.default),i=nn(n.fallback)):(r=nn(n),i=fi(null)),{content:r,fallback:i}}function nn(t){if(Object(r["n"])(t)&&(t=t()),Object(r["m"])(t)){const e=qe(t);0,t=e}return fi(t)}function rn(t,e){e&&e.pendingBranch?Object(r["m"])(t)?e.effects.push(...t):e.effects.push(t):_e(t)}function sn(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,Ye(r,i))}function on(t,e,n,i=!1){const s={},o={};Object(r["g"])(o,si,1),t.propsDefaults=Object.create(null),cn(t,e,s,o),n?t.props=i?s:vt(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function an(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:a}}=t,c=Tt(s),[l]=t.propsOptions;if(!(i||a>0)||16&a){let i;cn(t,e,s,o);for(const o in c)e&&(Object(r["j"])(e,o)||(i=Object(r["k"])(o))!==o&&Object(r["j"])(e,i))||(l?!n||void 0===n[o]&&void 0===n[i]||(s[o]=ln(l,e||r["b"],o,void 0,t)):delete s[o]);if(o!==c)for(const t in o)e&&Object(r["j"])(e,t)||delete o[t]}else if(8&a){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){const a=n[i],u=e[a];if(l)if(Object(r["j"])(o,a))o[a]=u;else{const e=Object(r["e"])(a);s[e]=ln(l,c,e,u,t)}else o[a]=u}}w(t,"set","$attrs")}function cn(t,e,n,i){const[s,o]=t.propsOptions;if(e)for(const a in e){const o=e[a];if(Object(r["w"])(a))continue;let c;s&&Object(r["j"])(s,c=Object(r["e"])(a))?n[c]=o:Ae(t.emitsOptions,a)||(i[a]=o)}if(o){const e=Tt(n);for(let r=0;r<o.length;r++){const i=o[r];n[i]=ln(s,e,i,e[i],t)}}}function ln(t,e,n,i,s){const o=t[n];if(null!=o){const t=Object(r["j"])(o,"default");if(t&&void 0===i){const t=o.default;if(o.type!==Function&&Object(r["n"])(t)){const{propsDefaults:r}=s;n in r?i=r[n]:(Ri(s),i=r[n]=t(e),Ri(null))}else i=t}o[0]&&(Object(r["j"])(e,n)||t?!o[1]||""!==i&&i!==Object(r["k"])(n)||(i=!0):i=!1)}return i}function un(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const i=t.props,s={},o=[];let a=!1;if(!Object(r["n"])(t)){const i=t=>{a=!0;const[n,i]=un(t,e,!0);Object(r["h"])(s,n),i&&o.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!i&&!a)return t.__props=r["a"];if(Object(r["m"])(i))for(let c=0;c<i.length;c++){0;const t=Object(r["e"])(i[c]);hn(t)&&(s[t]=r["b"])}else if(i){0;for(const t in i){const e=Object(r["e"])(t);if(hn(e)){const n=i[t],a=s[e]=Object(r["m"])(n)||Object(r["n"])(n)?{type:n}:n;if(a){const t=fn(Boolean,a.type),n=fn(String,a.type);a[0]=t>-1,a[1]=n<0||t<n,(t>-1||Object(r["j"])(a,"default"))&&o.push(e)}}}}return t.__props=[s,o]}function hn(t){return"$"!==t[0]}function dn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function pn(t,e){return dn(t)===dn(e)}function fn(t,e){return Object(r["m"])(e)?e.findIndex(e=>pn(e,t)):Object(r["n"])(e)&&pn(e,t)?0:-1}function mn(t,e,n=Fi,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;v(),Ri(n);const i=Zt(e,n,t,r);return Ri(null),y(),i});return r?i.unshift(s):i.push(s),s}}const gn=t=>(e,n=Fi)=>!qi&&mn(t,e,n),vn=gn("bm"),bn=gn("m"),yn=gn("bu"),_n=gn("u"),wn=gn("bum"),xn=gn("um"),kn=gn("rtg"),Tn=gn("rtc"),Sn=(t,e=Fi)=>{mn("ec",t,e)};function On(t,e){return An(t,null,e)}const Cn={};function En(t,e,n){return An(t,e,n)}function An(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:a}=r["b"],c=Fi){let l,d,p=!1;if(Ct(t)?(l=()=>t.value,p=!!t._shallow):wt(t)?(l=()=>t,i=!0):l=Object(r["m"])(t)?()=>t.map(t=>Ct(t)?t.value:wt(t)?Nn(t):Object(r["n"])(t)?Kt(t,c,2,[c&&c.proxy]):void 0):Object(r["n"])(t)?e?()=>Kt(t,c,2,[c&&c.proxy]):()=>{if(!c||!c.isUnmounted)return d&&d(),Zt(t,c,3,[f])}:r["d"],e&&i){const t=l;l=()=>Nn(t())}let f=t=>{d=b.options.onStop=()=>{Kt(t,c,4)}},m=Object(r["m"])(t)?[]:Cn;const g=()=>{if(b.active)if(e){const t=b();(i||p||Object(r["i"])(t,m))&&(d&&d(),Zt(e,c,3,[t,m===Cn?void 0:m,f]),m=t)}else b()};let v;g.allowRecurse=!!e,v="sync"===s?g:"post"===s?()=>_r(g,c&&c.suspense):()=>{!c||c.isMounted?ye(g):g()};const b=u(l,{lazy:!0,onTrack:o,onTrigger:a,scheduler:v});return Ki(b,c),e?n?g():m=b():"post"===s?_r(b,c&&c.suspense):b(),()=>{h(b),c&&Object(r["H"])(c.effects,b)}}function Mn(t,e,n){const i=this.proxy,s=Object(r["A"])(t)?()=>i[t]:t.bind(i);return An(s,e.bind(i),n,this)}function Nn(t,e=new Set){if(!Object(r["t"])(t)||e.has(t))return t;if(e.add(t),Ct(t))Nn(t.value,e);else if(Object(r["m"])(t))for(let n=0;n<t.length;n++)Nn(t[n],e);else if(Object(r["y"])(t)||Object(r["r"])(t))t.forEach(t=>{Nn(t,e)});else for(const n in t)Nn(t[n],e);return t}function jn(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bn(()=>{t.isMounted=!0}),wn(()=>{t.isUnmounting=!0}),t}const In=[Function,Array],Pn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:In,onEnter:In,onAfterEnter:In,onEnterCancelled:In,onBeforeLeave:In,onLeave:In,onAfterLeave:In,onLeaveCancelled:In,onBeforeAppear:In,onAppear:In,onAfterAppear:In,onAppearCancelled:In},setup(t,{slots:e}){const n=Bi(),r=jn();let i;return()=>{const s=e.default&&Hn(e.default(),!0);if(!s||!s.length)return;const o=Tt(t),{mode:a}=o;const c=s[0];if(r.isLeaving)return Bn(c);const l=Rn(c);if(!l)return Bn(c);const u=Fn(l,o,r,n);Vn(l,u);const h=n.subTree,d=h&&Rn(h);let p=!1;const{getTransitionKey:f}=l.type;if(f){const t=f();void 0===i?i=t:t!==i&&(i=t,p=!0)}if(d&&d.type!==Ur&&(!ri(l,d)||p)){const t=Fn(d,o,r,n);if(Vn(d,t),"out-in"===a)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},Bn(c);"in-out"===a&&l.type!==Ur&&(t.delayLeave=(t,e,n)=>{const i=Dn(r,d);i[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return c}}},Ln=Pn;function Dn(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Fn(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:b}=e,y=String(t.key),_=Dn(n,t),w=(t,e)=>{t&&Zt(t,r,9,e)},x={mode:s,persisted:o,beforeEnter(e){let r=a;if(!n.isMounted){if(!i)return;r=m||a}e._leaveCb&&e._leaveCb(!0);const s=_[y];s&&ri(t,s)&&s.el._leaveCb&&s.el._leaveCb(),w(r,[e])},enter(t){let e=c,r=l,s=u;if(!n.isMounted){if(!i)return;e=g||c,r=v||l,s=b||u}let o=!1;const a=t._enterCb=e=>{o||(o=!0,w(e?s:r,[t]),x.delayedLeave&&x.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();w(h,[e]);let s=!1;const o=e._leaveCb=n=>{s||(s=!0,r(),w(n?f:p,[e]),e._leaveCb=void 0,_[i]===t&&delete _[i])};_[i]=t,d?(d(e,o),d.length<=1&&o()):o()},clone(t){return Fn(t,e,n,r)}};return x}function Bn(t){if(qn(t))return t=ui(t),t.children=null,t}function Rn(t){return qn(t)?t.children?t.children[0]:void 0:t}function Vn(t,e){6&t.shapeFlag&&t.component?Vn(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Hn(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const s=t[i];s.type===Wr?(128&s.patchFlag&&r++,n=n.concat(Hn(s.children,e))):(e||s.type!==Ur)&&n.push(s)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const qn=t=>t.type.__isKeepAlive,zn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Bi(),i=n.ctx;if(!i.renderer)return e.default;const s=new Map,o=new Set;let a=null;const c=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:d}}}=i,p=d("div");function f(t){Kn(t),h(t,n,c)}function m(t){s.forEach((e,n)=>{const r=Ji(e.type);!r||t&&t(r)||g(n)})}function g(t){const e=s.get(t);a&&e.type===a.type?a&&Kn(a):f(e),s.delete(t),o.delete(t)}i.activate=(t,e,n,i,s)=>{const o=t.component;u(t,e,n,0,c),l(o.vnode,t,e,n,o,c,i,t.slotScopeIds,s),_r(()=>{o.isDeactivated=!1,o.a&&Object(r["l"])(o.a);const e=t.props&&t.props.onVnodeMounted;e&&Sr(e,o.parent,t)},c)},i.deactivate=t=>{const e=t.component;u(t,p,null,1,c),_r(()=>{e.da&&Object(r["l"])(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&Sr(n,e.parent,t),e.isDeactivated=!0},c)},En(()=>[t.include,t.exclude],([t,e])=>{t&&m(e=>Gn(t,e)),e&&m(t=>!Gn(e,t))},{flush:"post",deep:!0});let v=null;const b=()=>{null!=v&&s.set(v,Zn(n.subTree))};return bn(b),_n(b),wn(()=>{s.forEach(t=>{const{subTree:e,suspense:r}=n,i=Zn(e);if(t.type!==i.type)f(t);else{Kn(i);const t=i.component.da;t&&_r(t,r)}})}),()=>{if(v=null,!e.default)return null;const n=e.default(),r=n[0];if(n.length>1)return a=null,n;if(!ni(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return a=null,r;let i=Zn(r);const c=i.type,l=Ji(c),{include:u,exclude:h,max:d}=t;if(u&&(!l||!Gn(u,l))||h&&l&&Gn(h,l))return a=i,r;const p=null==i.key?c:i.key,f=s.get(p);return i.el&&(i=ui(i),128&r.shapeFlag&&(r.ssContent=i)),v=p,f?(i.el=f.el,i.component=f.component,i.transition&&Vn(i,i.transition),i.shapeFlag|=512,o.delete(p),o.add(p)):(o.add(p),d&&o.size>parseInt(d,10)&&g(o.values().next().value)),i.shapeFlag|=256,a=i,r}}},Wn=zn;function Gn(t,e){return Object(r["m"])(t)?t.some(t=>Gn(t,e)):Object(r["A"])(t)?t.split(",").indexOf(e)>-1:!!t.test&&t.test(e)}function Un(t,e){$n(t,"a",e)}function Yn(t,e){$n(t,"da",e)}function $n(t,e,n=Fi){const r=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}t()});if(mn(e,r,n),n){let t=n.parent;while(t&&t.parent)qn(t.parent.vnode)&&Xn(r,e,n,t),t=t.parent}}function Xn(t,e,n,i){const s=mn(e,t,i,!0);xn(()=>{Object(r["H"])(i[e],s)},n)}function Kn(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function Zn(t){return 128&t.shapeFlag?t.ssContent:t}const Qn=t=>"_"===t[0]||"$stable"===t,Jn=t=>Object(r["m"])(t)?t.map(fi):[fi(t)],tr=(t,e,n)=>Ve(t=>Jn(e(t)),n),er=(t,e)=>{const n=t._ctx;for(const i in t){if(Qn(i))continue;const s=t[i];if(Object(r["n"])(s))e[i]=tr(i,s,n);else if(null!=s){0;const t=Jn(s);e[i]=()=>t}}},nr=(t,e)=>{const n=Jn(e);t.slots.default=()=>n},rr=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,Object(r["g"])(e,"_",n)):er(e,t.slots={})}else t.slots={},e&&nr(t,e);Object(r["g"])(t.slots,si,1)},ir=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,a=r["b"];if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:(Object(r["h"])(s,e),n||1!==t||delete s._):(o=!e.$stable,er(e,s)),a=e}else e&&(nr(t,e),a={default:1});if(o)for(const r in s)Qn(r)||r in a||delete s[r]};function sr(t,e){const n=Pe;if(null===n)return t;const i=n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,n,a,c=r["b"]]=e[o];Object(r["n"])(t)&&(t={mounted:t,updated:t}),s.push({dir:t,instance:i,value:n,oldValue:void 0,arg:a,modifiers:c})}return t}function or(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);const c=a.dir[r];c&&Zt(c,n,8,[t.el,a,t,e])}}function ar(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:r["c"],errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let cr=0;function lr(t,e){return function(n,i=null){null==i||Object(r["t"])(i)||(i=null);const s=ar(),o=new Set;let a=!1;const c=s.app={_uid:cr++,_component:n,_props:i,_container:null,_context:s,version:ps,get config(){return s.config},set config(t){0},use(t,...e){return o.has(t)||(t&&Object(r["n"])(t.install)?(o.add(t),t.install(c,...e)):Object(r["n"])(t)&&(o.add(t),t(c,...e))),c},mixin(t){return s.mixins.includes(t)||(s.mixins.push(t),(t.props||t.emits)&&(s.deopt=!0)),c},component(t,e){return e?(s.components[t]=e,c):s.components[t]},directive(t,e){return e?(s.directives[t]=e,c):s.directives[t]},mount(r,o,l){if(!a){const u=ci(n,i);return u.appContext=s,o&&e?e(u,r):t(u,r,l),a=!0,c._container=r,r.__vue_app__=c,u.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(t,e){return s.provides[t]=e,c}};return c}}let ur=!1;const hr=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,dr=t=>8===t.nodeType;function pr(t){const{mt:e,p:n,o:{patchProp:i,nextSibling:s,parentNode:o,remove:a,insert:c,createComment:l}}=t,u=(t,e)=>{ur=!1,h(e.firstChild,t,null,null,null),xe(),ur&&console.error("Hydration completed but contains mismatches.")},h=(n,r,i,a,c,l=!1)=>{const u=dr(n)&&"["===n.data,v=()=>m(n,r,i,a,c,u),{type:b,ref:y,shapeFlag:_}=r,w=n.nodeType;r.el=n;let x=null;switch(b){case Gr:3!==w?x=v():(n.data!==r.children&&(ur=!0,n.data=r.children),x=s(n));break;case Ur:x=8!==w||u?v():s(n);break;case Yr:if(1===w){x=n;const t=!r.children.length;for(let e=0;e<r.staticCount;e++)t&&(r.children+=x.outerHTML),e===r.staticCount-1&&(r.anchor=x),x=s(x);return x}x=v();break;case Wr:x=u?f(n,r,i,a,c,l):v();break;default:if(1&_)x=1!==w||r.type.toLowerCase()!==n.tagName.toLowerCase()?v():d(n,r,i,a,c,l);else if(6&_){r.slotScopeIds=c;const t=o(n),h=()=>{e(r,t,null,i,a,hr(t),l)},d=r.type.__asyncLoader;d?d().then(h):h(),x=u?g(n):s(n)}else 64&_?x=8!==w?v():r.type.hydrate(n,r,i,a,c,l,t,p):128&_&&(x=r.type.hydrate(n,r,i,a,hr(o(n)),c,l,t,h))}return null!=y&&wr(y,null,a,r),x},d=(t,e,n,s,o,c)=>{c=c||!!e.dynamicChildren;const{props:l,patchFlag:u,shapeFlag:h,dirs:d}=e;if(-1!==u){if(d&&or(e,null,n,"created"),l)if(!c||16&u||32&u)for(const e in l)!Object(r["w"])(e)&&Object(r["u"])(e)&&i(t,e,null,l[e]);else l.onClick&&i(t,"onClick",null,l.onClick);let f;if((f=l&&l.onVnodeBeforeMount)&&Sr(f,n,e),d&&or(e,null,n,"beforeMount"),((f=l&&l.onVnodeMounted)||d)&&rn(()=>{f&&Sr(f,n,e),d&&or(e,null,n,"mounted")},s),16&h&&(!l||!l.innerHTML&&!l.textContent)){let r=p(t.firstChild,e,t,n,s,o,c);while(r){ur=!0;const t=r;r=r.nextSibling,a(t)}}else 8&h&&t.textContent!==e.children&&(ur=!0,t.textContent=e.children)}return t.nextSibling},p=(t,e,r,i,s,o,a)=>{a=a||!!e.dynamicChildren;const c=e.children,l=c.length;for(let u=0;u<l;u++){const e=a?c[u]:c[u]=fi(c[u]);if(t)t=h(t,e,i,s,o,a);else{if(e.type===Gr&&!e.children)continue;ur=!0,n(null,e,r,null,i,s,hr(r),o)}}return t},f=(t,e,n,r,i,a)=>{const{slotScopeIds:u}=e;u&&(i=i?i.concat(u):u);const h=o(t),d=p(s(t),e,h,n,r,i,a);return d&&dr(d)&&"]"===d.data?s(e.anchor=d):(ur=!0,c(e.anchor=l("]"),h,d),d)},m=(t,e,r,i,c,l)=>{if(ur=!0,e.el=null,l){const e=g(t);while(1){const n=s(t);if(!n||n===e)break;a(n)}}const u=s(t),h=o(t);return a(t),n(null,e,h,u,r,i,hr(h),c),u},g=t=>{let e=0;while(t)if(t=s(t),t&&dr(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return s(t);e--}return t};return[u,h]}function fr(){}function mr(t){return Object(r["n"])(t)?{setup:t,name:t.name}:t}const gr=t=>!!t.type.__asyncLoader;function vr(t){Object(r["n"])(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:s=200,timeout:o,suspensible:a=!0,onError:c}=t;let l,u=null,h=0;const d=()=>(h++,u=null,p()),p=()=>{let t;return u||(t=u=e().catch(t=>{if(t=t instanceof Error?t:new Error(String(t)),c)return new Promise((e,n)=>{const r=()=>e(d()),i=()=>n(t);c(t,r,i,h+1)});throw t}).then(e=>t!==u&&u?u:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),l=e,e)))};return mr({__asyncLoader:p,name:"AsyncComponentWrapper",setup(){const t=Fi;if(l)return()=>br(l,t);const e=e=>{u=null,Qt(e,t,13,!i)};if(a&&t.suspense)return p().then(e=>()=>br(e,t)).catch(t=>(e(t),()=>i?ci(i,{error:t}):null));const r=Et(!1),c=Et(),h=Et(!!s);return s&&setTimeout(()=>{h.value=!1},s),null!=o&&setTimeout(()=>{if(!r.value&&!c.value){const t=new Error(`Async component timed out after ${o}ms.`);e(t),c.value=t}},o),p().then(()=>{r.value=!0}).catch(t=>{e(t),c.value=t}),()=>r.value&&l?br(l,t):c.value&&i?ci(i,{error:c.value}):n&&!h.value?ci(n):void 0}})}function br(t,{vnode:{ref:e,props:n,children:r}}){const i=ci(t,n,r);return i.ref=e,i}const yr={scheduler:me,allowRecurse:!0};const _r=rn,wr=(t,e,n,i)=>{if(Object(r["m"])(t))return void t.forEach((t,s)=>wr(t,e&&(Object(r["m"])(e)?e[s]:e),n,i));let s;if(i){if(gr(i))return;s=4&i.shapeFlag?i.component.exposed||i.component.proxy:i.el}else s=null;const{i:o,r:a}=t;const c=e&&e.r,l=o.refs===r["b"]?o.refs={}:o.refs,u=o.setupState;if(null!=c&&c!==a&&(Object(r["A"])(c)?(l[c]=null,Object(r["j"])(u,c)&&(u[c]=null)):Ct(c)&&(c.value=null)),Object(r["A"])(a)){const t=()=>{l[a]=s,Object(r["j"])(u,a)&&(u[a]=s)};s?(t.id=-1,_r(t,n)):t()}else if(Ct(a)){const t=()=>{a.value=s};s?(t.id=-1,_r(t,n)):t()}else Object(r["n"])(a)&&Kt(a,o,12,[s,l])};function xr(t){return Tr(t)}function kr(t){return Tr(t,pr)}function Tr(t,e){fr();const{insert:n,remove:i,patchProp:s,forcePatchProp:o,createElement:a,createText:c,createComment:l,setText:d,setElementText:p,parentNode:f,nextSibling:m,setScopeId:g=r["d"],cloneNode:b,insertStaticContent:_}=t,w=(t,e,n,r=null,i=null,s=null,o=!1,a=null,c=!1)=>{t&&!ri(t,e)&&(r=X(t),W(t,i,s,!0),t=null),-2===e.patchFlag&&(c=!1,e.dynamicChildren=null);const{type:l,ref:u,shapeFlag:h}=e;switch(l){case Gr:x(t,e,n,r);break;case Ur:k(t,e,n,r);break;case Yr:null==t&&T(e,n,r,o);break;case Wr:P(t,e,n,r,i,s,o,a,c);break;default:1&h?C(t,e,n,r,i,s,o,a,c):6&h?L(t,e,n,r,i,s,o,a,c):(64&h||128&h)&&l.process(t,e,n,r,i,s,o,a,c,Z)}null!=u&&i&&wr(u,t&&t.ref,s,e)},x=(t,e,r,i)=>{if(null==t)n(e.el=c(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&d(n,e.children)}},k=(t,e,r,i)=>{null==t?n(e.el=l(e.children||""),r,i):e.el=t.el},T=(t,e,n,r)=>{[t.el,t.anchor]=_(t.children,e,n,r)},S=({el:t,anchor:e},r,i)=>{let s;while(t&&t!==e)s=m(t),n(t,r,i),t=s;n(e,r,i)},O=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=m(t),i(t),t=n;i(e)},C=(t,e,n,r,i,s,o,a,c)=>{o=o||"svg"===e.type,null==t?E(e,n,r,i,s,o,a,c):N(t,e,i,s,o,a,c)},E=(t,e,i,o,c,l,u,h)=>{let d,f;const{type:m,props:g,shapeFlag:v,transition:y,patchFlag:_,dirs:w}=t;if(t.el&&void 0!==b&&-1===_)d=t.el=b(t.el);else{if(d=t.el=a(t.type,l,g&&g.is,g),8&v?p(d,t.children):16&v&&M(t.children,d,null,o,c,l&&"foreignObject"!==m,u,h||!!t.dynamicChildren),w&&or(t,null,o,"created"),g){for(const e in g)Object(r["w"])(e)||s(d,e,null,g[e],l,t.children,o,c,$);(f=g.onVnodeBeforeMount)&&Sr(f,o,t)}A(d,t,t.scopeId,u,o)}w&&or(t,null,o,"beforeMount");const x=(!c||c&&!c.pendingBranch)&&y&&!y.persisted;x&&y.beforeEnter(d),n(d,e,i),((f=g&&g.onVnodeMounted)||x||w)&&_r(()=>{f&&Sr(f,o,t),x&&y.enter(d),w&&or(t,null,o,"mounted")},c)},A=(t,e,n,r,i)=>{if(n&&g(t,n),r)for(let s=0;s<r.length;s++)g(t,r[s]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;A(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},M=(t,e,n,r,i,s,o,a,c=0)=>{for(let l=c;l<t.length;l++){const c=t[l]=o?mi(t[l]):fi(t[l]);w(null,c,e,n,r,i,s,o,a)}},N=(t,e,n,i,a,c,l)=>{const u=e.el=t.el;let{patchFlag:h,dynamicChildren:d,dirs:f}=e;h|=16&t.patchFlag;const m=t.props||r["b"],g=e.props||r["b"];let v;if((v=g.onVnodeBeforeUpdate)&&Sr(v,n,e,t),f&&or(e,t,n,"beforeUpdate"),h>0){if(16&h)I(u,e,m,g,n,i,a);else if(2&h&&m.class!==g.class&&s(u,"class",null,g.class,a),4&h&&s(u,"style",m.style,g.style,a),8&h){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const c=r[e],l=m[c],h=g[c];(h!==l||o&&o(u,c))&&s(u,c,l,h,a,t.children,n,i,$)}}1&h&&t.children!==e.children&&p(u,e.children)}else l||null!=d||I(u,e,m,g,n,i,a);const b=a&&"foreignObject"!==e.type;d?j(t.dynamicChildren,d,u,n,i,b,c):l||V(t,e,u,null,n,i,b,c,!1),((v=g.onVnodeUpdated)||f)&&_r(()=>{v&&Sr(v,n,e,t),f&&or(e,t,n,"updated")},i)},j=(t,e,n,r,i,s,o)=>{for(let a=0;a<e.length;a++){const c=t[a],l=e[a],u=c.type===Wr||!ri(c,l)||6&c.shapeFlag||64&c.shapeFlag?f(c.el):n;w(c,l,u,null,r,i,s,o,!0)}},I=(t,e,n,i,a,c,l)=>{if(n!==i){for(const u in i){if(Object(r["w"])(u))continue;const h=i[u],d=n[u];(h!==d||o&&o(t,u))&&s(t,u,d,h,l,e.children,a,c,$)}if(n!==r["b"])for(const o in n)Object(r["w"])(o)||o in i||s(t,o,n[o],null,l,e.children,a,c,$)}},P=(t,e,r,i,s,o,a,l,u)=>{const h=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=e;p>0&&(u=!0),m&&(l=l?l.concat(m):m),null==t?(n(h,r,i),n(d,r,i),M(e.children,r,d,s,o,a,l,u)):p>0&&64&p&&f&&t.dynamicChildren?(j(t.dynamicChildren,f,r,s,o,a,l),(null!=e.key||s&&e===s.subTree)&&Or(t,e,!0)):V(t,e,r,d,s,o,a,l,u)},L=(t,e,n,r,i,s,o,a,c)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,o,c):D(e,n,r,i,s,o,c):F(t,e,c)},D=(t,e,n,r,i,s,o)=>{const a=t.component=Di(t,r,i);if(qn(t)&&(a.ctx.renderer=Z),zi(a),a.asyncDep){if(i&&i.registerDep(a,B),!t.el){const t=a.subTree=ci(Ur);k(null,t,e,n)}}else B(a,t,e,n,i,s,o)},F=(t,e,n)=>{const r=e.component=t.component;if(Ge(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void R(r,e,n);r.next=e,ve(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},B=(t,e,n,i,s,o,a)=>{t.update=u((function(){if(t.isMounted){let e,{next:n,bu:i,u:c,parent:l,vnode:u}=t,h=n;0,n?(n.el=u.el,R(t,n,a)):n=u,i&&Object(r["l"])(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Sr(e,l,n,u);const d=He(t);0;const p=t.subTree;t.subTree=d,w(p,d,f(p.el),X(p),t,s,o),n.el=d.el,null===h&&Ye(t,d.el),c&&_r(c,s),(e=n.props&&n.props.onVnodeUpdated)&&_r(()=>{Sr(e,l,n,u)},s)}else{let a;const{el:c,props:l}=e,{bm:u,m:h,parent:d}=t;u&&Object(r["l"])(u),(a=l&&l.onVnodeBeforeMount)&&Sr(a,d,e);const p=t.subTree=He(t);if(c&&J?J(e.el,p,t,s,null):(w(null,p,n,i,t,s,o),e.el=p.el),h&&_r(h,s),a=l&&l.onVnodeMounted){const t=e;_r(()=>{Sr(a,d,t)},s)}const{a:f}=t;f&&256&e.shapeFlag&&_r(f,s),t.isMounted=!0,e=n=i=null}}),yr)},R=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,an(t,e.props,r,n),ir(t,e.children,n),v(),we(void 0,t.update),y()},V=(t,e,n,r,i,s,o,a,c=!1)=>{const l=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:d,shapeFlag:f}=e;if(d>0){if(128&d)return void q(l,h,n,r,i,s,o,a,c);if(256&d)return void H(l,h,n,r,i,s,o,a,c)}8&f?(16&u&&$(l,i,s),h!==l&&p(n,h)):16&u?16&f?q(l,h,n,r,i,s,o,a,c):$(l,i,s,!0):(8&u&&p(n,""),16&f&&M(h,n,r,i,s,o,a,c))},H=(t,e,n,i,s,o,a,c,l)=>{t=t||r["a"],e=e||r["a"];const u=t.length,h=e.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const r=e[p]=l?mi(e[p]):fi(e[p]);w(t[p],r,n,null,s,o,a,c,l)}u>h?$(t,s,o,!0,!1,d):M(e,n,i,s,o,a,c,l,d)},q=(t,e,n,i,s,o,a,c,l)=>{let u=0;const h=e.length;let d=t.length-1,p=h-1;while(u<=d&&u<=p){const r=t[u],i=e[u]=l?mi(e[u]):fi(e[u]);if(!ri(r,i))break;w(r,i,n,null,s,o,a,c,l),u++}while(u<=d&&u<=p){const r=t[d],i=e[p]=l?mi(e[p]):fi(e[p]);if(!ri(r,i))break;w(r,i,n,null,s,o,a,c,l),d--,p--}if(u>d){if(u<=p){const t=p+1,r=t<h?e[t].el:i;while(u<=p)w(null,e[u]=l?mi(e[u]):fi(e[u]),n,r,s,o,a,c,l),u++}}else if(u>p)while(u<=d)W(t[u],s,o,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const t=e[u]=l?mi(e[u]):fi(e[u]);null!=t.key&&g.set(t.key,u)}let v,b=0;const y=p-m+1;let _=!1,x=0;const k=new Array(y);for(u=0;u<y;u++)k[u]=0;for(u=f;u<=d;u++){const r=t[u];if(b>=y){W(r,s,o,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=m;v<=p;v++)if(0===k[v-m]&&ri(r,e[v])){i=v;break}void 0===i?W(r,s,o,!0):(k[i-m]=u+1,i>=x?x=i:_=!0,w(r,e[i],n,null,s,o,a,c,l),b++)}const T=_?Cr(k):r["a"];for(v=T.length-1,u=y-1;u>=0;u--){const t=m+u,r=e[t],d=t+1<h?e[t+1].el:i;0===k[u]?w(null,r,n,d,s,o,a,c,l):_&&(v<0||u!==T[v]?z(r,n,d,2):v--)}}},z=(t,e,r,i,s=null)=>{const{el:o,type:a,transition:c,children:l,shapeFlag:u}=t;if(6&u)return void z(t.component.subTree,e,r,i);if(128&u)return void t.suspense.move(e,r,i);if(64&u)return void a.move(t,e,r,Z);if(a===Wr){n(o,e,r);for(let t=0;t<l.length;t++)z(l[t],e,r,i);return void n(t.anchor,e,r)}if(a===Yr)return void S(t,e,r);const h=2!==i&&1&u&&c;if(h)if(0===i)c.beforeEnter(o),n(o,e,r),_r(()=>c.enter(o),s);else{const{leave:t,delayLeave:i,afterLeave:s}=c,a=()=>n(o,e,r),l=()=>{t(o,()=>{a(),s&&s()})};i?i(o,a,l):l()}else n(o,e,r)},W=(t,e,n,r=!1,i=!1)=>{const{type:s,props:o,ref:a,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&wr(a,null,n,null),256&u)return void e.ctx.deactivate(t);const p=1&u&&d;let f;if((f=o&&o.onVnodeBeforeUnmount)&&Sr(f,e,t),6&u)Y(t.component,n,r);else{if(128&u)return void t.suspense.unmount(n,r);p&&or(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,i,Z,r):l&&(s!==Wr||h>0&&64&h)?$(l,e,n,!1,!0):(s===Wr&&(128&h||256&h)||!i&&16&u)&&$(c,e,n),r&&G(t)}((f=o&&o.onVnodeUnmounted)||p)&&_r(()=>{f&&Sr(f,e,t),p&&or(t,null,e,"unmounted")},n)},G=t=>{const{type:e,el:n,anchor:r,transition:s}=t;if(e===Wr)return void U(n,r);if(e===Yr)return void O(t);const o=()=>{i(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:r}=s,i=()=>e(n,o);r?r(t.el,o,i):i()}else o()},U=(t,e)=>{let n;while(t!==e)n=m(t),i(t),t=n;i(e)},Y=(t,e,n)=>{const{bum:i,effects:s,update:o,subTree:a,um:c}=t;if(i&&Object(r["l"])(i),s)for(let r=0;r<s.length;r++)h(s[r]);o&&(h(o),W(a,t,e,n)),c&&_r(c,e),_r(()=>{t.isUnmounted=!0},e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},$=(t,e,n,r=!1,i=!1,s=0)=>{for(let o=s;o<t.length;o++)W(t[o],e,n,r,i)},X=t=>6&t.shapeFlag?X(t.component.subTree):128&t.shapeFlag?t.suspense.next():m(t.anchor||t.el),K=(t,e,n)=>{null==t?e._vnode&&W(e._vnode,null,null,!0):w(e._vnode||null,t,e,null,null,null,n),xe(),e._vnode=t},Z={p:w,um:W,m:z,r:G,mt:D,mc:M,pc:V,pbc:j,n:X,o:t};let Q,J;return e&&([Q,J]=e(Z)),{render:K,hydrate:Q,createApp:lr(K,Q)}}function Sr(t,e,n,r=null){Zt(t,e,7,[n,r])}function Or(t,e,n=!1){const i=t.children,s=e.children;if(Object(r["m"])(i)&&Object(r["m"])(s))for(let r=0;r<i.length;r++){const t=i[r];let e=s[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[r]=mi(s[r]),e.el=t.el),n||Or(t,e))}}function Cr(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const c=t[r];if(0!==c){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}s=0,o=n.length-1;while(s<o)a=(s+o)/2|0,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=e[o];return n}const Er=t=>t.__isTeleport,Ar=t=>t&&(t.disabled||""===t.disabled),Mr=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,Nr=(t,e)=>{const n=t&&t.to;if(Object(r["A"])(n)){if(e){const t=e(n);return t}return null}return n},jr={__isTeleport:!0,process(t,e,n,r,i,s,o,a,c,l){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:f,createText:m,createComment:g}}=l,v=Ar(e.props),{shapeFlag:b,children:y}=e;if(null==t){const t=e.el=m(""),l=e.anchor=m("");p(t,n,r),p(l,n,r);const h=e.target=Nr(e.props,f),d=e.targetAnchor=m("");h&&(p(d,h),o=o||Mr(h));const g=(t,e)=>{16&b&&u(y,t,e,i,s,o,a,c)};v?g(n,l):h&&g(h,d)}else{e.el=t.el;const r=e.anchor=t.anchor,u=e.target=t.target,p=e.targetAnchor=t.targetAnchor,m=Ar(t.props),g=m?n:u,b=m?r:p;if(o=o||Mr(u),e.dynamicChildren?(d(t.dynamicChildren,e.dynamicChildren,g,i,s,o,a),Or(t,e,!0)):c||h(t,e,g,b,i,s,o,a,!1),v)m||Ir(e,n,r,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Nr(e.props,f);t&&Ir(e,t,null,l,0)}else m&&Ir(e,u,p,l,1)}},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:h,props:d}=t;if(h&&s(u),(o||!Ar(d))&&(s(l),16&a))for(let p=0;p<c.length;p++)i(c[p],e,n,!0,r)},move:Ir,hydrate:Pr};function Ir(t,e,n,{o:{insert:r},m:i},s=2){0===s&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,h=2===s;if(h&&r(o,e,n),(!h||Ar(u))&&16&c)for(let d=0;d<l.length;d++)i(l[d],e,n,2);h&&r(a,e,n)}function Pr(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const u=e.target=Nr(e.props,c);if(u){const c=u._lpa||u.firstChild;16&e.shapeFlag&&(Ar(e.props)?(e.anchor=l(o(t),e,a(t),n,r,i,s),e.targetAnchor=c):(e.anchor=o(t),e.targetAnchor=l(c,e,u,n,r,i,s)),u._lpa=e.targetAnchor&&o(e.targetAnchor))}return e.anchor&&o(e.anchor)}const Lr=jr,Dr="components",Fr="directives";function Br(t,e){return qr(Dr,t,!0,e)||t}const Rr=Symbol();function Vr(t){return Object(r["A"])(t)?qr(Dr,t,!1)||t:t||Rr}function Hr(t){return qr(Fr,t)}function qr(t,e,n=!0,i=!1){const s=Pe||Fi;if(s){const n=s.type;if(t===Dr){const t=Ji(n);if(t&&(t===e||t===Object(r["e"])(e)||t===Object(r["f"])(Object(r["e"])(e))))return n}const o=zr(s[t]||n[t],e)||zr(s.appContext[t],e);return!o&&i?n:o}}function zr(t,e){return t&&(t[e]||t[Object(r["e"])(e)]||t[Object(r["f"])(Object(r["e"])(e))])}const Wr=Symbol(void 0),Gr=Symbol(void 0),Ur=Symbol(void 0),Yr=Symbol(void 0),$r=[];let Xr=null;function Kr(t=!1){$r.push(Xr=t?null:[])}function Zr(){$r.pop(),Xr=$r[$r.length-1]||null}let Qr,Jr=1;function ti(t){Jr+=t}function ei(t,e,n,i,s){const o=ci(t,e,n,i,s,!0);return o.dynamicChildren=Xr||r["a"],Zr(),Jr>0&&Xr&&Xr.push(o),o}function ni(t){return!!t&&!0===t.__v_isVNode}function ri(t,e){return t.type===e.type&&t.key===e.key}function ii(t){Qr=t}const si="__vInternal",oi=({key:t})=>null!=t?t:null,ai=({ref:t})=>null!=t?Object(r["A"])(t)||Ct(t)||Object(r["n"])(t)?{i:Pe,r:t}:t:null,ci=li;function li(t,e=null,n=null,i=0,s=null,o=!1){if(t&&t!==Rr||(t=Ur),ni(t)){const r=ui(t,e,!0);return n&&gi(r,n),r}if(es(t)&&(t=t.__vccOpts),e){(kt(e)||si in e)&&(e=Object(r["h"])({},e));let{class:t,style:n}=e;t&&!Object(r["A"])(t)&&(e.class=Object(r["F"])(t)),Object(r["t"])(n)&&(kt(n)&&!Object(r["m"])(n)&&(n=Object(r["h"])({},n)),e.style=Object(r["G"])(n))}const a=Object(r["A"])(t)?1:$e(t)?128:Er(t)?64:Object(r["t"])(t)?4:Object(r["n"])(t)?2:0;const c={__v_isVNode:!0,["__v_skip"]:!0,type:t,props:e,key:e&&oi(e),ref:e&&ai(e),scopeId:Le,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};if(gi(c,n),128&a){const{content:t,fallback:e}=en(c);c.ssContent=t,c.ssFallback=e}return Jr>0&&!o&&Xr&&(i>0||6&a)&&32!==i&&Xr.push(c),c}function ui(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:a}=t,c=e?vi(i||{},e):i;return{__v_isVNode:!0,["__v_skip"]:!0,type:t.type,props:c,key:c&&oi(c),ref:e&&e.ref?n&&s?Object(r["m"])(s)?s.concat(ai(e)):[s,ai(e)]:ai(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Wr?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ui(t.ssContent),ssFallback:t.ssFallback&&ui(t.ssFallback),el:t.el,anchor:t.anchor}}function hi(t=" ",e=0){return ci(Gr,null,t,e)}function di(t,e){const n=ci(Yr,null,t);return n.staticCount=e,n}function pi(t="",e=!1){return e?(Kr(),ei(Ur,null,t)):ci(Ur,null,t)}function fi(t){return null==t||"boolean"===typeof t?ci(Ur):Object(r["m"])(t)?ci(Wr,null,t):"object"===typeof t?null===t.el?t:ui(t):ci(Gr,null,String(t))}function mi(t){return null===t.el?t:ui(t)}function gi(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(Object(r["m"])(e))n=16;else if("object"===typeof e){if(1&i||64&i){const n=e.default;return void(n&&(n._c&&Ne(1),gi(t,n()),n._c&&Ne(-1)))}{n=32;const r=e._;r||si in e?3===r&&Pe&&(1024&Pe.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Pe}}else Object(r["n"])(e)?(e={default:e,_ctx:Pe},n=32):(e=String(e),64&i?(n=16,e=[hi(e)]):n=8);t.children=e,t.shapeFlag|=n}function vi(...t){const e=Object(r["h"])({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=Object(r["F"])([e.class,i.class]));else if("style"===t)e.style=Object(r["G"])([e.style,i.style]);else if(Object(r["u"])(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else""!==t&&(e[t]=i[t])}return e}function bi(t,e){if(Fi){let n=Fi.provides;const r=Fi.parent&&Fi.parent.provides;r===n&&(n=Fi.provides=Object.create(r)),n[t]=e}else 0}function yi(t,e,n=!1){const i=Fi||Pe;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Object(r["n"])(e)?e():e}else 0}let _i=!0;function wi(t,e,n=[],i=[],s=[],o=!1){const{mixins:a,extends:c,data:l,computed:u,methods:h,watch:d,provide:p,inject:f,components:m,directives:g,beforeMount:v,mounted:b,beforeUpdate:y,updated:_,activated:w,deactivated:x,beforeDestroy:k,beforeUnmount:T,destroyed:S,unmounted:O,render:C,renderTracked:E,renderTriggered:A,errorCaptured:M,expose:N}=e,j=t.proxy,I=t.ctx,P=t.appContext.mixins;o&&C&&t.render===r["d"]&&(t.render=C),o||(_i=!1,xi("beforeCreate","bc",e,t,P),_i=!0,Ti(t,P,n,i,s)),c&&wi(t,c,n,i,s,!0),a&&Ti(t,a,n,i,s);if(f)if(Object(r["m"])(f))for(let r=0;r<f.length;r++){const t=f[r];I[t]=yi(t)}else for(const L in f){const t=f[L];Object(r["t"])(t)?I[L]=yi(t.from||L,t.default,!0):I[L]=yi(t)}if(h)for(const L in h){const t=h[L];Object(r["n"])(t)&&(I[L]=t.bind(j))}if(o?l&&n.push(l):(n.length&&n.forEach(e=>Si(t,e,j)),l&&Si(t,l,j)),u)for(const L in u){const t=u[L],e=Object(r["n"])(t)?t.bind(j,j):Object(r["n"])(t.get)?t.get.bind(j,j):r["d"];0;const n=!Object(r["n"])(t)&&Object(r["n"])(t.set)?t.set.bind(j):r["d"],i=ns({get:e,set:n});Object.defineProperty(I,L,{enumerable:!0,configurable:!0,get:()=>i.value,set:t=>i.value=t})}if(d&&i.push(d),!o&&i.length&&i.forEach(t=>{for(const e in t)Oi(t[e],I,j,e)}),p&&s.push(p),!o&&s.length&&s.forEach(t=>{const e=Object(r["n"])(t)?t.call(j):t;Reflect.ownKeys(e).forEach(t=>{bi(t,e[t])})}),o&&(m&&Object(r["h"])(t.components||(t.components=Object(r["h"])({},t.type.components)),m),g&&Object(r["h"])(t.directives||(t.directives=Object(r["h"])({},t.type.directives)),g)),o||xi("created","c",e,t,P),v&&vn(v.bind(j)),b&&bn(b.bind(j)),y&&yn(y.bind(j)),_&&_n(_.bind(j)),w&&Un(w.bind(j)),x&&Yn(x.bind(j)),M&&Sn(M.bind(j)),E&&Tn(E.bind(j)),A&&kn(A.bind(j)),T&&wn(T.bind(j)),O&&xn(O.bind(j)),Object(r["m"])(N))if(o)0;else if(N.length){const e=t.exposed||(t.exposed=Lt({}));N.forEach(t=>{e[t]=Vt(j,t)})}else t.exposed||(t.exposed=r["b"])}function xi(t,e,n,r,i){for(let s=0;s<i.length;s++)ki(t,e,i[s],r);ki(t,e,n,r)}function ki(t,e,n,r){const{extends:i,mixins:s}=n,o=n[t];if(i&&ki(t,e,i,r),s)for(let a=0;a<s.length;a++)ki(t,e,s[a],r);o&&Zt(o.bind(r.proxy),r,e)}function Ti(t,e,n,r,i){for(let s=0;s<e.length;s++)wi(t,e[s],n,r,i,!0)}function Si(t,e,n){_i=!1;const i=e.call(n,n);_i=!0,Object(r["t"])(i)&&(t.data===r["b"]?t.data=gt(i):Object(r["h"])(t.data,i))}function Oi(t,e,n,i){const s=i.includes(".")?Ci(n,i):()=>n[i];if(Object(r["A"])(t)){const n=e[t];Object(r["n"])(n)&&En(s,n)}else if(Object(r["n"])(t))En(s,t.bind(n));else if(Object(r["t"])(t))if(Object(r["m"])(t))t.forEach(t=>Oi(t,e,n,i));else{const i=Object(r["n"])(t.handler)?t.handler.bind(n):e[t.handler];Object(r["n"])(i)&&En(s,i,t)}else 0}function Ci(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function Ei(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const s=t.appContext.mixins;if(!s.length&&!r&&!i)return e;const o={};return s.forEach(e=>Ai(o,e,t)),Ai(o,e,t),e.__merged=o}function Ai(t,e,n){const i=n.appContext.config.optionMergeStrategies,{mixins:s,extends:o}=e;o&&Ai(t,o,n),s&&s.forEach(e=>Ai(t,e,n));for(const a in e)i&&Object(r["j"])(i,a)?t[a]=i[a](t[a],e[a],n.proxy,a):t[a]=e[a]}const Mi=t=>t?Vi(t)?t.exposed?t.exposed:t.proxy:Mi(t.parent):null,Ni=Object(r["h"])(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Mi(t.parent),$root:t=>Mi(t.root),$emit:t=>t.emit,$options:t=>Ei(t),$forceUpdate:t=>()=>me(t.update),$nextTick:t=>pe.bind(t.proxy),$watch:t=>Mn.bind(t)}),ji={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:a,type:c,appContext:l}=t;if("__v_skip"===e)return!0;let u;if("$"!==e[0]){const c=a[e];if(void 0!==c)switch(c){case 0:return i[e];case 1:return s[e];case 3:return n[e];case 2:return o[e]}else{if(i!==r["b"]&&Object(r["j"])(i,e))return a[e]=0,i[e];if(s!==r["b"]&&Object(r["j"])(s,e))return a[e]=1,s[e];if((u=t.propsOptions[0])&&Object(r["j"])(u,e))return a[e]=2,o[e];if(n!==r["b"]&&Object(r["j"])(n,e))return a[e]=3,n[e];_i&&(a[e]=4)}}const h=Ni[e];let d,p;return h?("$attrs"===e&&_(t,"get",e),h(t)):(d=c.__cssModules)&&(d=d[e])?d:n!==r["b"]&&Object(r["j"])(n,e)?(a[e]=3,n[e]):(p=l.config.globalProperties,Object(r["j"])(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;if(s!==r["b"]&&Object(r["j"])(s,e))s[e]=n;else if(i!==r["b"]&&Object(r["j"])(i,e))i[e]=n;else if(Object(r["j"])(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},a){let c;return void 0!==n[a]||t!==r["b"]&&Object(r["j"])(t,a)||e!==r["b"]&&Object(r["j"])(e,a)||(c=o[0])&&Object(r["j"])(c,a)||Object(r["j"])(i,a)||Object(r["j"])(Ni,a)||Object(r["j"])(s.config.globalProperties,a)}};const Ii=Object(r["h"])({},ji,{get(t,e){if(e!==Symbol.unscopables)return ji.get(t,e,t)},has(t,e){const n="_"!==e[0]&&!Object(r["o"])(e);return n}});const Pi=ar();let Li=0;function Di(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Pi,o={uid:Li++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:un(i,s),emitsOptions:Ee(i,s),emit:null,emitted:null,propsDefaults:r["b"],ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Ce.bind(null,o),o}let Fi=null;const Bi=()=>Fi||Pe,Ri=t=>{Fi=t};function Vi(t){return 4&t.vnode.shapeFlag}let Hi,qi=!1;function zi(t,e=!1){qi=e;const{props:n,children:r}=t.vnode,i=Vi(t);on(t,n,i,e),rr(t,r);const s=i?Wi(t,e):void 0;return qi=!1,s}function Wi(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ji);const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?Xi(t):null;Fi=t,v();const s=Kt(i,t,0,[t.props,n]);if(y(),Fi=null,Object(r["v"])(s)){if(e)return s.then(n=>{Gi(t,n,e)}).catch(e=>{Qt(e,t,0)});t.asyncDep=s}else Gi(t,s,e)}else $i(t,e)}function Gi(t,e,n){Object(r["n"])(e)?t.render=e:Object(r["t"])(e)&&(t.setupState=Lt(e)),$i(t,n)}const Ui=()=>!Hi;function Yi(t){Hi=t}function $i(t,e){const n=t.type;t.render||(Hi&&n.template&&!n.render&&(n.render=Hi(n.template,{isCustomElement:t.appContext.config.isCustomElement,delimiters:n.delimiters})),t.render=n.render||r["d"],t.render._rc&&(t.withProxy=new Proxy(t.ctx,Ii))),Fi=t,v(),wi(t,n),y(),Fi=null}function Xi(t){const e=e=>{t.exposed=Lt(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}function Ki(t,e=Fi){e&&(e.effects||(e.effects=[])).push(t)}const Zi=/(?:^|[-_])(\w)/g,Qi=t=>t.replace(Zi,t=>t.toUpperCase()).replace(/[-_]/g,"");function Ji(t){return Object(r["n"])(t)&&t.displayName||t.name}function ts(t,e,n=!1){let r=Ji(e);if(!r&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(r=t[1])}if(!r&&t&&t.parent){const n=t=>{for(const n in t)if(t[n]===e)return n};r=n(t.components||t.parent.type.components)||n(t.appContext.components)}return r?Qi(r):n?"App":"Anonymous"}function es(t){return Object(r["n"])(t)&&"__vccOpts"in t}function ns(t){const e=qt(t);return Ki(e.effect),e}function rs(){return null}function is(){return null}function ss(){const t=Bi();return t.setupContext||(t.setupContext=Xi(t))}function os(t,e,n){const i=arguments.length;return 2===i?Object(r["t"])(e)&&!Object(r["m"])(e)?ni(e)?ci(t,null,[e]):ci(t,e):ci(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&ni(n)&&(n=[n]),ci(t,e,n))}const as=Symbol(""),cs=()=>{{const t=yi(as);return t||Wt("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function ls(){return void 0}function us(t,e){let n;if(Object(r["m"])(t)||Object(r["A"])(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"===typeof t){0,n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(Object(r["t"])(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,s=r.length;i<s;i++){const s=r[i];n[i]=e(t[s],s,i)}}else n=[];return n}function hs(t){const e={};for(const n in t)e[Object(r["J"])(n)]=t[n];return e}function ds(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Object(r["m"])(i))for(let e=0;e<i.length;e++)t[i[e].name]=i[e].fn;else i&&(t[i.name]=i.fn)}return t}const ps="3.0.11",fs=null,ms="http://www.w3.org/2000/svg",gs="undefined"!==typeof document?document:null;let vs,bs;const ys={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?gs.createElementNS(ms,t):gs.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>gs.createTextNode(t),createComment:t=>gs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?bs||(bs=gs.createElementNS(ms,"svg")):vs||(vs=gs.createElement("div"));i.innerHTML=t;const s=i.firstChild;let o=s,a=o;while(o)a=o,ys.insert(o,e,n),o=i.firstChild;return[s,a]}};function _s(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}function ws(t,e,n){const i=t.style;if(n)if(Object(r["A"])(n)){if(e!==n){const e=i.display;i.cssText=n,"_vod"in t&&(i.display=e)}}else{for(const t in n)ks(i,t,n[t]);if(e&&!Object(r["A"])(e))for(const t in e)null==n[t]&&ks(i,t,"")}else t.removeAttribute("style")}const xs=/\s*!important$/;function ks(t,e,n){if(Object(r["m"])(n))n.forEach(n=>ks(t,e,n));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=Os(t,e);xs.test(n)?t.setProperty(Object(r["k"])(i),n.replace(xs,""),"important"):t[i]=n}}const Ts=["Webkit","Moz","ms"],Ss={};function Os(t,e){const n=Ss[e];if(n)return n;let i=Object(r["e"])(e);if("filter"!==i&&i in t)return Ss[e]=i;i=Object(r["f"])(i);for(let r=0;r<Ts.length;r++){const n=Ts[r]+i;if(n in t)return Ss[e]=n}return e}const Cs="http://www.w3.org/1999/xlink";function Es(t,e,n,i){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(Cs,e.slice(6,e.length)):t.setAttributeNS(Cs,e,n);else{const i=Object(r["z"])(e);null==n||i&&!1===n?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function As(t,e,n,r,i,s,o){if("innerHTML"===e||"textContent"===e)return r&&o(r,i,s),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName){if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch(a){0}}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}let Ms=Date.now,Ns=!1;if("undefined"!==typeof window){Ms()>document.createEvent("Event").timeStamp&&(Ms=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Ns=!!(t&&Number(t[1])<=53)}let js=0;const Is=Promise.resolve(),Ps=()=>{js=0},Ls=()=>js||(Is.then(Ps),js=Ms());function Ds(t,e,n,r){t.addEventListener(e,n,r)}function Fs(t,e,n,r){t.removeEventListener(e,n,r)}function Bs(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[n,a]=Vs(e);if(r){const o=s[e]=Hs(r,i);Ds(t,n,o,a)}else o&&(Fs(t,n,o,a),s[e]=void 0)}}const Rs=/(?:Once|Passive|Capture)$/;function Vs(t){let e;if(Rs.test(t)){let n;e={};while(n=t.match(Rs))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[Object(r["k"])(t.slice(2)),e]}function Hs(t,e){const n=t=>{const r=t.timeStamp||Ms();(Ns||r>=n.attached-1)&&Zt(qs(t,n.value),e,5,[t])};return n.value=t,n.attached=Ls(),n}function qs(t,e){if(Object(r["m"])(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(t=>e=>!e._stopped&&t(e))}return e}const zs=/^on[a-z]/,Ws=(t,e)=>"value"===e,Gs=(t,e,n,i,s=!1,o,a,c,l)=>{switch(e){case"class":_s(t,i,s);break;case"style":ws(t,n,i);break;default:Object(r["u"])(e)?Object(r["s"])(e)||Bs(t,e,n,i,a):Us(t,e,i,s)?As(t,e,i,o,a,c,l):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),Es(t,e,i,s));break}};function Us(t,e,n,i){return i?"innerHTML"===e||!!(e in t&&zs.test(e)&&Object(r["n"])(n)):"spellcheck"!==e&&"draggable"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!zs.test(e)||!Object(r["A"])(n))&&e in t))))}function Ys(t="$style"){{const e=Bi();if(!e)return r["b"];const n=e.type.__cssModules;if(!n)return r["b"];const i=n[t];return i||r["b"]}}function $s(t){const e=Bi();if(!e)return;const n=()=>Xs(e.subTree,t(e.proxy));bn(()=>On(n,{flush:"post"})),_n(n)}function Xs(t,e){if(128&t.shapeFlag){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Xs(n.activeBranch,e)})}while(t.component)t=t.component.subTree;if(1&t.shapeFlag&&t.el){const n=t.el.style;for(const t in e)n.setProperty("--"+t,e[t])}else t.type===Wr&&t.children.forEach(t=>Xs(t,e))}const Ks="transition",Zs="animation",Qs=(t,{slots:e})=>os(Ln,eo(t),e);Qs.displayName="Transition";const Js={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},to=Qs.props=Object(r["h"])({},Ln.props,Js);function eo(t){let{name:e="v",type:n,css:i=!0,duration:s,enterFromClass:o=e+"-enter-from",enterActiveClass:a=e+"-enter-active",enterToClass:c=e+"-enter-to",appearFromClass:l=o,appearActiveClass:u=a,appearToClass:h=c,leaveFromClass:d=e+"-leave-from",leaveActiveClass:p=e+"-leave-active",leaveToClass:f=e+"-leave-to"}=t;const m={};for(const r in t)r in Js||(m[r]=t[r]);if(!i)return m;const g=no(s),v=g&&g[0],b=g&&g[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:w,onLeave:x,onLeaveCancelled:k,onBeforeAppear:T=y,onAppear:S=_,onAppearCancelled:O=w}=m,C=(t,e,n)=>{so(t,e?h:c),so(t,e?u:a),n&&n()},E=(t,e)=>{so(t,f),so(t,p),e&&e()},A=t=>(e,r)=>{const i=t?S:_,s=()=>C(e,t,r);i&&i(e,s),oo(()=>{so(e,t?l:o),io(e,t?h:c),i&&i.length>1||co(e,n,v,s)})};return Object(r["h"])(m,{onBeforeEnter(t){y&&y(t),io(t,o),io(t,a)},onBeforeAppear(t){T&&T(t),io(t,l),io(t,u)},onEnter:A(!1),onAppear:A(!0),onLeave(t,e){const r=()=>E(t,e);io(t,d),po(),io(t,p),oo(()=>{so(t,d),io(t,f),x&&x.length>1||co(t,n,b,r)}),x&&x(t,r)},onEnterCancelled(t){C(t,!1),w&&w(t)},onAppearCancelled(t){C(t,!0),O&&O(t)},onLeaveCancelled(t){E(t),k&&k(t)}})}function no(t){if(null==t)return null;if(Object(r["t"])(t))return[ro(t.enter),ro(t.leave)];{const e=ro(t);return[e,e]}}function ro(t){const e=Object(r["K"])(t);return e}function io(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t._vtc||(t._vtc=new Set)).add(e)}function so(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.remove(e));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function oo(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ao=0;function co(t,e,n,r){const i=t._endId=++ao,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:c}=lo(t,e);if(!o)return r();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,d),s()},d=e=>{e.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,d)}function lo(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r(Ks+"Delay"),s=r(Ks+"Duration"),o=uo(i,s),a=r(Zs+"Delay"),c=r(Zs+"Duration"),l=uo(a,c);let u=null,h=0,d=0;e===Ks?o>0&&(u=Ks,h=o,d=s.length):e===Zs?l>0&&(u=Zs,h=l,d=c.length):(h=Math.max(o,l),u=h>0?o>l?Ks:Zs:null,d=u?u===Ks?s.length:c.length:0);const p=u===Ks&&/\b(transform|all)(,|$)/.test(n[Ks+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:p}}function uo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map((e,n)=>ho(e)+ho(t[n])))}function ho(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function po(){return document.body.offsetHeight}const fo=new WeakMap,mo=new WeakMap,go={name:"TransitionGroup",props:Object(r["h"])({},to,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Bi(),r=jn();let i,s;return _n(()=>{if(!i.length)return;const e=t.moveClass||(t.name||"v")+"-move";if(!wo(i[0].el,n.vnode.el,e))return;i.forEach(bo),i.forEach(yo);const r=i.filter(_o);po(),r.forEach(t=>{const n=t.el,r=n.style;io(n,e),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,so(n,e))};n.addEventListener("transitionend",i)})}),()=>{const o=Tt(t),a=eo(o),c=o.tag||Wr;i=s,s=e.default?Hn(e.default()):[];for(let t=0;t<s.length;t++){const e=s[t];null!=e.key&&Vn(e,Fn(e,a,r,n))}if(i)for(let t=0;t<i.length;t++){const e=i[t];Vn(e,Fn(e,a,r,n)),fo.set(e,e.el.getBoundingClientRect())}return ci(c,null,s)}}},vo=go;function bo(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function yo(t){mo.set(t,t.el.getBoundingClientRect())}function _o(t){const e=fo.get(t),n=mo.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${r}px,${i}px)`,e.transitionDuration="0s",t}}function wo(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(t=>{t.split(/\s+/).forEach(t=>t&&r.classList.remove(t))}),n.split(/\s+/).forEach(t=>t&&r.classList.add(t)),r.style.display="none";const i=1===e.nodeType?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=lo(r);return i.removeChild(r),s}const xo=t=>{const e=t.props["onUpdate:modelValue"];return Object(r["m"])(e)?t=>Object(r["l"])(e,t):e};function ko(t){t.target.composing=!0}function To(t){const e=t.target;e.composing&&(e.composing=!1,So(e,"input"))}function So(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Oo={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=xo(s);const o=i||"number"===t.type;Ds(t,e?"change":"input",e=>{if(e.target.composing)return;let i=t.value;n?i=i.trim():o&&(i=Object(r["K"])(i)),t._assign(i)}),n&&Ds(t,"change",()=>{t.value=t.value.trim()}),e||(Ds(t,"compositionstart",ko),Ds(t,"compositionend",To),Ds(t,"change",To))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:i}},s){if(t._assign=xo(s),t.composing)return;if(document.activeElement===t){if(n&&t.value.trim()===e)return;if((i||"number"===t.type)&&Object(r["K"])(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},Co={created(t,e,n){t._assign=xo(n),Ds(t,"change",()=>{const e=t._modelValue,n=jo(t),i=t.checked,s=t._assign;if(Object(r["m"])(e)){const t=Object(r["D"])(e,n),o=-1!==t;if(i&&!o)s(e.concat(n));else if(!i&&o){const n=[...e];n.splice(t,1),s(n)}}else if(Object(r["y"])(e)){const t=new Set(e);i?t.add(n):t.delete(n),s(t)}else s(Io(t,i))})},mounted:Eo,beforeUpdate(t,e,n){t._assign=xo(n),Eo(t,e,n)}};function Eo(t,{value:e,oldValue:n},i){t._modelValue=e,Object(r["m"])(e)?t.checked=Object(r["D"])(e,i.props.value)>-1:Object(r["y"])(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=Object(r["C"])(e,Io(t,!0)))}const Ao={created(t,{value:e},n){t.checked=Object(r["C"])(e,n.props.value),t._assign=xo(n),Ds(t,"change",()=>{t._assign(jo(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=xo(i),e!==n&&(t.checked=Object(r["C"])(e,i.props.value))}},Mo={created(t,{value:e,modifiers:{number:n}},i){const s=Object(r["y"])(e);Ds(t,"change",()=>{const e=Array.prototype.filter.call(t.options,t=>t.selected).map(t=>n?Object(r["K"])(jo(t)):jo(t));t._assign(t.multiple?s?new Set(e):e:e[0])}),t._assign=xo(i)},mounted(t,{value:e}){No(t,e)},beforeUpdate(t,e,n){t._assign=xo(n)},updated(t,{value:e}){No(t,e)}};function No(t,e){const n=t.multiple;if(!n||Object(r["m"])(e)||Object(r["y"])(e)){for(let i=0,s=t.options.length;i<s;i++){const s=t.options[i],o=jo(s);if(n)Object(r["m"])(e)?s.selected=Object(r["D"])(e,o)>-1:s.selected=e.has(o);else if(Object(r["C"])(jo(s),e))return void(t.selectedIndex=i)}n||(t.selectedIndex=-1)}}function jo(t){return"_value"in t?t._value:t.value}function Io(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Po={created(t,e,n){Lo(t,e,n,null,"created")},mounted(t,e,n){Lo(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Lo(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Lo(t,e,n,r,"updated")}};function Lo(t,e,n,r,i){let s;switch(t.tagName){case"SELECT":s=Mo;break;case"TEXTAREA":s=Oo;break;default:switch(n.props&&n.props.type){case"checkbox":s=Co;break;case"radio":s=Ao;break;default:s=Oo}}const o=s[i];o&&o(t,e,n,r)}const Do=["ctrl","shift","alt","meta"],Fo={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Do.some(n=>t[n+"Key"]&&!e.includes(n))},Bo=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=Fo[e[t]];if(r&&r(n,e))return}return t(n,...r)},Ro={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vo=(t,e)=>n=>{if(!("key"in n))return;const i=Object(r["k"])(n.key);return e.some(t=>t===i||Ro[t]===i)?t(n):void 0},Ho={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):qo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!==!n&&(r?e?(r.beforeEnter(t),qo(t,!0),r.enter(t)):r.leave(t,()=>{qo(t,!1)}):qo(t,e))},beforeUnmount(t,{value:e}){qo(t,e)}};function qo(t,e){t.style.display=e?t._vod:"none"}const zo=Object(r["h"])({patchProp:Gs,forcePatchProp:Ws},ys);let Wo,Go=!1;function Uo(){return Wo||(Wo=xr(zo))}function Yo(){return Wo=Go?Wo:kr(zo),Go=!0,Wo}const $o=(...t)=>{Uo().render(...t)},Xo=(...t)=>{Yo().hydrate(...t)},Ko=(...t)=>{const e=Uo().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=Qo(t);if(!i)return;const s=e._component;Object(r["n"])(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},Zo=(...t)=>{const e=Yo().createApp(...t);const{mount:n}=e;return e.mount=t=>{const e=Qo(t);if(e)return n(e,!0,e instanceof SVGElement)},e};function Qo(t){if(Object(r["A"])(t)){const e=document.querySelector(t);return e}return t}const Jo=()=>{0}},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7c73":function(t,e,n){var r,i=n("825a"),s=n("37e8"),o=n("7839"),a=n("d012"),c=n("1be4"),l=n("cc12"),u=n("f772"),h=">",d="<",p="prototype",f="script",m=u("IE_PROTO"),g=function(){},v=function(t){return d+f+h+t+d+"/"+f+h},b=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){var t,e=l("iframe"),n="java"+f+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}_=r?b(r):y();var t=o.length;while(t--)delete _[p][o[t]];return _()};a[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[p]=i(t),n=new g,g[p]=null,n[m]=t):n=_(),void 0===e?n:s(n,e)}},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),i=n("9ed3"),s=n("e163"),o=n("d2bb"),a=n("d44e"),c=n("9112"),l=n("6eeb"),u=n("b622"),h=n("c430"),d=n("3f8c"),p=n("ae93"),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",b="values",y="entries",_=function(){return this};t.exports=function(t,e,n,u,p,w,x){i(n,e,u);var k,T,S,O=function(t){if(t===p&&N)return N;if(!m&&t in A)return A[t];switch(t){case v:return function(){return new n(this,t)};case b:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this)}},C=e+" Iterator",E=!1,A=t.prototype,M=A[g]||A["@@iterator"]||p&&A[p],N=!m&&M||O(p),j="Array"==e&&A.entries||M;if(j&&(k=s(j.call(new t)),f!==Object.prototype&&k.next&&(h||s(k)===f||(o?o(k,f):"function"!=typeof k[g]&&c(k,g,_)),a(k,C,!0,!0),h&&(d[C]=_))),p==b&&M&&M.name!==b&&(E=!0,N=function(){return M.call(this)}),h&&!x||A[g]===N||c(A,g,N),d[e]=N,p)if(T={values:O(b),keys:w?N:O(v),entries:O(y)},x)for(S in T)(m||E||!(S in A))&&l(A,S,T[S]);else r({target:e,proto:!0,forced:m||E},T);return T}},"7ec3":function(t,e,n){var r=n("2c7f"),i={};(function(){"use strict";var t,e;i.startAnimation=function(n,i,s){function o(t){for(var e=0;e<t.length;e++){var n=t[e];n.classList.contains("abcjs-bar")||(n.style.display="none")}}var a;function c(t){if(a){var e=n.querySelectorAll(a);o(e)}a=t}function l(t){var e=n.querySelectorAll(t);o(e)}function u(t){s.hideCurrentMeasure?l(t):s.hideFinishedMeasures&&c(t)}function h(t){return".abcjs-l"+t.line+".abcjs-m"+t.measureNumber}function d(n){if(n){if(n.measureStart){var r=h(n);r&&u(r)}e&&(e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.width=n.width+"px",e.style.height=n.height+"px")}else t.stop(),t=void 0}t&&(t.stop(),t=void 0),s.showCursor&&(e=n.querySelector(".abcjs-cursor"),e||(e=document.createElement("DIV"),e.className="abcjs-cursor cursor",e.style.position="absolute",n.appendChild(e),n.style.position="relative")),t=new r(i,{qpm:s.bpm,eventCallback:d}),t.start()},i.pauseAnimation=function(e){t&&(e?t.pause():t.start())},i.stopAnimation=function(){t&&(t.stop(),t=void 0)}})(),t.exports=i},"7f8d":function(t,e,n){var r=n("e8ab"),i=function(t,e){this.lineIndex=0,this.lines=t,this.multilineVars=e,this.skipWhiteSpace=function(t){for(var e=0;e<t.length;e++)if(!this.isWhiteSpace(t.charAt(e)))return e;return t.length};var n=function(t,e){return e>=t.length};this.eatWhiteSpace=function(t,e){for(var n=e;n<t.length;n++)if(!this.isWhiteSpace(t.charAt(n)))return n-e;return n-e},this.getKeyPitch=function(t){var e=this.skipWhiteSpace(t);if(n(t,e))return{len:0};switch(t.charAt(e)){case"A":return{len:e+1,token:"A"};case"B":return{len:e+1,token:"B"};case"C":return{len:e+1,token:"C"};case"D":return{len:e+1,token:"D"};case"E":return{len:e+1,token:"E"};case"F":return{len:e+1,token:"F"};case"G":return{len:e+1,token:"G"}}return{len:0}},this.getSharpFlat=function(t){if("bass"===t)return{len:0};switch(t.charAt(0)){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(t){var e=function(t,e){while(e<t.length&&(t.charAt(e)>="a"&&t.charAt(e)<="z"||t.charAt(e)>="A"&&t.charAt(e)<="Z"))e++;return e},r=this.skipWhiteSpace(t);if(n(t,r))return{len:0};var i=t.substring(r,r+3).toLowerCase();switch((i.length>1&&" "===i.charAt(1)||"^"===i.charAt(1)||"_"===i.charAt(1)||"="===i.charAt(1))&&(i=i.charAt(0)),i){case"mix":return{len:e(t,r),token:"Mix"};case"dor":return{len:e(t,r),token:"Dor"};case"phr":return{len:e(t,r),token:"Phr"};case"lyd":return{len:e(t,r),token:"Lyd"};case"loc":return{len:e(t,r),token:"Loc"};case"aeo":return{len:e(t,r),token:"m"};case"maj":return{len:e(t,r),token:""};case"ion":return{len:e(t,r),token:""};case"min":return{len:e(t,r),token:"m"};case"m":return{len:e(t,r),token:"m"}}return{len:0}},this.getClef=function(t,e){var i=t,s=this.skipWhiteSpace(t);if(n(t,s))return{len:0};var o=!1,a=t.substring(s);if(r.startsWith(a,"clef=")&&(o=!0,a=a.substring(5),s+=5),0===a.length&&o)return{len:s+5,warn:"No clef specified: "+i};var c=this.skipWhiteSpace(a);if(n(a,c))return{len:0};c>0&&(s+=c,a=a.substring(c));var l=null;if(r.startsWith(a,"treble"))l="treble";else if(r.startsWith(a,"bass3"))l="bass3";else if(r.startsWith(a,"bass"))l="bass";else if(r.startsWith(a,"tenor"))l="tenor";else if(r.startsWith(a,"alto2"))l="alto2";else if(r.startsWith(a,"alto1"))l="alto1";else if(r.startsWith(a,"alto"))l="alto";else if(!e&&o&&r.startsWith(a,"none"))l="none";else if(r.startsWith(a,"perc"))l="perc";else if(!e&&o&&r.startsWith(a,"C"))l="tenor";else if(!e&&o&&r.startsWith(a,"F"))l="bass";else{if(e||!o||!r.startsWith(a,"G"))return{len:s+5,warn:"Unknown clef specified: "+i};l="treble"}return a=a.substring(l.length),c=this.isMatch(a,"+8"),c>0?l+="+8":(c=this.isMatch(a,"-8"),c>0&&(l+="-8")),{len:s+l.length,token:l,explicit:o}},this.getBarLine=function(t,e){switch(t.charAt(e)){case"]":switch(++e,t.charAt(e)){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++e,t.charAt(e)>="1"&&t.charAt(e)<="9"||'"'===t.charAt(e)?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":switch(++e,t.charAt(e)){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++e,t.charAt(e)){case"]":switch(++e,t.charAt(e)){case"|":return++e,":"===t.charAt(e)?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}break;case"|":return++e,":"===t.charAt(e)?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}break;default:return{len:1,warn:"Unknown bar symbol"}}break;case"[":if(++e,"|"!==t.charAt(e))return t.charAt(e)>="1"&&t.charAt(e)<="9"||'"'===t.charAt(e)?{len:1,token:"bar_invisible"}:{len:0};switch(++e,t.charAt(e)){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}break;case"|":switch(++e,t.charAt(e)){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++e,":"===t.charAt(e)?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":var n=0;while(":"===t.charAt(e+n))n++;return{len:1+n,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}break}return{len:0}},this.getTokenOf=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t.charAt(n))<0)return{len:n,token:t.substring(0,n)};return{len:n,token:t}},this.getToken=function(t,e,n){var r=e;while(r<n&&!this.isWhiteSpace(t.charAt(r)))r++;return t.substring(e,r)},this.isMatch=function(t,e){var i=this.skipWhiteSpace(t);return n(t,i)?0:r.startsWith(t.substring(i),e)?i+e.length:0},this.getPitchFromTokens=function(t){var e={},n={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(e.position=n[t[0].token],void 0===e.position)return{warn:"Pitch expected. Found: "+t[0].token};t.shift();while(t.length)switch(t[0].token){case",":e.position-=7,t.shift();break;case"'":e.position+=7,t.shift();break;default:return e}return e},this.getKeyAccidentals2=function(t){var e;while(t.length>0){var n;if("^"===t[0].token){if(n="sharp",t.shift(),0===t.length)return{accs:e,warn:"Expected note name after "+n};switch(t[0].token){case"^":n="dblsharp",t.shift();break;case"/":n="quartersharp",t.shift();break}}else if("="===t[0].token)n="natural",t.shift();else{if("_"!==t[0].token)return{accs:e};if(n="flat",t.shift(),0===t.length)return{accs:e,warn:"Expected note name after "+n};switch(t[0].token){case"_":n="dblflat",t.shift();break;case"/":n="quarterflat",t.shift();break}}if(0===t.length)return{accs:e,warn:"Expected note name after "+n};switch(t[0].token.charAt(0)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":void 0===e&&(e=[]),e.push({acc:n,note:t[0].token.charAt(0)}),1===t[0].token.length?t.shift():t[0].token=t[0].token.substring(1);break;default:return{accs:e,warn:"Expected note name after "+n+" Found: "+t[0].token}}}return{accs:e}},this.getKeyAccidental=function(t){var e={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},r=this.skipWhiteSpace(t);if(n(t,r))return{len:0};var i=null;switch(t.charAt(r)){case"^":case"_":case"=":i=t.charAt(r);break;default:return{len:0}}if(r++,n(t,r))return{len:1,warn:"Expected note name after accidental"};switch(t.charAt(r)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:r+1,token:{acc:e[i],note:t.charAt(r)}};case"^":case"_":case"/":if(i+=t.charAt(r),r++,n(t,r))return{len:2,warn:"Expected note name after accidental"};switch(t.charAt(r)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:r+1,token:{acc:e[i],note:t.charAt(r)}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(t){return" "===t||"\t"===t||""===t},this.getMeat=function(t,e,n){var r=t.indexOf("%",e);r>=0&&r<n&&(n=r);while(e<n&&(" "===t.charAt(e)||"\t"===t.charAt(e)||""===t.charAt(e)))e++;while(e<n&&(" "===t.charAt(n-1)||"\t"===t.charAt(n-1)||""===t.charAt(n-1)))n--;return{start:e,end:n}};var i=function(t){return t>="A"&&t<="Z"||t>="a"&&t<="z"},s=function(t){return t>="0"&&t<="9"};this.tokenize=function(t,e,n,r){var o=this.getMeat(t,e,n);e=o.start,n=o.end;var a,c=[];while(e<n){if('"'===t.charAt(e)){a=e+1;while(a<n&&'"'!==t.charAt(a))a++;c.push({type:"quote",token:t.substring(e+1,a),start:e+1,end:a}),a++}else if(i(t.charAt(e))){if(a=e+1,r)while(a<n&&!this.isWhiteSpace(t.charAt(a)))a++;else while(a<n&&i(t.charAt(a)))a++;c.push({type:"alpha",token:t.substring(e,a),continueId:s(t.charAt(a)),start:e,end:a}),e=a+1}else if("."===t.charAt(e)&&s(t.charAt(a+1))){a=e+1;var l=null,u=null;while(a<n&&s(t.charAt(a)))a++;u=parseFloat(t.substring(e,a)),c.push({type:"number",token:t.substring(e,a),intt:l,floatt:u,continueId:i(t.charAt(a)),start:e,end:a}),e=a+1}else if(s(t.charAt(e))||"-"===t.charAt(e)&&s(t.charAt(a+1))){a=e+1;var h=null,d=null;while(a<n&&s(t.charAt(a)))a++;if("."===t.charAt(a)&&s(t.charAt(a+1))){a++;while(a<n&&s(t.charAt(a)))a++}else h=parseInt(t.substring(e,a));d=parseFloat(t.substring(e,a)),c.push({type:"number",token:t.substring(e,a),intt:h,floatt:d,continueId:i(t.charAt(a)),start:e,end:a}),e=a+1}else" "===t.charAt(e)||"\t"===t.charAt(e)||c.push({type:"punct",token:t.charAt(e),start:e,end:e+1}),a=e+1;e=a}return c},this.getVoiceToken=function(t,e,n){var r=e;while(r<n&&this.isWhiteSpace(t.charAt(r))||"="===t.charAt(r))r++;if('"'===t.charAt(r)){var i=t.indexOf('"',r+1);return-1===i||i>=n?{len:1,err:"Missing close quote"}:{len:i-e+1,token:this.translateString(t.substring(r+1,i))}}var s=r;while(s<n&&!this.isWhiteSpace(t.charAt(s))&&"="!==t.charAt(s))s++;return{len:s-e+1,token:t.substring(r,s)}};var o={"`a":"Ã ","'a":"Ã¡","^a":"Ã¢","~a":"Ã£",'"a':"Ã¤",oa:"Ã¥",aa:"Ã¥","=a":"Ä",ua:"Ä",";a":"Ä","`e":"Ã¨","'e":"Ã©","^e":"Ãª",'"e':"Ã«","=e":"Ä",ue:"Ä",";e":"Ä",".e":"Ä","`i":"Ã¬","'i":"Ã­","^i":"Ã®",'"i':"Ã¯","=i":"Ä«",ui:"Ä­",";i":"Ä¯","`o":"Ã²","'o":"Ã³","^o":"Ã´","~o":"Ãµ",'"o':"Ã¶","=o":"Å",uo:"Å","/o":"Ã¸","`u":"Ã¹","'u":"Ãº","^u":"Ã»","~u":"Å©",'"u':"Ã¼",ou:"Å¯","=u":"Å«",uu:"Å­",";u":"Å³","`A":"Ã","'A":"Ã","^A":"Ã","~A":"Ã",'"A':"Ã",oA:"Ã",AA:"Ã","=A":"Ä",uA:"Ä",";A":"Ä","`E":"Ã","'E":"Ã","^E":"Ã",'"E':"Ã","=E":"Ä",uE:"Ä",";E":"Ä",".E":"Ä","`I":"Ã","'I":"Ã","^I":"Ã","~I":"Ä¨",'"I':"Ã","=I":"Äª",uI:"Ä¬",";I":"Ä®",".I":"Ä°","`O":"Ã","'O":"Ã","^O":"Ã","~O":"Ã",'"O':"Ã","=O":"Å",uO:"Å","/O":"Ã","`U":"Ã","'U":"Ã","^U":"Ã","~U":"Å¨",'"U':"Ã",oU:"Å®","=U":"Åª",uU:"Å¬",";U":"Å²",ae:"Ã¦",AE:"Ã",oe:"Å",OE:"Å",ss:"Ã","'c":"Ä","^c":"Ä",uc:"Ä",cc:"Ã§",".c":"Ä",cC:"Ã","'C":"Ä","^C":"Ä",uC:"Ä",".C":"Ä","~N":"Ã","~n":"Ã±","=s":"Å¡",vs:"Å¡",DH:"Ã",dh:"Ã°",HO:"Å",Ho:"Å",HU:"Å°",Hu:"Å±","'Y":"Ã","'y":"Ã½","^Y":"Å¶","^y":"Å·",'"Y':"Å¸",'"y':"Ã¿",vS:"Å ",vZ:"Å½",vz:"Å¾"},a={"#":"â¯",b:"â­","=":"â®"},c={201:"â¯",202:"â­",203:"â®",241:"Â¡",242:"Â¢",252:"a",262:"2",272:"o",302:"Ã",312:"Ã",322:"Ã",332:"Ã",342:"Ã¢",352:"Ãª",362:"Ã²",372:"Ãº",243:"Â£",253:"Â«",263:"3",273:"Â»",303:"Ã",313:"Ã",323:"Ã",333:"Ã",343:"Ã£",353:"Ã«",363:"Ã³",373:"Ã»",244:"Â¤",254:"Â¬",264:"  Ì",274:"1â4",304:"Ã",314:"Ã",324:"Ã",334:"Ã",344:"Ã¤",354:"Ã¬",364:"Ã´",374:"Ã¼",245:"Â¥",255:"-",265:"Î¼",275:"1â2",305:"Ã",315:"Ã",325:"Ã",335:"Ã",345:"Ã¥",355:"Ã­",365:"Ãµ",375:"Ã½",246:"Â¦",256:"Â®",266:"Â¶",276:"3â4",306:"Ã",316:"Ã",326:"Ã",336:"Ã",346:"Ã¦",356:"Ã®",366:"Ã¶",376:"Ã¾",247:"Â§",257:" Ì",267:"Â·",277:"Â¿",307:"Ã",317:"Ã",327:"Ã",337:"Ã",347:"Ã§",357:"Ã¯",367:"Ã·",377:"Ã¿",250:" Ì",260:"Â°",270:" Ì§",300:"Ã",310:"Ã",320:"Ã",330:"Ã",340:"Ã ",350:"Ã¨",360:"Ã°",370:"Ã¸",251:"Â©",261:"Â±",271:"1",301:"Ã",311:"Ã",321:"Ã",331:"Ã",341:"Ã¡",351:"Ã©",361:"Ã±",371:"Ã¹"};this.translateString=function(t){var e=t.split("\\");if(1===e.length)return t;var n=null;return r.each(e,(function(t){if(null===n)n=t;else{var e=o[t.substring(0,2)];void 0!==e?n+=e+t.substring(2):(e=c[t.substring(0,3)],void 0!==e?n+=e+t.substring(3):(e=a[t.substring(0,1)],n+=void 0!==e?e+t.substring(1):"\\"+t))}})),n},this.getNumber=function(t,e){var n=0;while(e<t.length)switch(t.charAt(e)){case"0":n*=10,e++;break;case"1":n=10*n+1,e++;break;case"2":n=10*n+2,e++;break;case"3":n=10*n+3,e++;break;case"4":n=10*n+4,e++;break;case"5":n=10*n+5,e++;break;case"6":n=10*n+6,e++;break;case"7":n=10*n+7,e++;break;case"8":n=10*n+8,e++;break;case"9":n=10*n+9,e++;break;default:return{num:n,index:e}}return{num:n,index:e}},this.getFraction=function(t,e){var n=1,r=1;if("/"!==t.charAt(e)){var i=this.getNumber(t,e);n=i.num,e=i.index}if("/"===t.charAt(e)){if(e++,"/"===t.charAt(e)){var s=.5;while("/"===t.charAt(e++))s/=2;return{value:n*s,index:e-1}}var o=e,a=this.getNumber(t,e);0===a.num&&o===e&&(a.num=2),0!==a.num&&(r=a.num),e=a.index}return{value:n/r,index:e}},this.theReverser=function(t){return r.endsWith(t,", The")?"The "+t.substring(0,t.length-5):r.endsWith(t,", A")?"A "+t.substring(0,t.length-3):t},this.stripComment=function(t){var e=t.indexOf("%");return e>=0?r.strip(t.substring(0,e)):r.strip(t)},this.getInt=function(t){var e=parseInt(t);if(isNaN(e))return{digits:0};var n=""+e,r=t.indexOf(n);return{value:e,digits:r+n.length}},this.getFloat=function(t){var e=parseFloat(t);if(isNaN(e))return{digits:0};var n=""+e,r=t.indexOf(n);return{value:e,digits:r+n.length}},this.getMeasurement=function(t){if(0===t.length)return{used:0};var e=1,n="";if("-"===t[0].token)t.shift(),n="-",e++;else if("number"!==t[0].type)return{used:0};if(n+=t.shift().token,0===t.length)return{used:1,value:parseInt(n)};var r=t.shift();if("."===r.token){if(e++,0===t.length)return{used:e,value:parseInt(n)};if("number"===t[0].type&&(r=t.shift(),n=n+"."+r.token,e++,0===t.length))return{used:e,value:parseFloat(n)};r=t.shift()}switch(r.token){case"pt":return{used:e+1,value:parseFloat(n)};case"cm":return{used:e+1,value:parseFloat(n)/2.54*72};case"in":return{used:e+1,value:72*parseFloat(n)};default:return t.unshift(r),{used:e,value:parseFloat(n)}}return{used:0}};var l=function(t){while(-1!==t.indexOf("\\n"))t=t.replace("\\n","\n");return t};this.getBrackettedSubstring=function(t,e,n,r){var i=r||t.charAt(e),s=e+1;while(s<t.length&&t.charAt(s)!==i)++s;return t.charAt(s)===i?[s-e+1,l(t.substring(e+1,s)),!0]:(s=e+n,s>t.length-1&&(s=t.length-1),[s-e+1,l(t.substring(e+1,s)),!1])}};i.prototype.peekLine=function(){return this.lines[this.lineIndex]},i.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var t=this.lines[this.lineIndex];return this.lineIndex++,t}return null},t.exports=i},"7f9a":function(t,e,n){var r=n("da84"),i=n("8925"),s=r.WeakMap;t.exports="function"===typeof s&&/native code/.test(i(s))},"7fcd":function(t,e,n){var r=n("1ce3"),i=n("5cbe"),s=function(t,e,n,s){s||(s={});var o,a=void 0!==s.dir?s.dir:null,c=void 0!==s.headx?s.headx:0,l=void 0!==s.extrax?s.extrax:0,u=void 0!==s.flag?s.flag:null,h=void 0!==s.dot?s.dot:0,d=void 0!==s.dotshiftx?s.dotshiftx:0,p=void 0!==s.scale?s.scale:1,f=void 0!==s.accidentalSlot?s.accidentalSlot:[],m=void 0!==s.shouldExtendStem&&s.shouldExtendStem,g=void 0===s.printAccidentals||s.printAccidentals,v=n.verticalPos,b=0,y=0,_=0;if(void 0===e)t.addFixed(new i("pitch is undefined",0,0,0,{type:"debug"}));else if(""===e)o=new i(null,0,0,v);else{var w=c;if(n.printer_shift){var x="same"===n.printer_shift?1:0;w="down"===a?-r.getSymbolWidth(e)*p+x:r.getSymbolWidth(e)*p-x}var k={scalex:p,scaley:p,thickness:r.symbolHeightInPitches(e)*p};if(o=new i(e,w,r.getSymbolWidth(e)*p,v,k),o.stemDir=a,u){var T=v+("down"===a?-7:7)*p;m&&("down"===a&&T>6&&(T=6),"up"===a&&T<6&&(T=6));var S="down"===a?c:c+o.w-.6;t.addRight(new i(u,S,r.getSymbolWidth(u)*p,T,{scalex:p,scaley:p}))}for(y=o.w+d-2+5*h;h>0;h--){var O=1-Math.abs(v)%2;t.addRight(new i("dots.dot",o.w+d-2+5*h,r.getSymbolWidth("dots.dot"),v+O))}}if(o&&(o.highestVert=n.highestVert),g&&n.accidental){var C;switch(n.accidental){case"quartersharp":C="accidentals.halfsharp";break;case"dblsharp":C="accidentals.dblsharp";break;case"sharp":C="accidentals.sharp";break;case"quarterflat":C="accidentals.halfflat";break;case"flat":C="accidentals.flat";break;case"dblflat":C="accidentals.dblflat";break;case"natural":C="accidentals.nat"}for(var E=!1,A=l,M=0;M<f.length;M++)if(v-f[M][0]>=6){f[M][0]=v,A=f[M][1],E=!0;break}!1===E&&(A-=r.getSymbolWidth(C)*p+2,f.push([v,A]),b=r.getSymbolWidth(C)*p+2);var N=r.symbolHeightInPitches(C);t.addExtra(new i(C,A,r.getSymbolWidth(C),v,{scalex:p,scaley:p,top:v+N/2,bottom:v-N/2})),_=r.getSymbolWidth(C)/2}return{notehead:o,accidentalshiftx:b,dotshiftx:y,extraLeft:_}};t.exports=s},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},8370:function(t,e){var n='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">\n    <g>\n    <polygon points="4 0 23 12.5 4 25"/>\n    </g>\n</svg>\n';t.exports=n},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),s=n("5c6c");t.exports=function(t,e,n){var o=r(e);o in t?i.f(t,o,s(0,n)):t[o]=n}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"88fc":function(t,e,n){var r=n("384c"),i=n("17d5");function s(t,e){if(0!==e.beams.length){for(var n="",i=0;i<e.beams.length;i++){var s=e.beams[i];if(s.split){for(var l=a(t,s.startX,s.startY,s.endX,s.endY),u=[],h=0;h<s.split.length;h+=2)u.push([s.split[h],s.split[h+1]]);for(h=0;h<u.length;h++){var d=c(s.startX,s.startY,l,u[h][0]),p=c(s.startX,s.startY,l,u[h][1]);n+=o(t,u[h][0],d,u[h][1],p,s.dy)}}else n+=o(t,s.startX,s.startY,s.endX,s.endY,s.dy)}var f=("abcjs-d"+e.duration).replace(/\./g,"-"),m=t.controller.classes.generate("beam-elem "+f),g=r(t,{path:n,stroke:"none",fill:t.foregroundColor,class:m});return[g]}}function o(t,e,n,r,s,o){n=i(t.calcY(n)),s=i(t.calcY(s)),e=i(e),r=i(r);var a=i(n+o),c=i(s+o);return"M"+e+" "+n+" L"+r+" "+s+"L"+r+" "+c+" L"+e+" "+a+"z"}function a(t,e,n,r,i){return(i-n)/(r-e)}function c(t,e,n,r){var i=r-t;return e+i*n}t.exports=s},8925:function(t,e,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"8ba4":function(t,e,n){var r=n("23e7"),i=n("5e89");r({target:"Number",stat:!0},{isInteger:i})},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9106:function(t,e,n){var r=n("1c33"),i=n("1ce3"),s=n("c076");function o(t,e,n,o,c,l,u){var h,d;if(!o)return null;if(o.length>1&&o.indexOf(".")<0){t.paper.openGroup({klass:u});for(var p=0,f=0;f<o.length;f++){var m=o.charAt(f);d=i.getYCorr(m),h=i.printSymbol(e+p,t.calcY(n+d),m,t.paper,"","none",t.foregroundColor),h?f<o.length-1&&(p+=a(m,o.charAt(f+1),i.getSymbolWidth(m))):r(t,{x:e,y:t.y,text:"no symbol:"+o,type:"debugfont",klass:"debug-msg",anchor:"start"})}var g=t.paper.closeGroup();return g}if(d=i.getYCorr(o),s.isInGroup())s.addPath(i.getPathForSymbol(e,t.calcY(n+d),o,c,l));else{if(h=i.printSymbol(e,t.calcY(n+d),o,t.paper,u,"none",t.foregroundColor),h)return h;r(t,{x:e,y:t.y,text:"no symbol:"+o,type:"debugfont",klass:"debug-msg",anchor:"start"})}return null}function a(t,e,n){var r=n;return"f"===t&&"f"===e&&(r=2*r/3),"p"===t&&"p"===e&&(r=5*r/6),"f"===t&&"z"===e&&(r=5*r/8),r}t.exports=o},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),s=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),s=n("5692"),o=RegExp.prototype.exec,a=s("native-string-replace",String.prototype.replace),c=o,l=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],d=l||h||u;d&&(c=function(t){var e,n,i,s,c=this,d=u&&c.sticky,p=r.call(c),f=c.source,m=0,g=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),n=new RegExp("^(?:"+f+")",p)),h&&(n=new RegExp("^"+f+"$(?!\\s)",p)),l&&(e=c.lastIndex),i=o.call(d?n:c,g),d?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:l&&i&&(c.lastIndex=c.global?i.index+i[0].length:e),h&&i&&i.length>1&&a.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=c},"92be":function(t,e,n){var r=n("0188"),i=n("3306"),s=function(t,e){var n={};if(e)for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);function o(t,e,r){var s=i(e,n);switch(n.midiOutputType){case"encoded":return s;case"binary":var o=s.replace("data:audio/midi,","");o=o.replace(/MThd/g,"%4d%54%68%64"),o=o.replace(/MTrk/g,"%4d%54%72%6b");for(var c=new ArrayBuffer(o.length/3),l=new Uint8Array(c),u=0;u<o.length/3;u++){var h=3*u+1,d=parseInt(o.substring(h,h+2),16);l[u]=d}return l;case"link":default:return a(e,n,s,r)}}return n.generateInline=!1,"string"===typeof t?r.renderEngine(o,"*",t,n):o(null,t,0)};function o(t){var e={};return t&&"[object Function]"===e.toString.call(t)}var a=function(t,e,n,r){var i=["abcjs-download-midi","abcjs-midi-"+r];e.downloadClass&&i.push(e.downloadClass);var s='<div class="'+i.join(" ")+'">';e.preTextDownload&&(s+=e.preTextDownload);var a,c=t.metaText&&t.metaText.title?t.metaText.title:"Untitled";a=e.downloadLabel&&o(e.downloadLabel)?e.downloadLabel(t,r):e.downloadLabel?e.downloadLabel.replace(/%T/,c):'Download MIDI for "'+c+'"',c=c.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var l=e.fileName?e.fileName:c+".midi";return s+='<a download="'+l+'" href="'+n+'">'+a+"</a>",e.postTextDownload&&(s+=e.postTextDownload),s+"</div>"};t.exports=s},9319:function(t,e,n){"use strict";var r=n("7a23"),i=n("0393");const s={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",emptyMessage:"No available options"},filterMatchModeOptions:{text:[i["a"].STARTS_WITH,i["a"].CONTAINS,i["a"].NOT_CONTAINS,i["a"].ENDS_WITH,i["a"].EQUALS,i["a"].NOT_EQUALS],numeric:[i["a"].EQUALS,i["a"].NOT_EQUALS,i["a"].LESS_THAN,i["a"].LESS_THAN_OR_EQUAL_TO,i["a"].GREATER_THAN,i["a"].GREATER_THAN_OR_EQUAL_TO],date:[i["a"].DATE_IS,i["a"].DATE_IS_NOT,i["a"].DATE_BEFORE,i["a"].DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},o=Symbol();var a={install:(t,e)=>{let n=e?{...s,...e}:{...s};const i={config:Object(r["reactive"])(n)};t.config.globalProperties.$primevue=i,t.provide(o,i)}};e["a"]=a},"936f":function(t){t.exports=JSON.parse('{"A6":"A6.mp3","Ab2":"Ab2.mp3","A7":"A7.mp3","A5":"A5.mp3","A4":"A4.mp3","A1":"A1.mp3","A3":"A3.mp3","Ab1":"Ab1.mp3","A2":"A2.mp3","A0":"A0.mp3","Ab3":"Ab3.mp3","B1":"B1.mp3","Ab6":"Ab6.mp3","Ab4":"Ab4.mp3","B3":"B3.mp3","B0":"B0.mp3","B2":"B2.mp3","Ab5":"Ab5.mp3","B4":"B4.mp3","Ab7":"Ab7.mp3","B5":"B5.mp3","B6":"B6.mp3","B7":"B7.mp3","Bb4":"Bb4.mp3","Bb6":"Bb6.mp3","Bb2":"Bb2.mp3","Bb1":"Bb1.mp3","Bb5":"Bb5.mp3","Bb3":"Bb3.mp3","Bb0":"Bb0.mp3","C1":"C1.mp3","Bb7":"Bb7.mp3","C2":"C2.mp3","C5":"C5.mp3","C7":"C7.mp3","C6":"C6.mp3","D1":"D1.mp3","C8":"C8.mp3","C3":"C3.mp3","D2":"D2.mp3","D3":"D3.mp3","D4":"D4.mp3","C4":"C4.mp3","D5":"D5.mp3","Db5":"Db5.mp3","Db6":"Db6.mp3","Db7":"Db7.mp3","Db1":"Db1.mp3","E1":"E1.mp3","D6":"D6.mp3","Db3":"Db3.mp3","Db4":"Db4.mp3","Db2":"Db2.mp3","D7":"D7.mp3","E7":"E7.mp3","E2":"E2.mp3","E5":"E5.mp3","Eb3":"Eb3.mp3","Eb4":"Eb4.mp3","E4":"E4.mp3","E6":"E6.mp3","E3":"E3.mp3","Eb1":"Eb1.mp3","Eb2":"Eb2.mp3","Eb5":"Eb5.mp3","Eb7":"Eb7.mp3","F2":"F2.mp3","F1":"F1.mp3","Eb6":"Eb6.mp3","F3":"F3.mp3","F5":"F5.mp3","F6":"F6.mp3","F7":"F7.mp3","F4":"F4.mp3","G1":"G1.mp3","G4":"G4.mp3","G2":"G2.mp3","G5":"G5.mp3","G3":"G3.mp3","G6":"G6.mp3","Gb2":"Gb2.mp3","G7":"G7.mp3","Gb3":"Gb3.mp3","Gb1":"Gb1.mp3","Gb4":"Gb4.mp3","Gb5":"Gb5.mp3","Gb7":"Gb7.mp3","Gb6":"Gb6.mp3"}')},"93c6":function(t,e){var n=function(t,e,n){this.type="EndingElem",this.text=t,this.anchor1=e,this.anchor2=n,this.endingHeightAbove=5,this.pitch=void 0};t.exports=n},"94ca":function(t,e,n){var r=n("d039"),i=/#|\.prototype\./,s=function(t,e){var n=a[o(t)];return n==l||n!=c&&("function"==typeof e?r(e):!!e)},o=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},9514:function(t,e,n){var r=n("1c33"),i=n("62c6"),s=n("7841"),o=n("9106");function a(t,e,n){void 0===e.pitch&&window.console.error(e.type+" Relative Element y-coordinate not set.");var a=t.calcY(e.pitch);switch(e.type){case"symbol":if(null===e.c)return null;var l="symbol";e.klass&&(l+=" "+e.klass),e.graphelem=o(t,e.x,e.pitch,e.c,e.scalex,e.scaley,t.controller.classes.generate(l),"none",t.foregroundColor);break;case"debug":e.graphelem=r(t,{x:e.x,y:t.calcY(15),text:""+e.c,type:"debugfont",klass:t.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:e.dim});break;case"barNumber":e.graphelem=r(t,{x:e.x,y:a,text:""+e.c,type:"measurefont",klass:t.controller.classes.generate("bar-number"),anchor:"middle",dim:e.dim});break;case"lyric":e.graphelem=r(t,{x:e.x,y:a,text:e.c,type:"vocalfont",klass:t.controller.classes.generate("lyric"),anchor:"middle",dim:e.dim});break;case"chord":e.graphelem=r(t,{x:e.x,y:a,text:e.c,type:"gchordfont",klass:t.controller.classes.generate("chord"),anchor:"middle",dim:e.dim,lane:e.getLane()});break;case"decoration":e.graphelem=r(t,{x:e.x,y:a+6,text:e.c,type:"annotationfont",klass:t.controller.classes.generate("annotation"),anchor:"middle",centerVertically:!0,dim:e.dim});break;case"text":e.graphelem=r(t,{x:e.x,y:a,text:e.c,type:"annotationfont",klass:t.controller.classes.generate("annotation"),anchor:"start",centerVertically:e.centerVertically,dim:e.dim,lane:e.getLane()});break;case"multimeasure-text":e.graphelem=r(t,{x:e.x+e.w/2,y:a,text:e.c,type:"tempofont",klass:t.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:e.dim});break;case"part":e.graphelem=r(t,{x:e.x,y:a,text:e.c,type:"partsfont",klass:t.controller.classes.generate("part"),anchor:"start",dim:e.dim});break;case"bar":e.graphelem=i(t,e.x,e.linewidth,a,n||t.calcY(e.pitch2));break;case"stem":e.graphelem=i(t,e.x,e.linewidth,a,t.calcY(e.pitch2));break;case"ledger":e.graphelem=s(t,e.x,e.x+e.w,e.pitch,t.controller.classes.generate("ledger"));break}return 1!==e.scalex&&e.graphelem&&c(t.paper,e.graphelem,e.scalex,e.scaley,e.x,a),e.graphelem}function c(t,e,n,r,i,s){t.setAttributeOnElement(e,{style:"transform:scale("+n+","+r+");transform-origin:"+i+"px "+s+"px;"})}t.exports=a},"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,s=Object.create(i.prototype),o=new A(r||[]);return s._invoke=S(t,n,o),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",m={};function g(){}function v(){}function b(){}var y={};y[s]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(M([])));w&&w!==n&&r.call(w,s)&&(y=w);var x=b.prototype=g.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,s,o,a){var c=u(t[i],t,s);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,a)}))}a(c.arg)}var i;function s(t,r){function s(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(s,s):s()}this._invoke=s}function S(t,e,n){var r=h;return function(i,s){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw s;return N()}n.method=i,n.arg=s;while(1){var o=n.delegate;if(o){var a=O(o,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?f:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function M(t){if(t){var n=t[s];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){while(++i<t.length)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:e,done:!0}}return v.prototype=x.constructor=b,b.constructor=v,v.displayName=c(b,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,a,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(T.prototype),T.prototype[o]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,i,s){void 0===s&&(s=Promise);var o=new T(l(e,n,r,i),s);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(x),c(x,a,"Generator"),x[s]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"96f2":function(t,e,n){var r=n("353e"),i=n("1c33");function s(t,e,n){for(var s=0;s<e.rows.length;s++){var o=e.rows[s];if(o.move)t.moveY(o.move);else if(o.text){var a=o.left?o.left:0,c=i(t,{x:a,y:t.y,text:o.text,type:o.font,klass:o.klass,anchor:o.anchor});o.absElemType&&n.wrapSvgEl({el_type:o.absElemType,startChar:-1,endChar:-1,text:o.text},c)}else if(o.separator)r(t,o.separator);else if(o.startGroup)t.paper.openGroup({klass:o.klass});else if(o.endGroup){var l=t.paper.closeGroup();o.absElemType&&n.wrapSvgEl({el_type:o.absElemType,startChar:-1,endChar:-1,text:""},l)}}}t.exports=s},9856:function(t,e,n){var r=n("2e42"),i=n("1ce3"),s=n("5cbe"),o=function(t,e){t.el_type="timeSignature";var n=new r(t,0,10,"staff-extra time-signature",e);if("specified"===t.type)for(var o=0,a=0;a<t.value.length;a++)if(0!==a&&(n.addRight(new s("+",o+1,i.getSymbolWidth("+"),6,{thickness:i.symbolHeightInPitches("+")})),o+=i.getSymbolWidth("+")+2),t.value[a].den){for(var c=0,l=0;l<t.value[a].num.length;l++)c+=i.getSymbolWidth(t.value[a].num.charAt(l));var u=0;for(l=0;l<t.value[a].num.length;l++)u+=i.getSymbolWidth(t.value[a].den.charAt(l));var h=Math.max(c,u);n.addRight(new s(t.value[a].num,o+(h-c)/2,c,8,{thickness:i.symbolHeightInPitches(t.value[a].num.charAt(0))})),n.addRight(new s(t.value[a].den,o+(h-u)/2,u,4,{thickness:i.symbolHeightInPitches(t.value[a].den.charAt(0))})),o+=h}else{for(var d=0,p=0;p<t.value[a].num.length;p++)d+=i.getSymbolWidth(t.value[a].num.charAt(p));n.addRight(new s(t.value[a].num,o,d,6,{thickness:i.symbolHeightInPitches(t.value[a].num.charAt(0))})),o+=d}else"common_time"===t.type?n.addRight(new s("timesig.common",0,i.getSymbolWidth("timesig.common"),6,{thickness:i.symbolHeightInPitches("timesig.common")})):"cut_time"===t.type?n.addRight(new s("timesig.cut",0,i.getSymbolWidth("timesig.cut"),6,{thickness:i.symbolHeightInPitches("timesig.cut")})):"tempus_imperfectum"===t.type?n.addRight(new s("timesig.imperfectum",0,i.getSymbolWidth("timesig.imperfectum"),6,{thickness:i.symbolHeightInPitches("timesig.imperfectum")})):"tempus_imperfectum_prolatio"===t.type?n.addRight(new s("timesig.imperfectum2",0,i.getSymbolWidth("timesig.imperfectum2"),6,{thickness:i.symbolHeightInPitches("timesig.imperfectum2")})):"tempus_perfectum"===t.type?n.addRight(new s("timesig.perfectum",0,i.getSymbolWidth("timesig.perfectum"),6,{thickness:i.symbolHeightInPitches("timesig.perfectum")})):"tempus_perfectum_prolatio"===t.type?n.addRight(new s("timesig.perfectum2",0,i.getSymbolWidth("timesig.perfectum2"),6,{thickness:i.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",t);return n};t.exports=o},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),s=n("e8b5"),o=n("861d"),a=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),h=n("1dde"),d=n("b622"),p=n("2d00"),f=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=h("concat"),y=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},_=!v||!b;r({target:"Array",proto:!0,forced:_},{concat:function(t){var e,n,r,i,s,o=a(this),h=u(o,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?o:arguments[e],y(s)){if(i=c(s.length),d+i>m)throw TypeError(g);for(n=0;n<i;n++,d++)n in s&&l(h,d,s[n])}else{if(d>=m)throw TypeError(g);l(h,d++,s)}return h.length=d,h}})},"9bdd":function(t,e,n){var r=n("825a"),i=n("2a62");t.exports=function(t,e,n,s){try{return s?e(r(n)[0],n[1]):e(n)}catch(o){throw i(t),o}}},"9bf2":function(t,e,n){var r=n("83ab"),i=n("0cfb"),s=n("825a"),o=n("c04e"),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(s(t),e=o(e,!0),s(n),i)try{return a(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),s=n("5c6c"),o=n("d44e"),a=n("3f8c"),c=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:s(1,n)}),o(t,l,!1,!0),a[l]=c,t}},"9f79":function(t,e,n){var r=n("c352"),i=n("384c"),s=n("17d5");function o(t,e,n){void 0===e.pitch&&window.console.error("Crescendo Element y-coordinate not set.");var r,i=t.calcY(e.pitch)+4,s=8,o=e.anchor1?e.anchor1.x:0,c=e.anchor2?e.anchor2.x:800;return r="<"===e.dir?a(t,i+s/2,i,i+s/2,i+s,o,c):a(t,i,i+s/2,i+s,i+s/2,o,c),n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},r),[r]}var a=function(t,e,n,o,a,c,l){e=s(e),n=s(n),o=s(o),a=s(a),c=s(c),l=s(l);var u=r("M %f %f L %f %f M %f %f L %f %f",c,e,l,n,c,o,l,a);return i(t,{path:u,highlight:"stroke",stroke:t.foregroundColor,class:t.controller.classes.generate("dynamics decoration")})};t.exports=o},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"9ff4":function(t,e,n){"use strict";(function(t){function r(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return K})),n.d(e,"f",(function(){return J})),n.d(e,"g",(function(){return rt})),n.d(e,"h",(function(){return A})),n.d(e,"i",(function(){return et})),n.d(e,"j",(function(){return j})),n.d(e,"k",(function(){return Q})),n.d(e,"l",(function(){return nt})),n.d(e,"m",(function(){return I})),n.d(e,"n",(function(){return F})),n.d(e,"o",(function(){return s})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return U})),n.d(e,"r",(function(){return P})),n.d(e,"s",(function(){return E})),n.d(e,"t",(function(){return V})),n.d(e,"u",(function(){return C})),n.d(e,"v",(function(){return H})),n.d(e,"w",(function(){return Y})),n.d(e,"x",(function(){return g})),n.d(e,"y",(function(){return L})),n.d(e,"z",(function(){return a})),n.d(e,"A",(function(){return B})),n.d(e,"B",(function(){return R})),n.d(e,"C",(function(){return b})),n.d(e,"D",(function(){return y})),n.d(e,"E",(function(){return r})),n.d(e,"F",(function(){return d})),n.d(e,"G",(function(){return c})),n.d(e,"H",(function(){return M})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return tt})),n.d(e,"K",(function(){return it})),n.d(e,"L",(function(){return W}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=r(i);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(o);function c(t){if(I(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=c(B(r)?h(r):r);if(i)for(const t in i)e[t]=i[t]}return e}if(V(t))return t}const l=/;(?![^(]*\))/g,u=/:(.+)/;function h(t){const e={};return t.split(l).forEach(t=>{if(t){const n=t.split(u);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function d(t){let e="";if(B(t))e=t;else if(I(t))for(let n=0;n<t.length;n++){const r=d(t[n]);r&&(e+=r+" ")}else if(V(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const p="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",f="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",m=r(p),g=r(f);function v(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=b(t[r],e[r]);return n}function b(t,e){if(t===e)return!0;let n=D(t),r=D(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=I(t),r=I(e),n||r)return!(!n||!r)&&v(t,e);if(n=V(t),r=V(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!b(t[n],e[n]))return!1}}return String(t)===String(e)}function y(t,e){return t.findIndex(t=>b(t,e))}const _=t=>null==t?"":V(t)?JSON.stringify(t,w,2):String(t),w=(t,e)=>P(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[e,n])=>(t[e+" =>"]=n,t),{})}:L(e)?{[`Set(${e.size})`]:[...e.values()]}:!V(e)||I(e)||G(e)?e:String(e),x={},k=[],T=()=>{},S=()=>!1,O=/^on[^a-z]/,C=t=>O.test(t),E=t=>t.startsWith("onUpdate:"),A=Object.assign,M=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},N=Object.prototype.hasOwnProperty,j=(t,e)=>N.call(t,e),I=Array.isArray,P=t=>"[object Map]"===z(t),L=t=>"[object Set]"===z(t),D=t=>t instanceof Date,F=t=>"function"===typeof t,B=t=>"string"===typeof t,R=t=>"symbol"===typeof t,V=t=>null!==t&&"object"===typeof t,H=t=>V(t)&&F(t.then)&&F(t.catch),q=Object.prototype.toString,z=t=>q.call(t),W=t=>z(t).slice(8,-1),G=t=>"[object Object]"===z(t),U=t=>B(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,Y=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$=t=>{const e=Object.create(null);return n=>{const r=e[n];return r||(e[n]=t(n))}},X=/-(\w)/g,K=$(t=>t.replace(X,(t,e)=>e?e.toUpperCase():"")),Z=/\B([A-Z])/g,Q=$(t=>t.replace(Z,"-$1").toLowerCase()),J=$(t=>t.charAt(0).toUpperCase()+t.slice(1)),tt=$(t=>t?"on"+J(t):""),et=(t,e)=>t!==e&&(t===t||e===e),nt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rt=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},it=t=>{const e=parseFloat(t);return isNaN(e)?t:e}}).call(this,n("c8ba"))},a053:function(t,e,n){var r=n("4ce3"),i=n("e415"),s=n("96f2"),o=n("fa8e"),a=n("f38c");function c(t,e,n,r,o,c,h,d,p){var f=new a(t.paper,d,p);t.moveY(t.padding.top),s(t,n.topText,f),t.moveY(t.spacing.music);for(var m=[],g=0;g<n.lines.length;g++){e.incrLine();var v=n.lines[g];if(v.staff){v.vskip&&t.moveY(v.vskip),m.length>=1&&u(t,t.spacing.staffSeparation,m[m.length-1],v.staffGroup);var b=l(t,v.staffGroup,f);b.line=g,m.push(b)}else v.nonMusic&&s(t,v.nonMusic,f)}return e.reset(),t.moveY(24),s(t,n.bottomText,f),i(t,o,h,c),{staffgroups:m,selectables:f.getElements()}}function l(t,e,n){r(t,e,n);var i=e.height*o.STEP;return t.y+=i,e}function u(t,e,n,r){var i=n.staffs[n.staffs.length-1],s=-(i.bottom-2),a=r.staffs[0].top-10,c=a+s,l=c*o.STEP;l<e&&t.moveY(e-l)}t.exports=c},a215:function(t,e,n){var r=n("e8ab"),i=function(t){"use strict";var e="";t=r.strip(t);for(var n=t.split("\nX:"),i=1;i<n.length;i++)n[i]="X:"+n[i];var s=0,o=[];if(r.each(n,(function(t){o.push({abc:t,startPos:s}),s+=t.length+1})),o.length>1&&!r.startsWith(o[0].abc,"X:")){var a=o.shift(),c=a.abc.split("\n");r.each(c,(function(t){r.startsWith(t,"%%")&&(e+=t+"\n")}))}var l=e;return r.each(o,(function(t){var n=t.abc.indexOf("\n\n");n>0&&(t.abc=t.abc.substring(0,n)),t.pure=t.abc,t.abc=e+t.abc,t.title="";var i=t.pure.split("T:");i.length>1&&(i=i[1].split("\n"),t.title=r.strip(i[0]));var s=t.pure.substring(2,t.pure.indexOf("\n"));t.id=r.strip(s)})),{header:l,tunes:o}};t.exports=i},a3bf:function(t,e,n){var r=n("671d");function i(){return window.abcjsAudioContext||r(),window.abcjsAudioContext}t.exports=i},a434:function(t,e,n){"use strict";var r=n("23e7"),i=n("23cb"),s=n("a691"),o=n("50c4"),a=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),h=u("splice"),d=Math.max,p=Math.min,f=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,r,u,h,g,v,b=a(this),y=o(b.length),_=i(t,y),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=y-_):(n=w-2,r=p(d(s(e),0),y-_)),y+n-r>f)throw TypeError(m);for(u=c(b,r),h=0;h<r;h++)g=_+h,g in b&&l(u,h,b[g]);if(u.length=r,n<r){for(h=_;h<y-r;h++)g=h+r,v=h+n,g in b?b[v]=b[g]:delete b[v];for(h=y;h>y-r+n;h--)delete b[h-1]}else if(n>r)for(h=y-r;h>_;h--)g=h+r-1,v=h+n-1,g in b?b[v]=b[g]:delete b[v];for(h=0;h<n;h++)b[h+_]=arguments[h+2];return b.length=y-r+n,u}})},a4b4:function(t,e,n){var r=n("342f");t.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),s=n("d066"),o=n("c430"),a=n("83ab"),c=n("4930"),l=n("fdbf"),u=n("d039"),h=n("5135"),d=n("e8b5"),p=n("861d"),f=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),b=n("5c6c"),y=n("7c73"),_=n("df75"),w=n("241c"),x=n("057f"),k=n("7418"),T=n("06cf"),S=n("9bf2"),O=n("d1e7"),C=n("9112"),E=n("6eeb"),A=n("5692"),M=n("f772"),N=n("d012"),j=n("90e3"),I=n("b622"),P=n("e538"),L=n("746f"),D=n("d44e"),F=n("69f3"),B=n("b727").forEach,R=M("hidden"),V="Symbol",H="prototype",q=I("toPrimitive"),z=F.set,W=F.getterFor(V),G=Object[H],U=i.Symbol,Y=s("JSON","stringify"),$=T.f,X=S.f,K=x.f,Z=O.f,Q=A("symbols"),J=A("op-symbols"),tt=A("string-to-symbol-registry"),et=A("symbol-to-string-registry"),nt=A("wks"),rt=i.QObject,it=!rt||!rt[H]||!rt[H].findChild,st=a&&u((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=$(G,e);r&&delete G[e],X(t,e,n),r&&t!==G&&X(G,e,r)}:X,ot=function(t,e){var n=Q[t]=y(U[H]);return z(n,{type:V,tag:t,description:e}),a||(n.description=e),n},at=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},ct=function(t,e,n){t===G&&ct(J,e,n),f(t);var r=v(e,!0);return f(n),h(Q,r)?(n.enumerable?(h(t,R)&&t[R][r]&&(t[R][r]=!1),n=y(n,{enumerable:b(0,!1)})):(h(t,R)||X(t,R,b(1,{})),t[R][r]=!0),st(t,r,n)):X(t,r,n)},lt=function(t,e){f(t);var n=g(e),r=_(n).concat(ft(n));return B(r,(function(e){a&&!ht.call(n,e)||ct(t,e,n[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},ht=function(t){var e=v(t,!0),n=Z.call(this,e);return!(this===G&&h(Q,e)&&!h(J,e))&&(!(n||!h(this,e)||!h(Q,e)||h(this,R)&&this[R][e])||n)},dt=function(t,e){var n=g(t),r=v(e,!0);if(n!==G||!h(Q,r)||h(J,r)){var i=$(n,r);return!i||!h(Q,r)||h(n,R)&&n[R][r]||(i.enumerable=!0),i}},pt=function(t){var e=K(g(t)),n=[];return B(e,(function(t){h(Q,t)||h(N,t)||n.push(t)})),n},ft=function(t){var e=t===G,n=K(e?J:g(t)),r=[];return B(n,(function(t){!h(Q,t)||e&&!h(G,t)||r.push(Q[t])})),r};if(c||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=j(t),n=function(t){this===G&&n.call(J,t),h(this,R)&&h(this[R],e)&&(this[R][e]=!1),st(this,e,b(1,t))};return a&&it&&st(G,e,{configurable:!0,set:n}),ot(e,t)},E(U[H],"toString",(function(){return W(this).tag})),E(U,"withoutSetter",(function(t){return ot(j(t),t)})),O.f=ht,S.f=ct,T.f=dt,w.f=x.f=pt,k.f=ft,P.f=function(t){return ot(I(t),t)},a&&(X(U[H],"description",{configurable:!0,get:function(){return W(this).description}}),o||E(G,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:U}),B(_(nt),(function(t){L(t)})),r({target:V,stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var n=U(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!a},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:ft}),r({target:"Object",stat:!0,forced:u((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(m(t))}}),Y){var mt=!c||u((function(){var t=U();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));r({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,n){var r,i=[t],s=1;while(arguments.length>s)i.push(arguments[s++]);if(r=e,(p(e)||void 0!==t)&&!at(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),i[1]=e,Y.apply(null,i)}})}U[H][q]||C(U[H],q,U[H].valueOf),D(U,V),N[R]=!0},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),s=n("1c7e"),o=!s((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:i})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a668:function(t,e){var n=function(t){return window.URL.createObjectURL(r(t.audioBuffers))};function r(t){var e,n,r=t[0],i=r.numberOfChannels,s=r.length*i*2+44,o=new ArrayBuffer(s),a=new DataView(o),c=[],l=0,u=0;for(d(1179011410),d(s-8),d(1163280727),d(544501094),d(16),h(1),h(i),d(r.sampleRate),d(2*r.sampleRate*i),h(2*i),h(16),d(1635017060),d(s-u-4),e=0;e<i;e++)c.push(r.getChannelData(e));while(u<s){for(e=0;e<c.length;e++)n=Math.max(-1,Math.min(1,c[e][l])),n=0|(.5+n<0?32768*n:32767*n),a.setInt16(u,n,!0),u+=2;l++}return new Blob([o],{type:"audio/wav"});function h(t){a.setUint16(u,t,!0),u+=2}function d(t){a.setUint32(u,t,!0),u+=4}}t.exports=n},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a79d:function(t,e,n){"use strict";var r=n("23e7"),i=n("c430"),s=n("fea9"),o=n("d039"),a=n("d066"),c=n("4840"),l=n("cdf9"),u=n("6eeb"),h=!!s&&o((function(){s.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(t){var e=c(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof s||s.prototype["finally"]||u(s.prototype,"finally",a("Promise").prototype["finally"])},a923:function(t,e,n){var r=n("e8ab"),i=n("fa8e"),s=n("7900"),o=n("e5da"),a=n("78a7"),c=function(){function t(t,e){for(var n=0,r=0;r<t.length;r++)if(t[r].staff)for(var i=0;i<t[r].staff.length;i++)for(var s=0;s<t[r].staff[i].voices.length;s++)for(var o=t[r].staff[i].voices[s],a=1,c=0;c<o.length;c++){var l=o[c].rest&&"spacer"===o[c].rest.type;if(o[c].startTriplet&&(a=o[c].tripletMultiplier),o[c].duration&&!l&&"tempo"!==o[c].el_type&&(n+=o[c].duration*a),o[c].endTriplet&&(a=1),n>=e&&(n-=e),"bar"===o[c].el_type)return n}return n}function e(t){for(var e,n,r,i,s=t.length-1;s>=0;s--){var o=t[s];"bar"===o.type?(o.top=r,o.nextTop=e,e=r,o.bottom=i,o.nextBottom=n,n=i):"event"===o.type&&(r=o.top,i=o.top+o.height)}}function n(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e=e.sort((function(t,e){var n=t.milliseconds-e.milliseconds;return 0!==n?n:"bar"===t.type?-1:1})),e}function c(t,e){while(e<t.length&&null===t[e].left)e++;return t[e]}function l(t,e){if(!(e.length<1)){for(var n=0;n<e.length-1;n++){var r=e[n],i=c(e,n+1);if(null!==r.left){var s=i&&r.top===i.top?i.left:t[r.line].staffGroup.w;void 0!==r.endX?s>r.left&&(r.endX=Math.min(r.endX,s)):r.endX=s}}var o=e[e.length-1];o.endX=t[o.line].staffGroup.w}}this.getBeatLength=function(){var t=this.getMeterFraction(),e=1;return(6===t.num||9===t.num||12===t.num||3===t.num&&8===t.den)&&(e=3),e/t.den},this.getPickupLength=function(){var e=this.getBarLength(),n=t(this.lines,e);return n<1e-8||e-n<1e-8?0:n},this.getBarLength=function(){var t=this.getMeterFraction();return t.num/t.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(t){var e;if(t)e=t;else{var n=this.metaText?this.metaText.tempo:null;e=this.getBpm(n)}e<=0&&(e=1);var r=this.getBeatsPerMeasure(),i=r/e;return 6e4*i},this.getBeatsPerMeasure=function(){var t=this.getBeatLength(),e=this.getBarLength();return e/t},this.getMeter=function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t];if(e.staff)for(var n=0;n<e.staff.length;n++){var r=e.staff[n].meter;if(r)return r}}return{type:"common_time"}},this.getMeterFraction=function(){var t=this.getMeter(),e=4,n=4;return t&&("specified"===t.type?(e=parseInt(t.value[0].num,10),n=parseInt(t.value[0].den,10)):"cut_time"===t.type?(e=2,n=2):"common_time"===t.type&&(e=4,n=4)),this.meter={num:e,den:n},this.meter},this.getKeySignature=function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t];if(e.staff)for(var n=0;n<e.staff.length;n++)if(e.staff[n].key)return e.staff[n].key}return{}},this.getElementFromChar=function(t){for(var e=0;e<this.lines.length;e++){var n=this.lines[e];if(n.staff)for(var r=0;r<n.staff.length;r++)for(var i=n.staff[r],s=0;s<i.voices.length;s++)for(var o=i.voices[s],a=0;a<o.length;a++){var c=o[a];if(c.startChar&&c.endChar&&c.startChar<=t&&c.endChar>t)return c}}return null},this.addElementToEvents=function(t,e,n,i,s,o,a,c,l,u){if(e.hint)return{isTiedState:void 0,duration:0};var h=e.durationClass?e.durationClass:e.duration;if(e.abcelem.rest&&"spacer"===e.abcelem.rest.type&&(h=0),h>0){for(var d=[],p=0;p<e.elemset.length;p++)null!==e.elemset[p]&&d.push(e.elemset[p]);var f=e.startTie;if(void 0!==l)t["event"+l].elements.push(d),u&&(t["event"+n]||(t["event"+n]={type:"event",milliseconds:n,line:o,measureNumber:a,top:i,height:s,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),t["event"+n].measureStart=!0,u=!1),f||(l=void 0);else{if(t["event"+n]){if(t["event"+n].left?t["event"+n].left=Math.min(t["event"+n].left,e.x):t["event"+n].left=e.x,t["event"+n].elements.push(d),t["event"+n].startCharArray.push(e.abcelem.startChar),t["event"+n].endCharArray.push(e.abcelem.endChar),null===t["event"+n].startChar&&(t["event"+n].startChar=e.abcelem.startChar),null===t["event"+n].endChar&&(t["event"+n].endChar=e.abcelem.endChar),e.abcelem.midiPitches&&e.abcelem.midiPitches.length){t["event"+n].midiPitches||(t["event"+n].midiPitches=[]);for(p=0;p<e.abcelem.midiPitches.length;p++)t["event"+n].midiPitches.push(e.abcelem.midiPitches[p])}if(e.abcelem.midiGraceNotePitches&&e.abcelem.midiGraceNotePitches.length){t["event"+n].midiGraceNotePitches||(t["event"+n].midiGraceNotePitches=[]);for(var m=0;m<e.abcelem.midiGraceNotePitches.length;m++)t["event"+n].midiGraceNotePitches.push(e.abcelem.midiGraceNotePitches[m])}}else t["event"+n]={type:"event",milliseconds:n,line:o,measureNumber:a,top:i,height:s,left:e.x,width:e.w,elements:[d],startChar:e.abcelem.startChar,endChar:e.abcelem.endChar,startCharArray:[e.abcelem.startChar],endCharArray:[e.abcelem.endChar],midiPitches:e.abcelem.midiPitches?r.cloneArray(e.abcelem.midiPitches):[]},e.abcelem.midiGraceNotePitches&&(t["event"+n].midiGraceNotePitches=r.cloneArray(e.abcelem.midiGraceNotePitches));u&&(t["event"+n].measureStart=!0,u=!1),f&&(l=n)}}return{isTiedState:l,duration:h/c,nextIsBar:u||"bar"===e.type}},this.makeVoicesArray=function(){for(var t=[],e=[],n={},r=0;r<this.engraver.staffgroups.length;r++){var s=this.engraver.staffgroups[r],o=s.staffs[0],a=o.absoluteY,c=a-o.top*i.STEP,l=s.staffs[s.staffs.length-1];a=l.absoluteY;for(var u=a-l.bottom*i.STEP,h=u-c,d=s.voices,p=0;p<d.length;p++){var f=!1;t[p]||(t[p]=[]),void 0===e[p]&&(e[p]=0);for(var m=d[p].children,g=0;g<m.length;g++)"tempo"===m[g].type&&(n[e[p]]=this.getBpm(m[g].abcelem)),t[p].push({top:c,height:h,line:s.line,measureNumber:e[p],elem:m[g]}),"bar"===m[g].type&&f&&e[p]++,"note"!==m[g].type&&"rest"!==m[g].type||(f=!0)}}return this.tempoLocations=n,t},this.setupEvents=function(t,r,i,s){s||(s=1);for(var o,a=[],c={},u=t,h=!0,d=this.makeVoicesArray(),p=0,f=0;f<d.length;f++){var m=u,g=Math.round(1e3*m),v=0,b=-1,y=d[f],_=i;r=this.getBeatLength()*_/60;for(var w=-1,x=0;x<y.length;x++){var k=y[x].measureNumber;w!==k&&this.tempoLocations[k]&&(_=this.tempoLocations[k],r=s*this.getBeatLength()*_/60,w=k);var T,S=y[x].elem,O=this.addElementToEvents(c,S,g,y[x].top,y[x].height,y[x].line,y[x].measureNumber,r,o,h);if(o=O.isTiedState,h=O.nextIsBar,m+=O.duration,S.duration>0&&c["event"+g]&&(T="event"+g),g=Math.round(1e3*m),"bar"===S.type){var C=S.abcelem.type,E="bar_right_repeat"===C||"bar_dbl_repeat"===C,A="1"===S.abcelem.startEnding,M="bar_left_repeat"===C||"bar_dbl_repeat"===C||"bar_right_repeat"===C;if(E){x>0&&(c[T].endX=S.x),-1===b&&(b=x);var N=0;w=-1;for(var j=v;j<b;j++){k=y[j].measureNumber,w!==k&&this.tempoLocations[k]&&(_=this.tempoLocations[k],r=s*this.getBeatLength()*_/60,w=k);var I=y[j].elem;O=this.addElementToEvents(c,I,g,y[j].top,y[j].height,y[j].line,y[j].measureNumber,r,o,h),o=O.isTiedState,h=O.nextIsBar,m+=O.duration,N=g,g=Math.round(1e3*m)}c["event"+N]&&(c["event"+N].endX=y[b].elem.x),h=!0,b=-1}A&&(b=x),M&&(v=x)}}p=Math.max(p,g)}return a=n(c),e(a),l(this.lines,a),a.push({type:"end",milliseconds:p}),this.addUsefulCallbackInfo(a,_*s),a},this.addUsefulCallbackInfo=function(t,e){for(var n=this.millisecondsPerMeasure(e),r=0;r<t.length;r++){var i=t[r];i.millisecondsPerMeasure=n}},this.getBpm=function(t){var e;if(t){e=t.bpm;var n=this.getBeatLength(),r=t.duration&&t.duration.length>0?t.duration[0]:n;e=e*r/n}if(!e){e=180;var i=this.getMeterFraction();i&&3!==i.num&&i.num%3===0&&(e=120)}return e},this.setTiming=function(t,e){if(e=e||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),void(this.noteTimings=[]);var n=this.metaText?this.metaText.tempo:null,r=this.getBpm(n),i=1;t?n&&(i=t/r):t=r;var s=this.getBeatLength(),o=t/60,a=this.getBarLength(),c=a/s*e/o;c&&(c-=this.getPickupLength()/s/o);var l=s*o;return this.noteTimings=this.setupEvents(c,l,t,i),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*o):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(t){t||(t={});var e=s(this,t);return o(e,t,this.formatting.percmap)},this.deline=function(t){return a(this.lines,t)}};t.exports=c},a941:function(t,e,n){var r=n("e8ab"),i=n("5845"),s=n("06b3"),o=function(t,e,n,o,a){this.reset=function(t,e,n,r){s.initialize(t,e,n,r,a),i.initialize(t,e,n,r,a)},this.reset(t,e,n,o),this.setTitle=function(e){if(n.hasMainTitle)a.addSubtitle(t.translateString(t.stripComment(e)));else{var r=t.translateString(t.theReverser(t.stripComment(e)));n.titlecaps&&(r=r.toUpperCase()),a.addMetaText("title",r),n.hasMainTitle=!0}},this.setMeter=function(r){if(r=t.stripComment(r),"C"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if("C|"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if("o"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if("c"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if("o."===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if("c."===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(0===r.length||"none"===r.toLowerCase())return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),null;var i=t.tokenize(r,0,r.length);try{var s=function(){var t={value:0,num:""},e=i.shift();"("===e.token&&(e=i.shift());while(1){if("number"!==e.type)throw"Expected top number of meter";if(t.value+=parseInt(e.token),t.num+=e.token,0===i.length||"/"===i[0].token)return t;if(e=i.shift(),")"===e.token){if(0===i.length||"/"===i[0].token)return t;throw"Unexpected paren in meter"}if("."!==e.token&&"+"!==e.token)throw"Expected top number of meter";if(t.num+=e.token,0===i.length)throw"Expected top number of meter";e=i.shift()}return t},o=function(){var t=s();if(0===i.length)return t;var e=i.shift();if("/"!==e.token)throw"Expected slash in meter";if(e=i.shift(),"number"!==e.type)throw"Expected bottom number of meter";return t.den=e.token,t.value=t.value/parseInt(t.den),t};if(0===i.length)throw"Expected meter definition in M: line";var a={type:"specified",value:[]},c=0;while(1){var l=o();c+=l.value;var u={num:l.num};if(void 0!==l.den&&(u.den=l.den),a.value.push(u),0===i.length)break}return!0===n.havent_set_length&&(n.default_length=c<.75?.0625:.125,n.havent_set_length=!1),a}catch(h){e(h,r,0)}return null},this.calcTempo=function(t){var e=1/4;n.meter&&"specified"===n.meter.type?e=1/parseInt(n.meter.value[0].den):n.origMeter&&"specified"===n.origMeter.type&&(e=1/parseInt(n.origMeter.value[0].den));for(var r=0;r<t.duration;r++)t.duration[r]=e*t.duration[r];return t},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),o.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(t,i,s){var o=t.indexOf("=",i);if(-1!==o){var a=r.strip(t.substring(i,o)),c=r.strip(t.substring(o+1));if(1===a.length){var l="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";-1!==l.indexOf(a)?0!==c.length?(void 0===n.macros&&(n.macros={}),n.macros[a]=c):e("Missing macro definition",t,i):e("Macro definitions must be H-Y, h-w, or tilde",t,i)}else e("Macro definitions can only be one character",t,i)}else e("Need an = in a macro definition",t,i)},this.setDefaultLength=function(t,e,i){var s=r.gsub(t.substring(e,i)," ",""),o=s.split("/");if(2===o.length){var a=parseInt(o[0]),c=parseInt(o[1]);c>0&&(n.default_length=a/c,n.havent_set_length=!1)}else 1===o.length&&"1"===o[0]&&(n.default_length=1,n.havent_set_length=!1)};var c={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(r,i,s){try{var o=t.tokenize(r,i,s);if(0===o.length)throw"Missing parameter in Q: field";var a={},l=!0,u=o.shift();if("quote"===u.type&&(a.preString=u.token,u=o.shift(),0===o.length))return c[a.preString.toLowerCase()]&&(a.bpm=c[a.preString.toLowerCase()],a.suppressBpm=!0),{type:"immediate",tempo:a};if("alpha"===u.type&&"C"===u.token){if(0===o.length)throw"Missing tempo after C in Q: field";if(u=o.shift(),"punct"===u.type&&"="===u.token){if(0===o.length)throw"Missing tempo after = in Q: field";if(u=o.shift(),"number"!==u.type)throw"Expected number after = in Q: field";a.duration=[1],a.bpm=parseInt(u.token)}else{if("number"!==u.type)throw"Expected number or equal after C in Q: field";if(a.duration=[parseInt(u.token)],0===o.length)throw"Missing = after duration in Q: field";if(u=o.shift(),"punct"!==u.type||"="!==u.token)throw"Expected = after duration in Q: field";if(0===o.length)throw"Missing tempo after = in Q: field";if(u=o.shift(),"number"!==u.type)throw"Expected number after = in Q: field";a.bpm=parseInt(u.token)}}else{if("number"!==u.type)throw"Unknown value in Q: field";var h=parseInt(u.token);if(0===o.length||"quote"===o[0].type)a.duration=[1],a.bpm=h;else{if(l=!1,u=o.shift(),"punct"!==u.type&&"/"!==u.token)throw"Expected fraction in Q: field";if(u=o.shift(),"number"!==u.type)throw"Expected fraction in Q: field";var d=parseInt(u.token);a.duration=[h/d];while(o.length>0&&"="!==o[0].token&&"quote"!==o[0].type){if(u=o.shift(),"number"!==u.type)throw"Expected fraction in Q: field";if(h=parseInt(u.token),u=o.shift(),"punct"!==u.type&&"/"!==u.token)throw"Expected fraction in Q: field";if(u=o.shift(),"number"!==u.type)throw"Expected fraction in Q: field";d=parseInt(u.token),a.duration.push(h/d)}if(u=o.shift(),"punct"!==u.type&&"="!==u.token)throw"Expected = in Q: field";if(u=o.shift(),"number"!==u.type)throw"Expected tempo in Q: field";a.bpm=parseInt(u.token)}}if(0!==o.length&&(u=o.shift(),"quote"===u.type&&(a.postString=u.token,u=o.shift()),0!==o.length))throw"Unexpected string at end of Q: field";return!1===n.printTempo&&(a.suppress=!0),{type:l?"delaySet":"immediate",tempo:a}}catch(p){return e(p,r,i),{type:"none"}}},this.letter_to_inline_header=function(r,c,l){var u=t.eatWhiteSpace(r,c);if(c+=u,r.length>=c+5&&"["===r.charAt(c)&&":"===r.charAt(c+2)){var h=r.indexOf("]",c),d=n.iChar+c,p=n.iChar+h+1;switch(r.substring(c,c+3)){case"[I:":var f=i.addDirective(r.substring(c+3,h));return f&&e(f,r,c),[h-c+1+u];case"[M:":var m=this.setMeter(r.substring(c+3,h));return a.hasBeginMusic()&&m?a.appendStartingElement("meter",d,p,m):n.meter=m,[h-c+1+u];case"[K:":var g=s.parseKey(r.substring(c+3,h));return g.foundClef&&a.hasBeginMusic()&&a.appendStartingElement("clef",d,p,n.clef),g.foundKey&&a.hasBeginMusic()&&a.appendStartingElement("key",d,p,s.fixKey(n.clef,n.key)),[h-c+1+u];case"[P:":return l||o.lines.length<=o.lineNum?n.partForNextLine={title:r.substring(c+3,h),startChar:d,endChar:p}:a.appendElement("part",d,p,{title:r.substring(c+3,h)}),[h-c+1+u];case"[L:":return this.setDefaultLength(r,c+3,h),[h-c+1+u];case"[Q:":if(h>0){var v=this.setTempo(r,c+3,h);return"delaySet"===v.type?a.hasBeginMusic()?a.appendElement("tempo",d,p,this.calcTempo(v.tempo)):n.tempoForNextLine=["tempo",d,p,this.calcTempo(v.tempo)]:"immediate"===v.type&&(!l&&a.hasBeginMusic()?a.appendElement("tempo",d,p,v.tempo):n.tempoForNextLine=["tempo",d,p,v.tempo]),[h-c+1+u,r.charAt(c+1),r.substring(c+3,h)]}break;case"[V:":if(h>0)return s.parseVoice(r,c+3,h),[h-c+1+u,r.charAt(c+1),r.substring(c+3,h)];break;default:}}return[0]},this.letter_to_body_header=function(t,o){if(t.length>=o+3)switch(t.substring(o,o+2)){case"I:":var c=i.addDirective(t.substring(o+2));return c&&e(c,t,o),[t.length];case"M:":var l=this.setMeter(t.substring(o+2));return a.hasBeginMusic()&&l&&a.appendStartingElement("meter",n.iChar+o,n.iChar+t.length,l),[t.length];case"K:":var u=s.parseKey(t.substring(o+2));return u.foundClef&&a.hasBeginMusic()&&a.appendStartingElement("clef",n.iChar+o,n.iChar+t.length,n.clef),u.foundKey&&a.hasBeginMusic()&&a.appendStartingElement("key",n.iChar+o,n.iChar+t.length,s.fixKey(n.clef,n.key)),[t.length];case"P:":return a.hasBeginMusic()&&a.appendElement("part",n.iChar+o,n.iChar+t.length,{title:t.substring(o+2)}),[t.length];case"L:":return this.setDefaultLength(t,o+2,t.length),[t.length];case"Q:":var h=t.indexOf("",o+2);-1===h&&(h=t.length);var d=this.setTempo(t,o+2,h);return"delaySet"===d.type?a.appendElement("tempo",n.iChar+o,n.iChar+t.length,this.calcTempo(d.tempo)):"immediate"===d.type&&a.appendElement("tempo",n.iChar+o,n.iChar+t.length,d.tempo),[h,t.charAt(o),r.strip(t.substring(o+2))];case"V:":return s.parseVoice(t,o+2,t.length),[t.length,t.charAt(o),r.strip(t.substring(o+2))];default:}return[0]};var l={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(r){var c=l[r.charAt(0)];if(void 0!==c)return"unalignedWords"===c?a.addMetaTextArray(c,i.parseFontChangeLine(t.translateString(t.stripComment(r.substring(2))))):a.addMetaText(c,t.translateString(t.stripComment(r.substring(2)))),{};var u=n.iChar,h=u+r.length;switch(r.charAt(0)){case"H":a.addMetaText("history",t.translateString(t.stripComment(r.substring(2)))),r=t.peekLine();while(r&&":"!==r.charAt(1))t.nextLine(),a.addMetaText("history",t.translateString(t.stripComment(r))),r=t.peekLine();break;case"K":this.resolveTempo();var d=s.parseKey(r.substring(2));!n.is_in_header&&a.hasBeginMusic()&&(d.foundClef&&a.appendStartingElement("clef",u,h,n.clef),d.foundKey&&a.appendStartingElement("key",u,h,s.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(r,2,r.length);break;case"M":n.origMeter=n.meter=this.setMeter(r.substring(2));break;case"P":n.is_in_header?a.addMetaText("partOrder",t.translateString(t.stripComment(r.substring(2)))):n.partForNextLine={title:t.translateString(t.stripComment(r.substring(2))),startChar:u,endChar:h};break;case"Q":var p=this.setTempo(r,2,r.length);"delaySet"===p.type?n.tempo=p.tempo:"immediate"===p.type&&(o.metaText.tempo?n.tempoForNextLine=["tempo",u,h,p.tempo]:o.metaText.tempo=p.tempo);break;case"T":this.setTitle(r.substring(2));break;case"U":this.addUserDefinition(r,2,r.length);break;case"V":if(s.parseVoice(r,2,r.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":e("Ignored header",r,0);break;default:return{regular:!0}}return{}}};t.exports=o},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),s=n("94ca"),o=n("6eeb"),a=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),h=n("d039"),d=n("7c73"),p=n("241c").f,f=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,v="Number",b=i[v],y=b.prototype,_=c(d(y))==v,w=function(t){var e,n,r,i,s,o,a,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(s=l.slice(2),o=s.length,a=0;a<o;a++)if(c=s.charCodeAt(a),c<48||c>i)return NaN;return parseInt(s,r)}return+l};if(s(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(_?h((function(){y.valueOf.call(n)})):c(n)!=v)?l(new b(w(e)),n,k):w(e)},T=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;T.length>S;S++)a(b,x=T[S])&&!a(k,x)&&m(k,x,f(b,x));k.prototype=y,y.constructor=k,o(i,v,k)}},ab13:function(t,e,n){var r=n("b622"),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},abc5:function(t,e,n){"use strict";(function(t){function r(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!==typeof navigator?window:"undefined"!==typeof t?t:{}}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))}).call(this,n("c8ba"))},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ac8a:function(t,e){var n=function(t,e,n){this.type="TripletElem",this.anchor1=e,this.number=t,this.durationClass=("d"+Math.round(1e3*e.parent.durationClass)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=n.flatBeams};n.prototype.isClosed=function(){return!!this.anchor2},n.prototype.middleNote=function(t){this.middleElems.push(t)},n.prototype.setCloseAnchor=function(t){this.anchor2=t,this.anchor1.parent.beam&&(this.endingHeightAbove=4)},t.exports=n},acb7:function(t,e,n){var r=n("2429");function i(t){if(t.anchor1&&t.anchor2){t.hasBeam=!!t.anchor1.parent.beam&&t.anchor1.parent.beam===t.anchor2.parent.beam;var e=t.anchor1.parent.beam;if(!t.hasBeam||e.elems[0]===t.anchor1.parent&&e.elems[e.elems.length-1]===t.anchor2.parent||(t.hasBeam=!1),t.hasBeam){var n=s(e)?t.anchor1.x+t.anchor1.w:t.anchor1.x;t.yTextPos=o(n,t.anchor2.x,e),t.yTextPos+=s(e)?3:-2,t.xTextPos=a(n,t.anchor2.x),t.top=t.yTextPos+1,t.bottom=t.yTextPos-2,s(e)&&(t.endingHeightAbove=4)}else{t.startNote=Math.max(t.anchor1.parent.top,9)+4,t.endNote=Math.max(t.anchor2.parent.top,9)+4,"rest"===t.anchor1.parent.type&&"rest"!==t.anchor2.parent.type?t.startNote=t.endNote:"rest"===t.anchor2.parent.type&&"rest"!==t.anchor1.parent.type&&(t.endNote=t.startNote);for(var r=0,i=0;i<t.middleElems.length;i++)r=Math.max(r,t.middleElems[i].top);r+=4,(r>t.startNote||r>t.endNote)&&(t.startNote=r,t.endNote=r),t.flatBeams&&(t.startNote=Math.max(t.startNote,t.endNote),t.endNote=Math.max(t.startNote,t.endNote)),t.yTextPos=t.startNote+(t.endNote-t.startNote)/2,t.xTextPos=t.anchor1.x+(t.anchor2.x+t.anchor2.w-t.anchor1.x)/2,t.top=t.yTextPos+1}}delete t.middleElems,delete t.flatBeams}function s(t){return t.stemsUp}function o(t,e,n){if(0===n.beams.length)return 0;n=n.beams[0];var i=t+(e-t)/2;return r(n.startX,n.startY,n.endX,n.endY,i)}function a(t,e){return t+(e-t)/2}t.exports=i},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},ae93:function(t,e,n){"use strict";var r,i,s,o=n("d039"),a=n("e163"),c=n("9112"),l=n("5135"),u=n("b622"),h=n("c430"),d=u("iterator"),p=!1,f=function(){return this};[].keys&&(s=[].keys(),"next"in s?(i=a(a(s)),i!==Object.prototype&&(r=i)):p=!0);var m=void 0==r||o((function(){var t={};return r[d].call(t)!==t}));m&&(r={}),h&&!m||l(r,d)||c(r,d,f),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},af2b:function(t,e,n){var r=n("7204"),i=n("245c"),s=n("a3bf");function o(t,e,n){for(var i=new r,o=0;o<t.length;o++){var c=t[o],l=i.addTrack();if(i.setInstrument(l,c.instrument),0===o&&e)for(var u=0;u<e.length;u++){var h=e[u];i.appendNote(l,h.pitch,1/64,h.volume,h.cents)}i.appendNote(l,c.pitch,c.duration,c.volume,c.cents)}var d=s();return"suspended"===d.state?d.resume().then((function(){return a(i,n)})):a(i,n)}function a(t,e){var n=new i;return n.init({sequence:t,millisecondsPerMeasure:e}).then((function(){return n.prime()})).then((function(){return n.start(),Promise.resolve()}))}t.exports=o},b041:function(t,e,n){"use strict";var r=n("00ee"),i=n("f5df");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,s=Function.prototype,o=s.toString,a=/^\s*function ([^ (]*)/,c="name";r&&!(c in s)&&i(s,c,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(t){return""}}})},b575:function(t,e,n){var r,i,s,o,a,c,l,u,h=n("da84"),d=n("06cf").f,p=n("2cf4").set,f=n("1cdc"),m=n("a4b4"),g=n("605d"),v=h.MutationObserver||h.WebKitMutationObserver,b=h.document,y=h.process,_=h.Promise,w=d(h,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;g&&(t=y.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?o():s=void 0,n}}s=void 0,t&&t.enter()},f||g||m||!v||!b?_&&_.resolve?(l=_.resolve(void 0),u=l.then,o=function(){u.call(l,r)}):o=g?function(){y.nextTick(r)}:function(){p.call(h,r)}:(a=!0,c=b.createTextNode(""),new v(r).observe(c,{characterData:!0}),o=function(){c.data=a=!a})),t.exports=x||function(t){var e={fn:t,next:void 0};s&&(s.next=e),i||(i=e,o()),s=e}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),s=n("5135"),o=n("90e3"),a=n("4930"),c=n("fdbf"),l=i("wks"),u=r.Symbol,h=c?u:u&&u.withoutSetter||o;t.exports=function(t){return s(l,t)&&(a||"string"==typeof l[t])||(a&&s(u,t)?l[t]=u[t]:l[t]=h("Symbol."+t)),l[t]}},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),s=n("df75"),o=n("d039"),a=o((function(){s(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(t){return s(i(t))}})},b721:function(t,e){try{if("function"!==typeof window.CustomEvent){var n=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};n.prototype=window.Event.prototype,window.CustomEvent=n}}catch(i){}var r=function(t){this.textarea=document.getElementById(t),this.initialText=this.textarea.value,this.isDragging=!1};r.prototype.addSelectionListener=function(t){this.textarea.onmousemove=function(e){this.isDragging&&t.fireSelectionChanged()}},r.prototype.addChangeListener=function(t){this.changelistener=t,this.textarea.onkeyup=function(){t.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,t.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,t.fireChanged()},this.textarea.onchange=function(){t.fireChanged()}},r.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},r.prototype.setSelection=function(t,e){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(t,e);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}this.textarea.focus()},r.prototype.getString=function(){return this.textarea.value},r.prototype.setString=function(t){this.textarea.value=t,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},r.prototype.getElem=function(){return this.textarea},t.exports=r},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),s=n("7b0b"),o=n("50c4"),a=n("65f0"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,h=6==t,d=7==t,p=5==t||h;return function(f,m,g,v){for(var b,y,_=s(f),w=i(_),x=r(m,g,3),k=o(w.length),T=0,S=v||a,O=e?S(f,k):n||d?S(f,0):void 0;k>T;T++)if((p||T in w)&&(b=w[T],y=x(b,T,_),t))if(e)O[T]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return T;case 2:c.call(O,b)}else switch(t){case 4:return!1;case 7:c.call(O,b)}return h?-1:l||u?u:O}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},b774:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="devtools-plugin:setup"},bb66:function(t,e,n){"use strict";n.d(e,"a",(function(){return rn}));const r={},i=[];function s(t,e){if(Array.isArray(t))for(const n of t)s(n,e);else if("object"!=typeof t)a(Object.getOwnPropertyNames(e)),r[t]=Object.assign(r[t]||{},e);else for(const n in t)s(n,t[n])}function o(t){return r[t]||{}}function a(t){i.push(...t)}function c(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function l(t){return t%360*Math.PI/180}function u(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function h(t){return t.charAt(0).toUpperCase()+t.slice(1)}function d(t,e,n,r){return null!=e&&null!=n||(r=r||t.bbox(),null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)),{width:e,height:n}}function p(t,e){const n=t.origin;let r,i;if("string"==typeof n||null==n){const s=(n||"center").toLowerCase().trim(),{height:o,width:a,x:c,y:l}=e.bbox(),u=s.includes("left")?c:s.includes("right")?c+a:c+a/2,h=s.includes("top")?l:s.includes("bottom")?l+o:l+o/2;r=null!=t.ox?t.ox:u,i=null!=t.oy?t.oy:h}else r=n[0],i=n[1];return[r,i]}const f="http://www.w3.org/2000/svg",m="http://www.w3.org/2000/xmlns/",g="http://www.w3.org/1999/xlink",v={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class b{}const y={},_="___SYMBOL___ROOT___";function w(t){return v.document.createElementNS(f,t)}function x(t){if(t instanceof b)return t;if("object"==typeof t)return S(t);if(null==t)return new y[_];if("string"==typeof t&&"<"!==t.charAt(0))return S(v.document.querySelector(t));var e=w("svg");return e.innerHTML=t,S(e.firstChild)}function k(t,e){return e instanceof v.window.Node?e:w(t)}function T(t){if(!t)return null;if(t.instance instanceof b)return t.instance;var e=h(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":y[e]||(e="Dom"),new y[e](t)}let S=T;function O(t,e=t.name,n=!1){return y[e]=t,n&&(y[_]=t),a(Object.getOwnPropertyNames(t.prototype)),t}let C=1e3;function E(t){return"Svgjs"+h(t)+C++}function A(t,e,n){var r,i;for(i=(t=Array.isArray(t)?t:[t]).length-1;i>=0;i--)for(r in e){let s=e[r];n&&(s=M(e[r])),t[i].prototype[r]=s}}function M(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}s("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),"function"==typeof e.isRoot&&e.isRoot()&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),"function"==typeof t.isRoot&&t.isRoot()&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){(t=x(t)).remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){(t=x(t)).remove();var e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=x(t)).before(this),this},insertAfter:function(t){return(t=x(t)).after(this),this}});const N=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,j=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,I=/rgb\((\d+),(\d+),(\d+)\)/,P=/(#[a-z0-9\-_]+)/i,L=/\)\s*,?\s*/,D=/\s/g,F=/^#[a-f0-9]{3,6}$/i,B=/^rgb\(/,R=/^(\s+)?$/,V=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,H=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,q=/[\s,]+/,z=/([^e])-/gi,W=/[MLHVCSQTAZ]/gi,G=/[MLHVCSQTAZ]/i,U=/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,Y=/\./g;s("Dom",{classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(q)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),s("Dom",{css:function(t,e){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);n[e[0]]=e[1]})),n;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=u(e);n[t]=this.node.style[t]}return n}if("string"==typeof t)return this.node.style[u(t)];if("object"==typeof t)for(const e in t)this.node.style[u(e)]=null==t[e]||R.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[u(t)]=null==e||R.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),s("Dom",{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),s("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(var n in t)this.remember(n,t[n]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});let $=0;const X={};function K(t){let e=t.getEventHolder();return e===v.window&&(e=X),e.events||(e.events={}),e.events}function Z(t){return t.getEventTarget()}function Q(t,e,n,r,i){var s=n.bind(r||t),o=x(t),a=K(o),c=Z(o);e=Array.isArray(e)?e:e.split(q),n._svgjsListenerId||(n._svgjsListenerId=++$),e.forEach((function(t){var e=t.split(".")[0],r=t.split(".")[1]||"*";a[e]=a[e]||{},a[e][r]=a[e][r]||{},a[e][r][n._svgjsListenerId]=s,c.addEventListener(e,s,i||!1)}))}function J(t,e,n,r){var i=x(t),s=K(i),o=Z(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(q)).forEach((function(t){var e,a,c=t&&t.split(".")[0],l=t&&t.split(".")[1];if(n)s[c]&&s[c][l||"*"]&&(o.removeEventListener(c,s[c][l||"*"][n],r||!1),delete s[c][l||"*"][n]);else if(c&&l){if(s[c]&&s[c][l]){for(a in s[c][l])J(o,[c,l].join("."),a);delete s[c][l]}}else if(l)for(t in s)for(e in s[t])l===e&&J(o,[t,l].join("."));else if(c){if(s[c]){for(e in s[c])J(o,[c,e].join("."));delete s[c]}}else{for(t in s)J(o,t);!function(t){const e=t.getEventHolder();e.events&&(e.events={})}(i)}}))}function tt(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function et(t,e){for(let n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function nt(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}class rt{constructor(...t){this.init(...t)}init(t=0,e=0,n=0,r=0,i="rgb"){if(t=t||0,this.space)for(const u in this.space)delete this[this.space[u]];if("number"==typeof t)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:t,_b:e,_c:n,_d:r,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const n=function(t,e){const n=et(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,space:"rgb"}:et(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:et(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:et(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:et(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:et(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,n)}else if("string"==typeof t)if(B.test(t)){const e=t.replace(D,""),[n,r,i]=I.exec(e).slice(1,4).map(t=>parseInt(t));Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}else{if(!F.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,n,r,i]=j.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}}const{_a:s,_b:o,_c:a,_d:c}=this,l="rgb"===this.space?{r:s,g:o,b:a}:"xyz"===this.space?{x:s,y:o,z:a}:"hsl"===this.space?{h:s,s:o,l:a}:"lab"===this.space?{l:s,a:o,b:a}:"lch"===this.space?{l:s,c:o,h:a}:"cmyk"===this.space?{c:s,m:o,y:a,k:c}:{};Object.assign(this,l)}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:r,a:i,b:s}=this;if("lch"===this.space){const{c:t,h:e}=this,n=Math.PI/180;i=t*Math.cos(n*e),s=t*Math.sin(n*e)}const o=(r+16)/116,a=i/500+o,c=o-s/200,l=16/116,u=.008856,h=7.787;t=.95047*(a**3>u?a**3:(a-l)/h),e=1*(o**3>u?o**3:(o-l)/h),n=1.08883*(c**3>u?c**3:(c-l)/h)}const r=3.2406*t+-1.5372*e+-.4986*n,i=-.9689*t+1.8758*e+.0415*n,s=.0557*t+-.204*e+1.057*n,o=Math.pow,a=.0031308,c=r>a?1.055*o(r,1/2.4)-.055:12.92*r,l=i>a?1.055*o(i,1/2.4)-.055:12.92*i,u=s>a?1.055*o(s,1/2.4)-.055:12.92*s;return new rt(255*c,255*l,255*u)}if("hsl"===this.space){let{h:t,s:e,l:n}=this;if(t/=360,e/=100,n/=100,0===e)return n*=255,new rt(n,n,n);const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=255*nt(i,r,t+1/3),o=255*nt(i,r,t),a=255*nt(i,r,t-1/3);return new rt(s,o,a)}if("cmyk"===this.space){const{c:t,m:e,y:n,k:r}=this,i=255*(1-Math.min(1,t*(1-r)+r)),s=255*(1-Math.min(1,e*(1-r)+r)),o=255*(1-Math.min(1,n*(1-r)+r));return new rt(i,s,o)}return this;var t}lab(){const{x:t,y:e,z:n}=this.xyz();return new rt(116*e-16,500*(t-e),200*(e-n),"lab")}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,s]=[t,e,n].map(t=>t/255),o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,c=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,l=(.4124*o+.3576*a+.1805*c)/.95047,u=(.2126*o+.7152*a+.0722*c)/1,h=(.0193*o+.1192*a+.9505*c)/1.08883,d=l>.008856?Math.pow(l,1/3):7.787*l+16/116,p=u>.008856?Math.pow(u,1/3):7.787*u+16/116,f=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new rt(d,p,f,"xyz")}lch(){const{l:t,a:e,b:n}=this.lab(),r=Math.sqrt(e**2+n**2);let i=180*Math.atan2(n,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new rt(t,r,i,"lch")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,s]=[t,e,n].map(t=>t/255),o=Math.max(r,i,s),a=Math.min(r,i,s),c=(o+a)/2,l=o===a,u=o-a;return new rt(360*(l?0:o===r?((i-s)/u+(i<s?6:0))/6:o===i?((s-r)/u+2)/6:o===s?((r-i)/u+4)/6:0),100*(l?0:c>.5?u/(2-o-a):u/(o+a)),100*c,"hsl")}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,s]=[t,e,n].map(t=>t/255),o=Math.min(1-r,1-i,1-s);return 1===o?new rt(0,0,0,1,"cmyk"):new rt((1-r-o)/(1-o),(1-i-o)/(1-o),(1-s-o)/(1-o),o,"cmyk")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:r,min:i,round:s}=Math;return[t,e,n].map(t=>r(0,i(s(t),255)))}toHex(){const[t,e,n]=this._clamped().map(tt);return`#${t}${e}${n}`}toString(){return this.toHex()}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toArray(){const{_a:t,_b:e,_c:n,_d:r,space:i}=this;return[t,e,n,r,i]}static random(t="vibrant",e,n){const{random:r,round:i,sin:s,PI:o}=Math;if("vibrant"===t){const t=24*r()+57,e=38*r()+45,n=360*r();return new rt(t,e,n,"lch")}if("sine"===t){const t=i(80*s(2*o*(e=null==e?r():e)/.5+.01)+150),n=i(50*s(2*o*e/.5+4.6)+200),a=i(100*s(2*o*e/.5+2.3)+150);return new rt(t,n,a)}if("pastel"===t){const t=8*r()+86,e=17*r()+9,n=360*r();return new rt(t,e,n,"lch")}if("dark"===t){const t=10+10*r(),e=50*r()+86,n=360*r();return new rt(t,e,n,"lch")}if("rgb"===t){const t=255*r(),e=255*r(),n=255*r();return new rt(t,e,n)}if("lab"===t){const t=100*r(),e=256*r()-128,n=256*r()-128;return new rt(t,e,n,"lab")}if("grey"===t){const t=255*r();return new rt(t,t,t)}}static test(t){return"string"==typeof t&&(F.test(t)||B.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static isColor(t){return t&&(t instanceof rt||this.isRgb(t)||this.test(t))}}class it{constructor(...t){this.init(...t)}init(t,e){const n=0,r=0,i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==i.x?n:i.x,this.y=null==i.y?r:i.y,this}clone(){return new it(this)}transform(t){return this.clone().transformO(t)}transformO(t){ot.isMatrixLike(t)||(t=new ot(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}toArray(){return[this.x,this.y]}}function st(t,e,n){return Math.abs(e-t)<(n||1e-6)}class ot{constructor(...t){this.init(...t)}init(t){var e=ot.fromArray([1,0,0,1,0,0]);return t=t instanceof St?t.matrixify():"string"==typeof t?ot.fromArray(t.split(q).map(parseFloat)):Array.isArray(t)?ot.fromArray(t):"object"==typeof t&&ot.isMatrixLike(t)?t:"object"==typeof t?(new ot).transform(t):6===arguments.length?ot.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}clone(){return new ot(this)}transform(t){if(ot.isMatrixLike(t))return new ot(t).multiplyO(this);var e=ot.formatTransforms(t);const{x:n,y:r}=new it(e.ox,e.oy).transform(this);var i=(new ot).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const t=new it(n,r).transform(i),s=e.px?e.px-t.x:0,o=e.py?e.py-t.y:0;i.translateO(s,o)}return i.translateO(e.tx,e.ty),i}compose(t){t.origin&&(t.originX=t.origin[0],t.originY=t.origin[1]);var e=t.originX||0,n=t.originY||0,r=t.scaleX||1,i=t.scaleY||1,s=t.shear||0,o=t.rotate||0,a=t.translateX||0,c=t.translateY||0;return(new ot).translateO(-e,-n).scaleO(r,i).shearO(s).rotateO(o).translateO(a,c).lmultiplyO(this).translateO(e,n)}decompose(t=0,e=0){var n=this.a,r=this.b,i=this.c,s=this.d,o=this.e,a=this.f,c=n*s-r*i,l=c>0?1:-1,u=l*Math.sqrt(n*n+r*r),h=Math.atan2(l*r,l*n),d=180/Math.PI*h,p=Math.cos(h),f=Math.sin(h),m=(n*i+r*s)/c,g=i*u/(m*n-r)||s*u/(m*r+n);return{scaleX:u,scaleY:g,shear:m,rotate:d,translateX:o-t+t*p*u+e*(m*p*u-f*g),translateY:a-e+t*f*u+e*(m*f*u+p*g),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){var e=t instanceof ot?t:new ot(t);return ot.matrixMultiply(this,e,this)}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){var e=t instanceof ot?t:new ot(t);return ot.matrixMultiply(e,this,this)}inverseO(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,s=this.f,o=t*r-e*n;if(!o)throw new Error("Cannot invert "+this);var a=r/o,c=-e/o,l=-n/o,u=t/o,h=-(a*i+l*s),d=-(c*i+u*s);return this.a=a,this.b=c,this.c=l,this.d=u,this.e=h,this.f=d,this}inverse(){return this.clone().inverseO()}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}scale(t,e,n,r){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t);const{a:i,b:s,c:o,d:a,e:c,f:l}=this;return this.a=i*t,this.b=s*e,this.c=o*t,this.d=a*e,this.e=c*t-n*t+n,this.f=l*e-r*e+r,this}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=l(t);const r=Math.cos(t),i=Math.sin(t),{a:s,b:o,c:a,d:c,e:u,f:h}=this;return this.a=s*r-o*i,this.b=o*r+s*i,this.c=a*r-c*i,this.d=c*r+a*i,this.e=u*r-h*i+n*i-e*r+e,this.f=h*r+u*i-e*i-n*r+n,this}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:r,b:i,c:s,d:o,e:a,f:c}=this;return this.a=r+i*t,this.c=s+o*t,this.e=a+c*t-n*t,this}skew(t,e,n,r){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t),t=l(t),e=l(e);const i=Math.tan(t),s=Math.tan(e),{a:o,b:a,c:c,d:u,e:h,f:d}=this;return this.a=o+a*i,this.b=a+o*s,this.c=c+u*i,this.d=u+c*s,this.e=h+d*i-r*i,this.f=d+h*s-n*s,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewXO(t,e,n){return this.skewO(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}skewYO(t,e,n){return this.skewO(0,t,e,n)}aroundO(t,e,n){var r=t||0,i=e||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}around(t,e,n){return this.clone().aroundO(t,e,n)}equals(t){var e=new ot(t);return st(this.a,e.a)&&st(this.b,e.b)&&st(this.c,e.c)&&st(this.d,e.d)&&st(this.e,e.e)&&st(this.f,e.f)}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static formatTransforms(t){var e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,r=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,a=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,c=t.shear||0,l=t.rotate||t.theta||0,u=new it(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),h=u.x,d=u.y,p=new it(t.position||t.px||t.positionX,t.py||t.positionY),f=p.x,m=p.y,g=new it(t.translate||t.tx||t.translateX,t.ty||t.translateY),v=g.x,b=g.y,y=new it(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:a,skewX:i,skewY:s,shear:c,theta:l,rx:y.x,ry:y.y,tx:v,ty:b,ox:h,oy:d,px:f,py:m}}static matrixMultiply(t,e,n){var r=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,s=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,a=t.e+t.a*e.e+t.c*e.f,c=t.f+t.b*e.e+t.d*e.f;return n.a=r,n.b=i,n.c=s,n.d=o,n.e=a,n.f=c,n}}function at(){if(!at.nodes){const t=x().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;at.nodes={svg:t,path:e}}if(!at.nodes.svg.node.parentNode){const t=v.document.body||v.document.documentElement;at.nodes.svg.addTo(t)}return at.nodes}function ct(t){return!(t.width||t.height||t.x||t.y)}O(ot,"Matrix");class lt{constructor(...t){this.init(...t)}init(t){return t="string"==typeof t?t.split(q).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-n;return new lt(e,n,r,i)}transform(t){t instanceof ot||(t=new ot(t));let e=1/0,n=-1/0,r=1/0,i=-1/0;return[new it(this.x,this.y),new it(this.x2,this.y),new it(this.x,this.y2),new it(this.x2,this.y2)].forEach((function(s){s=s.transform(t),e=Math.min(e,s.x),n=Math.max(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.y)})),new lt(e,r,n-e,i-r)}addOffset(){return this.x+=v.window.pageXOffset,this.y+=v.window.pageYOffset,this}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}toArray(){return[this.x,this.y,this.width,this.height]}isNulled(){return ct(this)}}function ut(t,e){let n;try{if(n=t(this.node),ct(n)&&(r=this.node)!==v.document&&!(v.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===v.document}).call(v.document.documentElement,r))throw new Error("Element not in the dom")}catch(t){n=e(this)}var r;return n}s({viewbox:{viewbox(t,e,n,r){return null==t?new lt(this.attr("viewBox")):this.attr("viewBox",new lt(t,e,n,r))},zoom(t,e){let n=this.node.clientWidth,r=this.node.clientHeight;const i=this.viewbox();if(!n&&!r){var s=window.getComputedStyle(this.node);n=parseFloat(s.getPropertyValue("width")),r=parseFloat(s.getPropertyValue("height"))}const o=n/i.width,a=r/i.height,c=Math.min(o,a);if(null==t)return c;let l=c/t;l===1/0&&(l=Number.MIN_VALUE),e=e||new it(n/2/o+i.x,r/2/a+i.y);const u=new lt(i).transform(new ot({scale:l,origin:e}));return this.viewbox(u)}}}),O(lt,"Box");const ht=function(){try{return Function("name","baseClass","_constructor",["baseClass = baseClass || Array","return {","  [name]: class extends baseClass {","    constructor (...args) {","      super(...args)","      _constructor && _constructor.apply(this, args)","    }","  }","}[name]"].join("\n"))}catch(r){return(t,e=Array,n)=>{const r=function(){e.apply(this,arguments),n&&n.apply(this,arguments)};return(r.prototype=Object.create(e.prototype)).constructor=r,r.prototype.map=function(t){const e=new r;return e.push.apply(e,Array.prototype.map.call(this,t)),e},r}}}(),dt=ht("List",Array,(function(t=[]){if("number"==typeof t)return this;this.length=0,this.push(...t)}));A(dt,{each(t,...e){return"function"==typeof t?this.map(e=>t.call(e,e)):this.map(n=>n[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const pt=["toArray","constructor","each"];function ft(t,e){return new dt(c((e||v.document).querySelectorAll(t),(function(t){return T(t)})))}dt.extend=function(t){t=t.reduce((t,e)=>(pt.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t),{}),A(dt,t)};class mt extends b{constructor({events:t={}}={}){super(),this.events=t}addEventListener(){}dispatch(t,e){return function(t,e,n){var r=Z(t);return e instanceof v.window.Event||(e=new v.window.CustomEvent(e,{detail:n,cancelable:!0})),r.dispatchEvent(e),e}(this,t,e)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const r in n)for(const e in n[r])n[r][e](t);return!t.defaultPrevented}fire(t,e){return this.dispatch(t,e),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e){return J(this,t,e),this}on(t,e,n,r){return Q(this,t,e,n,r),this}removeEventListener(){}}function gt(){}O(mt,"EventTarget");const vt=400,bt=">",yt=0,_t={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"},wt=ht("SVGArray",Array,(function(t){this.init(t)}));A(wt,{init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this},toArray(){return Array.prototype.concat.apply([],this)},toString(){return this.join(" ")},valueOf(){const t=[];return t.push(...this),t},parse:(t=[])=>t instanceof Array?t:t.trim().split(q).map(parseFloat),clone(){return new this.constructor(this)},toSet(){return new Set(this)}});class xt{constructor(...t){this.init(...t)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(N))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof xt&&(this.value=t.valueOf(),this.unit=t.unit),this}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}toJSON(){return this.toString()}toArray(){return[this.value,this.unit]}valueOf(){return this.value}plus(t){return t=new xt(t),new xt(this+t,this.unit||t.unit)}minus(t){return t=new xt(t),new xt(this-t,this.unit||t.unit)}times(t){return t=new xt(t),new xt(this*t,this.unit||t.unit)}divide(t){return t=new xt(t),new xt(this/t,this.unit||t.unit)}convert(t){return new xt(this.value,t)}}const kt=[];class Tt extends mt{constructor(t,e){super(t),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=x(t),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t){return x(t).put(this)}children(){return new dt(c(this.node.children,(function(t){return T(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(){return this.writeDataToDom(),function t(e){for(var n=e.children.length-1;n>=0;n--)t(e.children[n]);return e.id?T(e).id(E(e.nodeName)):T(e)}(this.node.cloneNode(!0))}each(t,e){var n,r,i=this.children();for(n=0,r=i.length;n<r;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}element(t){return this.put(new Tt(w(t)))}first(){return T(this.node.firstChild)}get(t){return T(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}id(t){return void 0!==t||this.node.id||(this.node.id=E(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return T(this.node.lastChild)}matches(t){const e=this.node;return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}parent(t){var e=this;if(!e.node.parentNode)return null;if(e=T(e.node.parentNode),!t)return e;for(;e;){if("string"==typeof t?e.matches(t):e instanceof t)return e;if(!e.node.parentNode||"#document"===e.node.parentNode.nodeName||"#document-fragment"===e.node.parentNode.nodeName)return null;e=T(e.node.parentNode)}}put(t,e){return this.add(t,e),t}putIn(t){return x(t).add(this)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=x(t),this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e){const n=10**t,r=this.attr();e||(e=Object.keys(r));const i={};return e.forEach(t=>{i[t]=Math.round(r[t]*n)/n}),this.attr(i),this}toString(){return this.id()}svg(t,e){var n,r,i;if(!1===t&&(e=!1,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let n=this;if(null!=t){if(n=T(n.node.cloneNode(!0)),e){const e=t(n);if(n=e||n,!1===e)return""}n.each((function(){const e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)}),!0)}return e?n.node.outerHTML:n.node.innerHTML}for(e=null!=e&&e,n=v.document.createElementNS(f,"svg"),i=v.document.createDocumentFragment(),n.innerHTML=t,r=n.children.length;r--;)i.appendChild(n.firstElementChild);const s=this.parent();return e?this.replace(i)&&s:this.add(i)}words(t){return this.node.textContent=t,this}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}}A(Tt,{attr:function(t,e,n){if(null==t){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=V.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce((t,e)=>(t[e]=this.attr(e),t),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?_t[t]:V.test(e)?parseFloat(e):e;"number"==typeof(e=kt.reduce((e,n)=>n(t,e,this),e))?e=new xt(e):rt.isColor(e)?e=new rt(e):e.constructor===Array&&(e=new wt(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return ft(t,this.node)},findOne:function(t){return T(this.node.querySelector(t))}}),O(Tt,"Dom");class St extends Tt{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){return this.root().defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new xt(t).plus(this.x()))}dy(t=0){return this.y(new xt(t).plus(this.y()))}root(){const t=this.parent(y[_]);return t&&t.root()}getEventHolder(){return this}height(t){return this.attr("height",t)}inside(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height}move(t,e){return this.x(t).y(e)}parents(t=v.document){t=x(t);const e=new dt;let n=this;for(;(n=n.parent())&&n.node!==t.node&&n.node!==v.document;)e.push(n);return e}reference(t){if(!(t=this.attr(t)))return null;const e=t.match(P);return e?x(e[1]):null}setData(t){return this.dom=t,this}size(t,e){const n=d(this,t,e);return this.width(new xt(n.width)).height(new xt(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}A(St,{bbox:function(){return new lt(ut.call(this,t=>t.getBBox(),t=>{try{const e=t.clone().addTo(at().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(i){throw new Error('Getting bbox of element "'+t.node.nodeName+'" is not possible. '+i.toString())}}))},rbox:function(t){const e=new lt(ut.call(this,t=>t.getBoundingClientRect(),t=>{throw new Error('Getting rbox of element "'+t.node.nodeName+'" is not possible')}));return t?e.transform(t.screenCTM().inverse()):e.addOffset()},point:function(t,e){return new it(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new ot(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new ot(e)}return new ot(this.node.getScreenCTM())}}),O(St,"Element");var Ot={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};function Ct(t){return this.attr("rx",t)}function Et(t){return this.attr("ry",t)}function At(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Mt(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Nt(t){return null==t?this.attr("cx"):this.attr("cx",t)}function jt(t){return null==t?this.attr("cy"):this.attr("cy",t)}function It(t){return null==t?2*this.rx():this.rx(new xt(t).divide(2))}function Pt(t){return null==t?2*this.ry():this.ry(new xt(t).divide(2))}["fill","stroke"].forEach((function(t){var e,n={};n[t]=function(n){if(void 0===n)return this.attr(t);if("string"==typeof n||n instanceof rt||rt.isRgb(n)||n instanceof St)this.attr(t,n);else for(e=Ot[t].length-1;e>=0;e--)null!=n[Ot[t][e]]&&this.attr(Ot.prefix(t,Ot[t][e]),n[Ot[t][e]]);return this},s(["Element","Runner"],n)})),s(["Element","Runner"],{matrix:function(t,e,n,r,i,s){return null==t?new ot(this):this.attr("transform",new ot(t,e,n,r,i,s))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t,e){var n="string"==typeof t?t:(isFinite(t),"both"),r="both"===t&&isFinite(e)?[e,e]:"x"===t?[e,0]:"y"===t?[0,e]:isFinite(t)?[t,t]:[0,0];return this.transform({flip:n,origin:r},!0)},opacity:function(t){return this.attr("opacity",t)}}),s("radius",{radius:function(t,e){var n=(this._element||this).type;return"radialGradient"===n||"radialGradient"===n?this.attr("r",new xt(t)):this.rx(t).ry(null==e?t:e)}}),s("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new it(this.node.getPointAtLength(t))}}),s(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),s("Text",{ax(t){return this.attr("x",t)},ay(t){return this.attr("y",t)},amove(t,e){return this.ax(t).ay(e)}}),s("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?J(this,e):Q(this,e,t),this},t}),{})),s("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(L).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(q).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(ot.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new ot)},toParent:function(t){if(this===t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toRoot:function(){return this.toParent(this.root())},transform:function(t,e){if(null==t||"string"==typeof t){var n=new ot(this).decompose();return null==t?n:n[t]}ot.isMatrixLike(t)||(t={...t,origin:p(t,this)});var r=new ot(!0===e?this:e||!1).transform(t);return this.attr("transform",r)}});var Lt,Dt=Object.freeze({__proto__:null,rx:Ct,ry:Et,x:At,y:Mt,cx:Nt,cy:jt,width:It,height:Pt});class Ft extends St{}O(Ft,"Shape");class Bt extends Ft{constructor(t){super(k("circle",t),t)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new xt(t).divide(2))}}A(Bt,{x:At,y:Mt,cx:Nt,cy:jt,width:It,height:Pt}),s({Container:{circle:M((function(t){return this.put(new Bt).size(t).move(0,0)}))}}),O(Bt,"Circle");class Rt extends St{flatten(t){return this.each((function(){return this instanceof Rt?this.flatten(t).ungroup(t):this.toParent(t)})),this.node.firstElementChild||this.remove(),this}ungroup(t){return t=t||this.parent(),this.each((function(){return this.toParent(t)})),this.remove(),this}}O(Rt,"Container");class Vt extends Rt{constructor(t){super(k("defs",t),t)}flatten(){return this}ungroup(){return this}}O(Vt,"Defs");class Ht extends Ft{constructor(t){super(k("ellipse",t),t)}size(t,e){var n=d(this,t,e);return this.rx(new xt(n.width).divide(2)).ry(new xt(n.height).divide(2))}}A(Ht,Dt),s("Container",{ellipse:M((function(t=0,e=t){return this.put(new Ht).size(t,e).move(0,0)}))}),O(Ht,"Ellipse");class qt extends St{constructor(t){super(k("stop",t),t)}update(t){return("number"==typeof t||t instanceof xt)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new xt(t.offset)),this}}function zt(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new xt(t),fy:new xt(e)}):this.attr({x1:new xt(t),y1:new xt(e)})}function Wt(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new xt(t),cy:new xt(e)}):this.attr({x2:new xt(t),y2:new xt(e)})}O(qt,"Stop");class Gt extends Rt{constructor(t,e){super(k(t+"Gradient","string"==typeof t?null:t),e)}stop(t,e,n){return this.put(new qt).update(t,e,n)}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}toString(){return this.url()}attr(t,e,n){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,n)}targets(){return ft('svg [fill*="'+this.id()+'"]')}bbox(){return new lt}}A(Gt,Object.freeze({__proto__:null,from:zt,to:Wt})),s({Container:{gradient:M((function(t,e){return this.defs().gradient(t,e)}))},Defs:{gradient:M((function(t,e){return this.put(new Gt(t)).update(e)}))}}),O(Gt,"Gradient");class Ut extends Rt{constructor(t){super(k("pattern",t),t)}url(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}toString(){return this.url()}attr(t,e,n){return"transform"===t&&(t="patternTransform"),super.attr(t,e,n)}targets(){return ft('svg [fill*="'+this.id()+'"]')}bbox(){return new lt}}s({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:M((function(t,e,n){return this.put(new Ut).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),O(Ut,"Pattern");class Yt extends Ft{constructor(t){super(k("image",t),t)}load(t,e){if(!t)return this;var n=new v.window.Image;return Q(n,"load",(function(t){var r=this.parent(Ut);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof Ut&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),Q(n,"load error",(function(){J(n)})),this.attr("href",n.src=t,g)}}Lt=function(t,e,n){return"fill"!==t&&"stroke"!==t||H.test(e)&&(e=n.root().defs().image(e)),e instanceof Yt&&(e=n.root().defs().pattern(0,0,t=>{t.add(e)})),e},kt.push(Lt),s({Container:{image:M((function(t,e){return this.put(new Yt).size(0,0).load(t,e)}))}}),O(Yt,"Image");const $t=ht("PointArray",wt);A($t,{toString(){for(var t=0,e=this.length,n=[];t<e;t++)n.push(this[t].join(","));return n.join(" ")},toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}},at(t){if(!this.destination)return this;for(var e=0,n=this.length,r=[];e<n;e++)r.push([this[e][0]+(this.destination[e][0]-this[e][0])*t,this[e][1]+(this.destination[e][1]-this[e][1])*t]);return new $t(r)},parse(t=[[0,0]]){var e=[];if(t instanceof Array){if(t[0]instanceof Array)return t}else t=t.trim().split(q).map(parseFloat);t.length%2!=0&&t.pop();for(var n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e},transform(t){const e=[];for(let n=0;n<this.length;n++){const r=this[n];e.push([t.a*r[0]+t.c*r[1]+t.e,t.b*r[0]+t.d*r[1]+t.f])}return new $t(e)},move(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+e];return this},size(t,e){var n,r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*t/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*e/r.height+r.y);return this},bbox(){var t=-1/0,e=-1/0,n=1/0,r=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),n=Math.min(i[0],n),r=Math.min(i[1],r)})),{x:n,y:r,width:t-n,height:e-r}}});const Xt=$t;var Kt=Object.freeze({__proto__:null,MorphArray:Xt,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}});class Zt extends Ft{constructor(t){super(k("line",t),t)}array(){return new $t([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}plot(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new $t(t).toLine(),this.attr(t))}move(t,e){return this.attr(this.array().move(t,e).toLine())}size(t,e){var n=d(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}A(Zt,Kt),s({Container:{line:M((function(...t){return Zt.prototype.plot.apply(this.put(new Zt),null!=t[0]?t:[0,0,0,0])}))}}),O(Zt,"Line");class Qt extends Rt{constructor(t){super(k("marker",t),t)}width(t){return this.attr("markerWidth",t)}height(t){return this.attr("markerHeight",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}toString(){return"url(#"+this.id()+")"}}function Jt(t,e){return function(n){return null==n?this[n]:(this[t]=n,e&&e.call(this),this)}}s({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:M((function(t,e,n){return this.put(new Qt).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}))},marker:{marker(t,e,n,r){var i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Qt?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),O(Qt,"Marker");const te={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return"none"===e?--n:"both"===e&&++n,(r,i=!1)=>{let s=Math.floor(r*t);const o=r*s%1==0;return"start"!==e&&"both"!==e||++s,i&&o&&--s,r>=0&&s<0&&(s=0),r<=1&&s>n&&(s=n),s/n}}};class ee{done(){return!1}}class ne extends ee{constructor(t){super(),this.ease=te[t||bt]||t}step(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}class re extends ee{constructor(t){super(),this.stepper=t}step(t,e,n,r){return this.stepper(t,e,n,r)}done(t){return t.done}}function ie(){var t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),s=3.9/(i*t);this.d=2*i*s,this.k=s*s}A(class extends re{constructor(t,e){super(),this.duration(t||500).overshoot(e||0)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;var i=r.velocity||0,s=-this.d*i-this.k*(t-e),o=t+i*n+s*n*n/2;return r.velocity=i+s*n,r.done=Math.abs(e-o)+Math.abs(i)<.002,r.done?e:o}},{duration:Jt("_duration",ie),overshoot:Jt("_overshoot",ie)}),A(class extends re{constructor(t,e,n,r){super(),t=null==t?.1:t,e=null==e?.01:e,n=null==n?0:n,r=null==r?1e3:r,this.p(t).i(e).d(n).windup(r)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;var i=e-t,s=(r.integral||0)+i*n,o=(i-(r.error||0))/n,a=this.windup;return!1!==a&&(s=Math.max(-a,Math.min(s,a))),r.error=i,r.integral=s,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*s+this.D*o)}},{windup:Jt("windup"),p:Jt("P"),i:Jt("I"),d:Jt("D")});const se=ht("PathArray",wt);function oe(t,e,n,r){return n+r.replace(Y," .")}const ae={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},ce="mlhvqtcsaz".split("");for(var le=0,ue=ce.length;le<ue;++le)ae[ce[le]]=function(t){return function(e,n,r){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var i=0,s=e.length;i<s;++i)e[i]=e[i]+(i%2?n.y:n.x);return ae[t](e,n,r)}}(ce[le].toUpperCase());A(se,{toString(){return function(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e][0],null!=t[e][1]&&(r+=t[e][1],null!=t[e][2]&&(r+=" ",r+=t[e][2],null!=t[e][3]&&(r+=" ",r+=t[e][3],r+=" ",r+=t[e][4],null!=t[e][5]&&(r+=" ",r+=t[e][5],r+=" ",r+=t[e][6],null!=t[e][7]&&(r+=" ",r+=t[e][7])))));return r+" "}(this)},move(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r,i=this.length-1;i>=0;i--)"M"===(r=this[i][0])||"L"===r||"T"===r?(this[i][1]+=t,this[i][2]+=e):"H"===r?this[i][1]+=t:"V"===r?this[i][1]+=e:"C"===r||"S"===r||"Q"===r?(this[i][1]+=t,this[i][2]+=e,this[i][3]+=t,this[i][4]+=e,"C"===r&&(this[i][5]+=t,this[i][6]+=e)):"A"===r&&(this[i][6]+=t,this[i][7]+=e);return this},size(t,e){var n,r,i=this.bbox();for(i.width=0===i.width?1:i.width,i.height=0===i.height?1:i.height,n=this.length-1;n>=0;n--)"M"===(r=this[n][0])||"L"===r||"T"===r?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):"H"===r?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:"V"===r?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:"C"===r||"S"===r||"Q"===r?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,"C"===r&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):"A"===r&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this},equalCommands(t){var e,n,r;for(t=new se(t),r=this.length===t.length,e=0,n=this.length;r&&e<n;e++)r=this[e][0]===t[e][0];return r},morph(t){return t=new se(t),this.equalCommands(t)?this.destination=t:this.destination=null,this},at(t){if(!this.destination)return this;var e,n,r,i,s=this.destination.value,o=[],a=new se;for(e=0,n=this.length;e<n;e++){for(o[e]=[this[e][0]],r=1,i=this[e].length;r<i;r++)o[e][r]=this[e][r]+(s[e][r]-this[e][r])*t;"A"===o[e][0]&&(o[e][4]=+(0!==o[e][4]),o[e][5]=+(0!==o[e][5]))}return a.value=o,a},parse(t=[["M",0,0]]){if(t instanceof se)return t;var e,n={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(U,oe).replace(W," $& ").replace(z,"$1 -").trim().split(q):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var r=[],i=new it,s=new it,o=0,a=t.length;do{G.test(t[o])?(e=t[o],++o):"M"===e?e="L":"m"===e&&(e="l"),r.push(ae[e].call(null,t.slice(o,o+=n[e.toUpperCase()]).map(parseFloat),i,s))}while(a>o);return r},bbox(){return at().path.setAttribute("d",this.toString()),at.nodes.path.getBBox()}});class he{constructor(t){this._stepper=t||new ne("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}from(t){return null==t?this._from:(this._from=this._set(t),this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){if(!this._type){var e=typeof t;"number"===e?this.type(xt):"string"===e?rt.isColor(t)?this.type(rt):q.test(t)?this.type(W.test(t)?se:wt):N.test(t)?this.type(xt):this.type(de):me.indexOf(t.constructor)>-1?this.type(t.constructor):Array.isArray(t)?this.type(wt):"object"===e?this.type(fe):this.type(de)}var n=new this._type(t);return this._type===rt&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),n=n.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map((function(t){return t.done=!0,t})),n}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}at(t){var e=this;return this._morphObj.fromArray(this._from.map((function(n,r){return e._stepper.step(n,e._to[r],t,e._context[r],e._context)})))}}class de{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}valueOf(){return this.value}toArray(){return[this.value]}}class pe{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,pe.defaults,t),this}toArray(){var t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}pe.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};class fe{constructor(...t){this.init(...t)}init(t){if(this.values=[],!Array.isArray(t)){t=t||{};var e=[];for(const n in t)e.push([n,t[n]]);return e.sort((t,e)=>t[0]-e[0]),this.values=e.reduce((t,e)=>t.concat(e),[]),this}this.values=t}valueOf(){for(var t={},e=this.values,n=0,r=e.length;n<r;n+=2)t[e[n]]=e[n+1];return t}toArray(){return this.values}}const me=[de,pe,fe];class ge extends Ft{constructor(t){super(k("path",t),t)}array(){return this._array||(this._array=new se(this.attr("d")))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new se(t))}clear(){return delete this._array,this}move(t,e){return this.attr("d",this.array().move(t,e))}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}size(t,e){var n=d(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}targets(){return ft('svg textpath [href*="'+this.id()+'"]')}}ge.prototype.MorphArray=se,s({Container:{path:M((function(t){return this.put(new ge).plot(t||new se)}))}}),O(ge,"Path");var ve=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new $t(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new $t(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){const n=d(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}});class be extends Ft{constructor(t){super(k("polygon",t),t)}}s({Container:{polygon:M((function(t){return this.put(new be).plot(t||new $t)}))}}),A(be,Kt),A(be,ve),O(be,"Polygon");class ye extends Ft{constructor(t){super(k("polyline",t),t)}}s({Container:{polyline:M((function(t){return this.put(new ye).plot(t||new $t)}))}}),A(ye,Kt),A(ye,ve),O(ye,"Polyline");class _e extends Ft{constructor(t){super(k("rect",t),t)}}A(_e,{rx:Ct,ry:Et}),s({Container:{rect:M((function(t,e){return this.put(new _e).size(t,e)}))}}),O(_e,"Rect");class we{constructor(){this._first=null,this._last=null}push(t){var e=t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}shift(){var t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}}const xe={nextDraw:null,frames:new we,timeouts:new we,immediates:new we,timer:()=>v.window.performance||v.window.Date,transforms:[],frame(t){var e=xe.frames.push({run:t});return null===xe.nextDraw&&(xe.nextDraw=v.window.requestAnimationFrame(xe._draw)),e},timeout(t,e){e=e||0;var n=xe.timer().now()+e,r=xe.timeouts.push({run:t,time:n});return null===xe.nextDraw&&(xe.nextDraw=v.window.requestAnimationFrame(xe._draw)),r},immediate(t){var e=xe.immediates.push(t);return null===xe.nextDraw&&(xe.nextDraw=v.window.requestAnimationFrame(xe._draw)),e},cancelFrame(t){null!=t&&xe.frames.remove(t)},clearTimeout(t){null!=t&&xe.timeouts.remove(t)},cancelImmediate(t){null!=t&&xe.immediates.remove(t)},_draw(t){for(var e=null,n=xe.timeouts.last();(e=xe.timeouts.shift())&&(t>=e.time?e.run():xe.timeouts.push(e),e!==n););for(var r=null,i=xe.frames.last();r!==i&&(r=xe.frames.shift());)r.run(t);for(var s=null;s=xe.immediates.shift();)s();xe.nextDraw=xe.timeouts.first()||xe.frames.first()?v.window.requestAnimationFrame(xe._draw):null}};var ke=function(t){var e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}};const Te=function(){const t=v.window;return(t.performance||t.Date).now()};class Se extends mt{constructor(t=Te){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}schedule(t,e,n){if(null==t)return this._runners.map(ke);var r=0,i=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=e,e=0;else if("now"===n)r=this._time;else{if("relative"!==n)throw new Error('Invalid value for the "when" parameter');{const n=this._runners[t.id];n&&(r=n.start+e,e=0)}}t.unschedule(),t.timeline(this);const s=t.persist(),o={persist:null===s?this._persist:s,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((t,e)=>t.start-e.start),this._runnerIds=this._runners.map(t=>t.runner.id),this.updateTime()._continue(),this}unschedule(t){var e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}getEndTime(){var t=this._runners[this._runnerIds.indexOf(this._lastRunnerId)],e=t?t.runner.duration():0;return(t?t.start:0)+e}getEndTimeOfTimeline(){let t=0;for(var e=0;e<this._runners.length;e++){const r=this._runners[e];var n=r?r.runner.duration():0;const i=(r?r.start:0)+n;i>t&&(t=i)}return t}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}play(){return this._paused=!1,this.updateTime()._continue()}pause(){return this._paused=!0,this._continue()}stop(){return this.time(0),this.pause()}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}speed(t){return null==t?this._speed:(this._speed=t,this)}reverse(t){var e=this.speed();if(null==t)return this.speed(-e);var n=Math.abs(e);return this.speed(t?n:-n)}seek(t){return this.time(this._time+t)}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}persist(t){return null==t?this._persist:(this._persist=t,this)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}_stepFn(t=!1){var e=this._timeSource(),n=e-this._lastSourceTime;t&&(n=0);var r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(var i=this._runners.length;i--;){const t=this._runners[i],e=t.runner;this._time-t.start<=0&&e.reset()}for(var s=!1,o=0,a=this._runners.length;o<a;o++){const t=this._runners[o],e=t.runner;let n=r;const i=this._time-t.start;i<=0?s=!0:(i<n&&(n=i),e.active()&&(e.step(n).done?!0!==t.persist&&e.duration()-e.time()+this._time+t.persist<this._time&&(e.unschedule(),--o,--a):s=!0))}return s&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}_continue(t=!1){return xe.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=xe.frame(this._step)),this)}active(){return!!this._nextFrame}}s({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Se,this._timeline):(this._timeline=t,this)}}});class Oe extends mt{constructor(t){super(),this.id=Oe.id++,t="function"==typeof(t=null==t?vt:t)?new re(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof re,this._stepper=this._isDeclarative?t:new ne,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new ot,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}animate(t,e,n){var r=Oe.sanitise(t,e,n),i=new Oe(r.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(r).schedule(r.delay,r.when)}schedule(t,e,n){if(t instanceof Se||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}unschedule(){var t=this.timeline();return t&&t.unschedule(this),this}loop(t,e,n){return"object"==typeof t&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}delay(t){return this.animate(0,t)}queue(t,e,n,r){return this._queue.push({initialiser:t||gt,runner:e||gt,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}during(t){return this.queue(null,t)}after(t){return this.on("finished",t)}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}duration(){return this._times*(this._wait+this._duration)-this._wait}loops(t){var e=this._duration+this._wait;if(null==t){var n=Math.floor(this._time/e),r=(this._time-n*e)/this._duration;return Math.min(n+r,this._times)}var i=t%1,s=e*Math.floor(t)+this._duration*i;return this.time(s)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){var e,n=this._time,r=this._duration,i=this._wait,s=this._times,o=this._swing,a=this._reverse;if(null==t){const t=function(t){var e=o*Math.floor(t%(2*(i+r))/(i+r)),n=e&&!a||!e&&a,s=Math.pow(-1,n)*(t%(i+r))/r+n;return Math.max(Math.min(s,1),0)};var c=s*(i+r)-i;return n<=0?Math.round(t(1e-5)):n<c?t(n):Math.round(t(c-1e-5))}var l=Math.floor(this.loops()),u=o&&l%2==0;return e=l+(u&&!a||a&&u?t:1-t),this.loops(e)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;var e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;var r=this.duration(),i=this._lastTime<=0&&this._time>0,s=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);var o=this._isDeclarative;if(this.done=!o&&!s&&this._time>=r,this._reseted=!1,n||o){this._initialise(n),this.transforms=new ot;var a=this._run(o?t:e);this.fire("step",this)}return this.done=this.done||a&&o,s&&this.fire("finished",this),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}finish(){return this.step(1/0)}reverse(t){return this._reverse=null==t?!this._reverse:t,this}ease(t){return this._stepper=new ne(t),this}active(t){return null==t?this.enabled:(this.enabled=t,this)}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){var n=this.timeline();n&&n.play()}}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget(e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;var r=this.timeline();return r&&r.play(),!0}return!1}_initialise(t){if(t||this._isDeclarative)for(var e=0,n=this._queue.length;e<n;++e){var r=this._queue[e],i=this._isDeclarative||!r.initialised&&t;t=!r.finished,i&&t&&(r.initialiser.call(this),r.initialised=!0)}}_run(t){for(var e=!0,n=0,r=this._queue.length;n<r;++n){var i=this._queue[n],s=i.runner.call(this,t);i.finished=i.finished||!0===s,e=e&&i.finished}return e}addTransform(t,e){return this.transforms.lmultiplyO(t),this}clearTransform(){return this.transforms=new ot,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(t=>!t.isTransform))}static sanitise(t,e,n){var r=1,i=!1,s=0;return e=e||yt,n=n||"last","object"!=typeof(t=t||vt)||t instanceof ee||(e=t.delay||e,n=t.when||n,i=t.swing||i,r=t.times||r,s=t.wait||s,t=t.duration||vt),{duration:t,delay:e,swing:i,times:r,wait:s,when:n}}}Oe.id=0;class Ce{constructor(t=new ot,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}A([Oe,Ce],{mergeWith(t){return new Ce(t.transforms.lmultiply(this.transforms),t.id)}});const Ee=(t,e)=>t.lmultiplyO(e),Ae=t=>t.transforms;function Me(){const t=this._transformationRunners.runners.map(Ae).reduce(Ee,new ot);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class Ne{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}merge(){let t=null;return this.runners.forEach((e,n)=>{t&&e.done&&t.done&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))&&(this.remove(e.id),this.edit(t.id,e.mergeWith(t))),t=e}),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}length(){return this.ids.length}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Ce).forEach(t=>t.clearTransformsFromQueue()),this}}s({Element:{animate(t,e,n){var r=Oe.sanitise(t,e,n),i=this.timeline();return new Oe(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(Ae).reduce(Ee,new ot)},_addRunner(t){this._transformationRunners.add(t),xe.cancelImmediate(this._frameId),this._frameId=xe.immediate(Me.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new Ne).add(new Ce(new ot(this))))}}}),A(Oe,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if("object"==typeof e){for(var r in e)this.styleAttr(t,r,e[r]);return this}var i=new he(this._stepper).to(n);return this.queue((function(){i=i.from(this.element()[t](e))}),(function(n){return this.element()[t](e,i.at(n)),i.done()})),this},zoom(t,e){if(this._tryRetarget("zoom",Wt,e))return this;var n=new he(this._stepper).to(new xt(t));return this.queue((function(){n=n.from(this.element().zoom())}),(function(t){return this.element().zoom(n.at(t),e),n.done()}),(function(t,r){e=r,n.to(t)})),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;var r=ot.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!r;const i=new he(this._stepper).type(n?pe:ot);let s,o,a,c,l;return this.queue((function(){o=o||this.element(),s=s||p(t,o),l=new ot(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(u){e||this.clearTransform();const{x:h,y:d}=new it(s).transform(o._currentTransform(this));let p=new ot({...t,origin:[h,d]}),f=this._isDeclarative&&a?a:l;if(n){p=p.decompose(h,d),f=f.decompose(h,d);const t=p.rotate,e=f.rotate,n=[t-360,t,t+360],r=n.map(t=>Math.abs(t-e)),i=Math.min(...r),s=r.indexOf(i);p.rotate=n[s]}e&&(r||(p.rotate=t.rotate||0),this._isDeclarative&&c&&(f.rotate=c)),i.from(f),i.to(p);const m=i.at(u);return c=m.rotate,a=new ot(m),this.addTransform(a),o._addRunner(this),i.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(s=p(t,o)),t={...e,origin:s}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new xt(e),this._tryRetarget(t,e))return this;var n=new he(this._stepper).to(e),r=null;return this.queue((function(){r=this.element()[t](),n.from(r),n.to(r+e)}),(function(e){return this.element()[t](n.at(e)),n.done()}),(function(t){n.to(r+new xt(t))})),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;var n=new he(this._stepper).to(e);return this.queue((function(){n.from(this.element()[t]())}),(function(e){return this.element()[t](n.at(e)),n.done()})),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new xt(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){var n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(4===arguments.length)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;var i=new he(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new lt(t,e,n,r))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),A(Oe,{rx:Ct,ry:Et,from:zt,to:Wt}),O(Oe,"Runner");class je extends Rt{constructor(t){super(k("svg",t),t),this.namespace()}isRoot(){return!(this.node.parentNode&&this.node.parentNode instanceof v.window.SVGElement&&"#document"!==this.node.parentNode.nodeName)}root(){return this.isRoot()?this:super.root()}namespace(){return this.isRoot()?this.attr({xmlns:f,version:"1.1"}).attr("xmlns:xlink",g,m).attr("xmlns:svgjs","http://svgjs.com/svgjs",m):this.root().namespace()}defs(){return this.isRoot()?T(this.node.querySelector("defs"))||this.put(new Vt):this.root().defs()}parent(t){return this.isRoot()?"#document"===this.node.parentNode.nodeName?null:T(this.node.parentNode):super.parent(t)}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this}}s({Container:{nested:M((function(){return this.put(new je)}))}}),O(je,"Svg",!0);class Ie extends Rt{constructor(t){super(k("symbol",t),t)}}s({Container:{symbol:M((function(){return this.put(new Ie)}))}}),O(Ie,"Symbol");var Pe=Object.freeze({__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(v.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()}});class Le extends Ft{constructor(t){super(k("text",t),t),this.dom.leading=new xt(1.3),this._rebuild=!0,this._build=!1}x(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)}y(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)}move(t,e,n=this.bbox()){return this.x(t,n).y(e,n)}cx(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)}cy(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)}center(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)}text(t){if(void 0===t){var e=this.node.childNodes,n=0;t="";for(var r=0,i=e.length;r<i;++r)"textPath"!==e[r].nodeName?(r!==n&&3!==e[r].nodeType&&!0===T(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent):0===r&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(var s=0,o=(t=t.split("\n")).length;s<o;s++)this.tspan(t[s]).newLine();return this.build(!1).rebuild()}leading(t){return null==t?this.dom.leading:(this.dom.leading=new xt(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,r=this.dom.leading;this.each((function(){var t=v.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=r*new xt(t);this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?n+=i:(this.attr("dy",i+n),n=0))})),this.fire("rebuild")}return this}build(t){return this._build=!!t,this}setData(t){return this.dom=t,this.dom.leading=new xt(t.leading||1.3),this}}A(Le,Pe),s({Container:{text:M((function(t){return this.put(new Le).text(t)})),plain:M((function(t){return this.put(new Le).plain(t)}))}}),O(Le,"Text");class De extends Le{constructor(t){super(k("tspan",t),t)}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}x(t){return this.attr("x",t)}y(t){return this.attr("x",t)}move(t,e){return this.x(t).y(e)}newLine(){var t=this.parent(Le);this.dom.newLined=!0;var e=v.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new xt(e);return this.dy(n).attr("x",t.x())}}A(De,Pe),s({Tspan:{tspan:M((function(t){var e=new De;return this._build||this.clear(),this.node.appendChild(e.node),e.text(t)}))}}),O(De,"Tspan");class Fe extends Rt{constructor(t){super(k("clipPath",t),t)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return ft('svg [clip-path*="'+this.id()+'"]')}}s({Container:{clip:M((function(){return this.defs().put(new Fe)}))},Element:{clipWith(t){const e=t instanceof Fe?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)},clipper(){return this.reference("clip-path")}}}),O(Fe,"ClipPath");class Be extends St{constructor(t){super(k("foreignObject",t),t)}}s({Container:{foreignObject:M((function(t,e){return this.put(new Be).size(t,e)}))}}),O(Be,"ForeignObject");class Re extends Rt{constructor(t){super(k("g",t),t)}x(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)}y(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}move(t=0,e=0,n=this.bbox()){const r=t-n.x,i=e-n.y;return this.dmove(r,i)}dx(t){return this.dmove(t,0)}dy(t){return this.dmove(0,t)}dmove(t,e){return this.children().forEach((n,r)=>{const i=n.bbox(),s=new ot(n),o=s.translate(t,e).transform(s.inverse()),a=new it(i.x,i.y).transform(o);n.move(a.x,a.y)}),this}width(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)}height(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)}size(t,e,n=this.bbox()){const r=d(this,t,e,n),i=r.width/n.width,s=r.height/n.height;return this.children().forEach((t,e)=>{const r=new it(n).transform(new ot(t).inverse());t.scale(i,s,r.x,r.y)}),this}}s({Container:{group:M((function(){return this.put(new Re)}))}}),O(Re,"G");class Ve extends Rt{constructor(t){super(k("a",t),t)}to(t){return this.attr("href",t,g)}target(t){return this.attr("target",t)}}s({Container:{link:M((function(t){return this.put(new Ve).to(t)}))},Element:{linkTo:function(t){var e=new Ve;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}}),O(Ve,"A");class He extends Rt{constructor(t){super(k("mask",t),t)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return ft('svg [mask*="'+this.id()+'"]')}}s({Container:{mask:M((function(){return this.defs().put(new He)}))},Element:{maskWith(t){var e=t instanceof He?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)},masker(){return this.reference("mask")}}}),O(He,"Mask");class qe extends St{constructor(t){super(k("style",t),t)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;var n=t+"{";for(var r in e)n+=r.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+":"+e[r]+";";return n+"}"}(t,e))}}s("Dom",{style:M((function(t,e){return this.put(new qe).rule(t,e)})),fontface:M((function(t,e,n){return this.put(new qe).font(t,e,n)}))}),O(qe,"Style");class ze extends Le{constructor(t){super(k("textPath",t),t)}array(){var t=this.track();return t?t.array():null}plot(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this}track(){return this.reference("href")}}s({Container:{textPath:M((function(t,e){return t instanceof Le||(t=this.text(t)),t.path(e)}))},Text:{path:M((function(t,e=!0){var n=new ze;let r;if(t instanceof ge||(t=this.defs().path(t)),n.attr("href","#"+t,g),e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)})),textPath(){return this.findOne("textPath")}},Path:{text:M((function(t){return t instanceof Le||(t=(new Le).addTo(this.parent()).text(t)),t.path(this)})),targets(){return ft('svg [href*="'+this.id()+'"]')}}}),ze.prototype.MorphArray=se,O(ze,"TextPath");class We extends Ft{constructor(t){super(k("use",t),t)}element(t,e){return this.attr("href",(e||"")+"#"+t,g)}}s({Container:{use:M((function(t,e){return this.put(new We).element(t,e)}))}}),O(We,"Use");const Ge=x;A([je,Ie,Yt,Ut,Qt],o("viewbox")),A([Zt,ye,be,ge],o("marker")),A(Le,o("Text")),A(ge,o("Path")),A(Vt,o("Defs")),A([Le,De],o("Tspan")),A([_e,Ht,Bt,Gt],o("radius")),A(mt,o("EventTarget")),A(Tt,o("Dom")),A(St,o("Element")),A(Ft,o("Shape")),A(Rt,o("Container")),A(Oe,o("Runner")),dt.extend([...new Set(i)]),function(t=[]){me.push(...[].concat(t))}([xt,rt,lt,ot,wt,$t,se]),A(me,{to(t){return(new he).type(this.constructor).from(this.valueOf()).to(t)},fromArray(t){return this.init(t),this}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ye(t,e){function n(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $e=function(){function t(t){if("string"==typeof t){if(!(t.length>0))throw"Can't parse this note";if(this.note=t[0].toUpperCase(),t.length>1){var e=t.substr(1);["#","b"].indexOf(t[1])>-1&&(t.length>2&&t[1]===t[2]?this.accidental=t.substr(1,2):this.accidental=t[1],e=t.substr(this.accidental.toString().length+1)),e.length>0&&(this.octave=Number.parseInt(e))}}else this.note=t.note,this.accidental=t.accidental,this.octave=t.octave;this.toString=this.toString.bind(this)}return Object.defineProperty(t.prototype,"baseNote",{get:function(){var t,e=this,n=[{note:"C"},{note:"C",accidental:"#"},{note:"D"},{note:"D",accidental:"#"},{note:"E"},{note:"F"},{note:"F",accidental:"#"},{note:"G"},{note:"G",accidental:"#"},{note:"A"},{note:"A",accidental:"#"},{note:"B"}],r=n.findIndex((function(t){return t.note===e.note&&t.accidental===e.accidental}));if(r>-1)t={note:n[r].note,accidental:n[r].accidental,octave:this.octave};else{switch(r=n.findIndex((function(t){return t.note===e.note&&void 0===t.accidental})),this.accidental){case"#":r+=1;break;case"##":r+=2;break;case"b":r-=1;break;case"bb":r-=2}var i=0;r<0?(r+=12,i=-1):r>11&&(r-=12,i=1),t={note:n[r].note,accidental:n[r].accidental,octave:void 0!==this.octave?this.octave+i:void 0}}return t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t=this.note.toString();return void 0!==this.accidental&&(t+=this.accidental.toString()),void 0!==this.octave&&(t+=this.octave.toString()),t},t}(),Xe=function(){function t(){}return t.WHITE_KEY_RATIO=6.4,t.BLACK_KEY_RATIO=6.6,t.WHITE_BLACK_WIDTH_RATIO=1.7,t.NOTE_LIST=["C","D","E","F","G","A","B"],t.BLACK_BASE_NOTE_LIST=["C","D","F","G","A"],t}(),Ke=function(){function t(t,e,n,r){this.container=t,this.onKeyPress=n,this.onKeyRelease=r,this.instrumentSettings=e}return Object.defineProperty(t.prototype,"boxWidth",{get:function(){return this.container.bbox().width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxHeight",{get:function(){return this.container.bbox().height},enumerable:!0,configurable:!0}),t.prototype.move=function(t,e){this.container.untransform(),this.container.translate(t,e)},t.prototype.setInstrumentSettings=function(t){this.instrumentSettings=t},t}(),Ze=function(t){function e(e,n,r,i,s,o,a){var c=t.call(this,e,n,r,i)||this;return c.highlightSize=1,c.isPressed=!1,c.isMouseDown=!1,c.width=s,c.height=o,c._note=a,c._displayNote=a,c.addMouseListeners=c.addMouseListeners.bind(c),c.handleInputDown=c.handleInputDown.bind(c),c.handleInputUp=c.handleInputUp.bind(c),c}return Ye(e,t),Object.defineProperty(e.prototype,"note",{get:function(){return this._note},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayNote",{get:function(){return this.isHighlighted?this.getNoteIfHighlighted(function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}(this.instrumentSettings.highlightedNotes,this.instrumentSettings.specialHighlightedNotes)):this._displayNote},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHighlighted",{get:function(){return void 0!==this.getNoteIfHighlighted(this.instrumentSettings.highlightedNotes)||this.isSpecialHighlighted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecialHighlighted",{get:function(){return void 0!==this.getNoteIfHighlighted(this.instrumentSettings.specialHighlightedNotes)},enumerable:!0,configurable:!0}),e.prototype.addMouseListeners=function(){void 0!==this._visual&&(this._visual.on("mousedown",this.handleInputDown),this._visual.on("mouseup",this.handleInputUp),this._visual.on("mouseleave",this.handleInputUp),this._visual.on("touchstart",this.handleInputDown),this._visual.on("touchend",this.handleInputUp))},e.prototype.handleInputDown=function(){this.isMouseDown=!0,void 0!==this.onKeyPress&&this.onKeyPress(this.note)},e.prototype.handleInputUp=function(){this.isMouseDown&&(this.isMouseDown=!1,void 0!==this.onKeyRelease&&this.onKeyRelease(this.note))},e.prototype.press=function(t){this.isPressed=!0,this._displayNote=t,this._label&&"onpress"===this.instrumentSettings.showNoteNames&&(this.updateLabel(),this._label.show())},e.prototype.release=function(){this.isPressed=!1,this._label&&"onpress"===this.instrumentSettings.showNoteNames&&this._label.hide()},e.prototype.backward=function(){this.container.backward()},e.prototype.accidentalToUnicode=function(t){return t.toString().replace(/#/g,"â¯").replace(/b/g,"â­")},e.prototype.createLabel=function(t){this._label=this.container.group(),this._labelText=this._label.text(""+this.displayNote.note+(this.displayNote.accidental?this.accidentalToUnicode(this.displayNote.accidental):"")).fill(t).font({family:"Helvetica",size:this.width/2,anchor:"middle"}),this._label.attr("pointer-events","none"),this.layout(),"always"!==this.instrumentSettings.showNoteNames&&this._label.hide()},e.prototype.updateLabel=function(){this._labelText&&(this._labelText.text(""+this.displayNote.note+(this.displayNote.accidental?this.accidentalToUnicode(this.displayNote.accidental):"")),this.layout())},e.prototype.createHighlight=function(t){this.highlightSize=t,this._highlight=this.container.circle(this.highlightSize),this._highlight.center(.5,.5),this._highlight.attr("pointer-events","none");var e=this.instrumentSettings.highlightColor,n=this.instrumentSettings.specialHighlightColor,r=this.container.gradient("radial",(function(t){t.stop(0,"#fff"),t.stop(1,e)}));r.attr({cx:.4,cy:.4});var i=this.container.gradient("radial",(function(t){t.stop(0,"#fff"),t.stop(1,n)}));i.attr({cx:.4,cy:.4}),this._highlight.fill(this.isSpecialHighlighted?i:r),this.layout()},e.prototype.layout=function(){var t,e,n;null===(t=this._visual)||void 0===t||t.size(this.width,this.height),this._label&&this._labelText&&(this._labelText.font({size:this.width/2}),null===(e=this._label)||void 0===e||e.untransform(),null===(n=this._label)||void 0===n||n.translate(this.width/2,this.height-2*this._labelText.bbox().height),"onhighlight"===this.instrumentSettings.showNoteNames&&(this.isHighlighted?this._label.show():this._label.hide())),this._highlight&&(this._highlight.radius(this.highlightSize).untransform().translate(this.width/2,4*this.highlightSize),this.isHighlighted?this._highlight.show():this._highlight.hide())},e.prototype.getNoteIfHighlighted=function(t){var e=void 0!==this.note.baseNote?this.note.baseNote:this.note;return t.find((function(t){var n=void 0!==t.baseNote?t.baseNote:t;return n.note===e.note&&n.accidental===e.accidental&&(n.octave===e.octave||void 0===n.octave)}))},e}(Ke),Qe=function(t){function e(e,n,r,i,s,o){return t.call(this,e,n,r,i,o,o*Xe.WHITE_KEY_RATIO,s)||this}return Ye(e,t),e.prototype.create=function(){this._visual=this.container.rect(this.width,this.height).fill("#fff").stroke({color:"#000",width:2}),this.createLabel("#000"),this.createHighlight(this.width/Xe.WHITE_BLACK_WIDTH_RATIO/8),this.addMouseListeners()},e.prototype.resize=function(t){this.width=t,this.height=t*Xe.WHITE_KEY_RATIO,this.layout()},e.prototype.press=function(e){var n,r;"subtle"===this.instrumentSettings.keyPressStyle?(r=this.container.gradient("linear",(function(t){t.stop(0,"#fff"),t.stop(1,"#e8e8e8")}))).attr({x1:0,y1:0,x2:0,y2:1}):r=this.instrumentSettings.vividKeyPressColor,this.isPressed||(t.prototype.press.call(this,e),null===(n=this._visual)||void 0===n||n.fill(r).transform({origin:{x:this.width/2,y:0},skewX:.3}))},e.prototype.release=function(){var e;this.isPressed&&(t.prototype.release.call(this),null===(e=this._visual)||void 0===e||e.fill("#fff").untransform())},e}(Ze),Je=function(t){function e(e,n,r,i,s,o,a){var c=t.call(this,e,n,r,i,a,a*Xe.BLACK_KEY_RATIO,s)||this;return c._baseWhiteKey=o,c}return Ye(e,t),Object.defineProperty(e.prototype,"baseWhiteKey",{get:function(){return this._baseWhiteKey},enumerable:!0,configurable:!0}),e.prototype.create=function(){this._visual=this.container.rect(this.width,this.height).fill("#000").stroke({color:"#000",width:2}),this.createLabel("#fff"),this.createHighlight(this.width/8),this.addMouseListeners()},e.prototype.resize=function(t){this.width=t,this.height=t*Xe.BLACK_KEY_RATIO,this.layout()},e.prototype.press=function(e){var n,r;"subtle"===this.instrumentSettings.keyPressStyle?(r=this.container.gradient("linear",(function(t){t.stop(0,"#000"),t.stop(1,"#555")}))).attr({x1:0,y1:0,x2:0,y2:1}):(r=(r=new rt(this.instrumentSettings.vividKeyPressColor)).hsl()).l/=1.2,this.isPressed||(t.prototype.press.call(this,e),null===(n=this._visual)||void 0===n||n.fill(r))},e.prototype.release=function(){var e;this.isPressed&&(t.prototype.release.call(this),null===(e=this._visual)||void 0===e||e.fill("#000"))},e}(Ze),tn=function(t){function e(e,n,r,i,s,o,a,c){var l=t.call(this,e,n,r,i)||this;return l.whiteKeys=[],l.blackKeys=[],l.LABEL_SIZE_RATIO=30,l.container=e,l._octave=s,l.startNote=o,l.endNote=a,l.whiteKeyWidth=c,l.whiteKeyHeight=l.whiteKeyWidth*Xe.WHITE_KEY_RATIO,l}return Ye(e,t),Object.defineProperty(e.prototype,"octave",{get:function(){return this._octave},enumerable:!0,configurable:!0}),e.prototype.create=function(){for(var t=!1,e=Xe.NOTE_LIST.indexOf(this.startNote);e<=Xe.NOTE_LIST.indexOf(this.endNote);e++){var n=Xe.NOTE_LIST[e],r=new Qe(this.container.group(),this.instrumentSettings,this.onKeyPress,this.onKeyRelease,new $e({note:n,octave:this._octave}),this.whiteKeyWidth);if(r.create(),this.whiteKeys.push(r),t&&r.backward(),t=!1,Xe.BLACK_BASE_NOTE_LIST.indexOf(n)>-1&&(n!==this.endNote||"B"===this.endNote)){var i=new Je(this.container.group(),this.instrumentSettings,this.onKeyPress,this.onKeyRelease,new $e({note:n,accidental:"#",octave:this._octave}),r,this.whiteKeyWidth/Xe.WHITE_BLACK_WIDTH_RATIO);i.create(),this.blackKeys.push(i),t=!0}}this.createOctaveNumberLabel()},e.prototype.layout=function(t){var e,n,r=this;this.whiteKeyWidth=t,this.whiteKeyHeight=this.whiteKeyWidth*Xe.WHITE_KEY_RATIO;var i=0;this.whiteKeys.forEach((function(t){t.resize(r.whiteKeyWidth),t.move(i,0),i+=t.boxWidth;var e=r.blackKeys.find((function(e){return e.baseWhiteKey===t}));e&&(e.resize(r.whiteKeyWidth/Xe.WHITE_BLACK_WIDTH_RATIO),e.move(i-e.boxWidth/2,0))})),this._label&&this._labelText&&(this._labelText.font({size:this.whiteKeyHeight/this.LABEL_SIZE_RATIO}),null===(e=this._label)||void 0===e||e.untransform(),null===(n=this._label)||void 0===n||n.translate(this.whiteKeyHeight/this.LABEL_SIZE_RATIO/2,this.whiteKeyHeight-1.5*this._labelText.bbox().height),this.instrumentSettings.showOctaveNumbers?this._label.show():this._label.hide())},Object.defineProperty(e.prototype,"numberOfWhiteKeys",{get:function(){return Xe.NOTE_LIST.indexOf(this.endNote)-Xe.NOTE_LIST.indexOf(this.startNote)+1},enumerable:!0,configurable:!0}),e.prototype.keyDown=function(t){var e=new $e(t).baseNote;if(void 0===e.accidental)(n=this.whiteKeys.find((function(t){return t.note.note===e.note})))&&n.press(t);else if("#"===e.accidental){var n;(n=this.blackKeys.find((function(t){return t.note.note===e.note})))&&n.press(t)}},e.prototype.keyUp=function(t){var e=new $e(t).baseNote;if(void 0===e.accidental)(n=this.whiteKeys.find((function(t){return t.note.note===e.note})))&&n.release();else if("#"===e.accidental){var n;(n=this.blackKeys.find((function(t){return t.note.note===e.note})))&&n.release()}},e.prototype.setInstrumentSettings=function(e){t.prototype.setInstrumentSettings.call(this,e),this.whiteKeys.forEach((function(t){return t.setInstrumentSettings(e)})),this.blackKeys.forEach((function(t){return t.setInstrumentSettings(e)}))},e.prototype.createOctaveNumberLabel=function(){this._label=this.container.group(),this._labelText=this._label.text(""+this.octave).fill("#000").font({family:"Helvetica",size:this.whiteKeyHeight/this.LABEL_SIZE_RATIO,anchor:"left"}),this._label.attr("pointer-events","none")},e}(Ke),en=function(t){function e(e,n,r,i,s,o){var a=t.call(this,e,o,n,r)||this;return a.octaves=[],a.availableWidth=i,a.availableHeight=s,a.instrumentSettings=o,a}return Ye(e,t),e.prototype.create=function(){for(var t=this.instrumentSettings.startOctave;t<=this.instrumentSettings.endOctave;t++){var e=new tn(this.container.group(),this.instrumentSettings,this.onKeyPress,this.onKeyRelease,t,t===this.instrumentSettings.startOctave?this.instrumentSettings.startNote:"C",t===this.instrumentSettings.endOctave?this.instrumentSettings.endNote:"B",this.whiteKeyWidth);e.create(),this.octaves.push(e)}},e.prototype.layout=function(t,e){var n=this;this.availableWidth=t,this.availableHeight=e;var r=0;this.octaves.forEach((function(t){t.layout(n.whiteKeyWidth),t.move(r,0),r+=t.boxWidth}))},Object.defineProperty(e.prototype,"numberOfWhiteKeys",{get:function(){for(var t=0,e=Xe.NOTE_LIST,n=this.instrumentSettings.startOctave;n<=this.instrumentSettings.endOctave;n++)n===this.instrumentSettings.startOctave?this.instrumentSettings.endOctave>this.instrumentSettings.startOctave?t+=7-e.indexOf(this.instrumentSettings.startNote):t=e.indexOf(this.instrumentSettings.endNote)-e.indexOf(this.instrumentSettings.startNote)+1:n===this.instrumentSettings.endOctave?t+=e.indexOf(this.instrumentSettings.endNote)+1:t+=7;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whiteKeyWidth",{get:function(){var t=this.availableWidth/this.numberOfWhiteKeys;return t*Xe.WHITE_KEY_RATIO<=this.availableHeight?t:this.availableHeight/Xe.WHITE_KEY_RATIO},enumerable:!0,configurable:!0}),e.prototype.keyDown=function(t){if(this.octaves.length>0&&void 0!==t.octave){var e=new $e(t),n=this.octaves.find((function(t){return t.octave===e.baseNote.octave}));n&&n.keyDown(t)}},e.prototype.keyUp=function(t){if(this.octaves.length>0&&void 0!==t.octave){var e=this.octaves.find((function(e){return e.octave===t.octave}));e&&e.keyUp(t)}},e.prototype.setInstrumentSettings=function(e){t.prototype.setInstrumentSettings.call(this,e),this.octaves.forEach((function(t){return t.setInstrumentSettings(e)}))},e}(Ke),nn=function(){function t(t){this.startOctave=2,this.startNote="C",this.endOctave=6,this.endNote="C",this.showNoteNames="onpress",this.highlightedNotes=[],this.highlightColor="#0c0",this.specialHighlightedNotes=[],this.specialHighlightColor="#f00",this.showOctaveNumbers=!1,this.keyPressStyle="subtle",this.vividKeyPressColor="#f33",this._reloadNeeded=!1,this.applySettings(t)}return Object.defineProperty(t.prototype,"reloadNeded",{get:function(){return this._reloadNeeded},enumerable:!0,configurable:!0}),t.prototype.applySettings=function(t){var e=this;this._reloadNeeded=!1,void 0!==t&&(void 0!==t.startOctave&&(this.startOctave=t.startOctave,this._reloadNeeded=!0),void 0!==t.startNote&&(this.startNote=t.startNote,this._reloadNeeded=!0),void 0!==t.endOctave&&(this.endOctave=t.endOctave,this._reloadNeeded=!0),void 0!==t.endNote&&(this.endNote=t.endNote,this._reloadNeeded=!0),void 0!==t.showNoteNames&&(this.showNoteNames=t.showNoteNames,this._reloadNeeded=!0),void 0!==t.highlightedNotes&&(this.highlightedNotes.splice(0),t.highlightedNotes.forEach((function(t){return e.highlightedNotes.push(new $e(t))}))),void 0!==t.highlightColor&&(this.highlightColor=t.highlightColor),void 0!==t.specialHighlightedNotes&&(this.specialHighlightedNotes.splice(0),t.specialHighlightedNotes.forEach((function(t){return e.specialHighlightedNotes.push(new $e(t))}))),void 0!==t.specialHighlightColor&&(this.specialHighlightColor=t.specialHighlightColor),void 0!==t.showOctaveNumbers&&(this.showOctaveNumbers=t.showOctaveNumbers),void 0!==t.keyPressStyle&&(this.keyPressStyle=t.keyPressStyle),void 0!==t.vividKeyPressColor&&(this.vividKeyPressColor=t.vividKeyPressColor))},t}(),rn=function(){function t(t,e){this.keyPressEventHandlers=[],this.keyReleaseEventHandlers=[],this.resizeCounter=0,this.container=t,this.settings=new nn(e),this.create=this.create.bind(this),this.layout=this.layout.bind(this),this.keyDown=this.keyDown.bind(this),this.keyUp=this.keyUp.bind(this),this.destroy=this.destroy.bind(this),this.handleMouseKeyDown=this.handleMouseKeyDown.bind(this),this.handleMouseKeyUp=this.handleMouseKeyUp.bind(this),this.handleResize=this.handleResize.bind(this),this.reload=this.reload.bind(this)}return t.prototype.create=function(){this.img=Ge().addTo(this.container).size("100%","100%"),this.img.css("-ms-user-select","none"),this.img.css("-webkit-user-select","none"),this.img.css("-moz-user-select","none"),this.img.css("user-select","none"),this.keybed=new en(this.img.group(),this.handleMouseKeyDown,this.handleMouseKeyUp,this.container.clientWidth,this.container.clientHeight,this.settings),this.keybed.create(),this.layout(),window.addEventListener("resize",this.handleResize)},t.prototype.destroy=function(){this.container.removeChild(this.img.node),window.removeEventListener("resize",this.handleResize)},t.prototype.keyDown=function(t){this.keybed&&this.keybed.keyDown(new $e(t))},t.prototype.keyUp=function(t){this.keybed&&this.keybed.keyUp(new $e(t))},t.prototype.addKeyMouseDownListener=function(t){this.keyPressEventHandlers.push(t)},t.prototype.addKeyMouseUpListener=function(t){this.keyReleaseEventHandlers.push(t)},t.prototype.removeKeyMouseDownListener=function(t){void 0!==t?this.keyPressEventHandlers.indexOf(t)>-1&&this.keyPressEventHandlers.splice(this.keyPressEventHandlers.indexOf(t),1):this.keyPressEventHandlers.splice(0)},t.prototype.removeKeyMouseUpListener=function(t){void 0!==t?this.keyReleaseEventHandlers.indexOf(t)>-1&&this.keyReleaseEventHandlers.splice(this.keyReleaseEventHandlers.indexOf(t),1):this.keyReleaseEventHandlers.splice(0)},t.prototype.reload=function(){this.destroy(),this.create()},t.prototype.applySettings=function(t){this.settings.applySettings(t),this.settings.reloadNeded?this.reload():(this.keybed&&this.keybed.setInstrumentSettings(this.settings),this.layout())},t.prototype.handleResize=function(){var t=this;this.resizeCounter++,setTimeout((function(){t.resizeCounter--,t.resizeCounter<=0&&t.layout()}),300)},t.prototype.layout=function(){this.img&&this.keybed&&(this.img.size("100%","100%"),this.keybed.layout(this.container.clientWidth,this.container.clientHeight),this.img.width(this.keybed.boxWidth).height(this.keybed.boxHeight))},t.prototype.handleMouseKeyDown=function(t){this.keyPressEventHandlers.forEach((function(e){return e(t)}))},t.prototype.handleMouseKeyUp=function(t){this.keyReleaseEventHandlers.forEach((function(e){return e(t)}))},t.prototype.rasterize=function(t,e){var n=document.createElement("canvas"),r=document.createElement("div"),i=Ge().addTo(r).svg(this.img.svg()).size(this.img.width(),this.img.height());if(e){var s=i.root().group();s.text(e).fill("#888").font({family:"Helvetica",size:12,anchor:"start"}),i.height(i.height()+s.height()+6),s.translate(i.width()-s.width()-6,i.height()-6)}n.width=i.width(),n.height=i.height();var o=i.svg(),a=n.getContext("2d"),c=window.URL,l=new Image(n.width,n.height);l.setAttribute("crossOrigin","anonymous");var u=new Blob([o],{type:"image/svg+xml"}),h=c.createObjectURL(u);l.onload=function(){a.drawImage(l,0,0),c.revokeObjectURL(h),t(n.toDataURL("image/png"))},l.src=h},t}(),sn=function(){function t(t,e){this.notes=[],this.notes=t,this.mode=e}return Object.defineProperty(t.prototype,"root",{get:function(){return this.notes.length>0?this.notes[0]:{note:"C"}},enumerable:!0,configurable:!0}),t}();(function(){function t(){}t.getScale=function(e,n){var r=new $e(e).baseNote,i=t.chromatic.notes.findIndex((function(t){return r.note===t.note&&r.accidental===t.accidental})),s=t.modeSteps.get(n),o=[];if(void 0!==s){o.push(r);for(var a=i,c=0;c<s.length;c++)a=(a+s[c])%12,o.push(t.chromatic.notes[a])}return new sn(t.adjustScale(e,o),n)},t.adjustScale=function(e,n){var r=[];return n.forEach((function(n){if("b"===e.accidental&&"#"===n.accidental){var i=t.chromatic.notes.findIndex((function(t){return t.note===n.note&&t.accidental===n.accidental}));r.push({note:t.chromatic.notes[i+1].note,accidental:"b"})}else r.push(n)})),r},t.chromatic=new sn([new $e("C"),new $e("C#"),new $e("D"),new $e("D#"),new $e("E"),new $e("F"),new $e("F#"),new $e("G"),new $e("G#"),new $e("A"),new $e("A#"),new $e("B")],"chromatic"),t.modeSteps=new Map([["major",[2,2,1,2,2,2,1]],["minor",[2,1,2,2,1,2,2]],["dorian",[2,1,2,2,2,1,2]],["phrygian",[1,2,2,2,1,2,2]],["lydian",[2,2,2,1,2,2,1]],["mixolydian",[2,2,1,2,2,1,2]],["locrian",[1,2,2,1,2,2,2]],["majorpentatonic",[2,2,3,2,3]],["minorpentatonic",[3,2,2,3,2]],["harmonicminor",[2,1,2,2,1,3,1]],["melodicminor",[2,1,2,2,2,2,1]]])})()},bd0f:function(t,e,n){var r=n("12d1"),i=n("67c2"),s=n("1ce3"),o=n("5cbe"),a=n("f1ef"),c=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},l=function(t,e,n,r,i,c,l,u){for(var h,d=0;d<e.length;d++){if("staccato"===e[d]||"tenuto"===e[d]||"accent"===e[d]){var p="scripts."+e[d];if("accent"===e[d]&&(p="scripts.sforzato"),h=void 0===h?"down"===l?n+2:u-2:"down"===l?h+2:h-2,"accent"===e[d])"up"===l?h--:h++;else switch(h){case 2:case 4:case 6:case 8:case 10:"up"===l?h--:h++;break}n>9&&h++;var f=r/2;"center"!==s.getSymbolAlign(p)&&(f-=s.getSymbolWidth(p)/2),i.addFixedX(new o(p,f,s.getSymbolWidth(p),h))}if("slide"===e[d]&&i.heads[0]){var m=i.heads[0].pitch;m-=2;var g=new o("",-c-15,0,m-1),v=new o("",-c-5,0,m+1);i.addFixedX(g),i.addFixedX(v),t.addOther(new a({anchor1:g,anchor2:v,fixedY:!0}))}}return void 0===h&&(h=n),{above:h,below:i.bottom}},u=function(t,e,n,i){for(var s=0;s<e.length;s++)switch(e[s]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var o=new r(n,e[s],i);t.addOther(o)}},h=function(t,e,n,r,i){function a(){if(0===r.heads.length)return 10;for(var t=r.heads[0].pitch,e=1;e<r.heads.length;e++)t=Math.max(t,r.heads[e].pitch);return t}function c(){if(0===r.heads.length)return 2;for(var t=r.heads[0].pitch,e=1;e<r.heads.length;e++)t=Math.min(t,r.heads[e].pitch);return t}function l(t,e){var l="down"===i?c()+1:a()+9;"down"!==i&&1===e&&l--;var u=n/2;u+="down"===i?-5:3;for(var h=0;h<e;h++)l-=1,r.addFixedX(new o(t,u,s.getSymbolWidth(t),l))}for(var u=0;u<t.length;u++)switch(t[u]){case"/":l("flags.ugrace",1);break;case"//":l("flags.ugrace",2);break;case"///":l("flags.ugrace",3);break;case"////":l("flags.ugrace",4);break}},d=function(t,e,n,r,i,a,c){function l(t,e){"above"===t?r.above+=e:r.below-=e}function u(t){var e;return"above"===t?(e=r.above,e<a&&(e=a)):(e=r.below,e>c&&(e=c)),e}function h(t,r){var i=u(r),s=2,a=5;n.addFixedX(new o(t,e/2,0,i+s,{type:"decoration",klass:"ornament",thickness:3})),l(r,a)}function d(t,r){var i=e/2;"center"!==s.getSymbolAlign(t)&&(i-=s.getSymbolWidth(t)/2);var a=s.symbolHeightInPitches(t)+1,c=u(r);c="above"===r?c+a/2:c-a/2,n.addFixedX(new o(t,i,s.getSymbolWidth(t),c,{klass:"ornament",thickness:s.symbolHeightInPitches(t)})),l(r,a)}for(var p={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},f=!1,m=0;m<t.length;m++)switch(t[m]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":h(t[m],i),f=!0;break;case"fine":h("FINE",i),f=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":d(p[t[m]],i),f=!0;break;case"invertedfermata":d(p[t[m]],"below"),f=!0;break;case"mark":n.klass="mark";break}return f};function p(t,e,n){for(var r=0;r<t.length;r++)switch(t[r]){case"arpeggio":for(var i=e.abcelem.minpitch-1;i<=e.abcelem.maxpitch;i+=2)e.addExtra(new o("scripts.arpeggio",2*-s.getSymbolWidth("scripts.arpeggio")-n,0,i+2,{klass:"ornament",thickness:s.symbolHeightInPitches("scripts.arpeggio")}));break}}c.prototype.dynamicDecoration=function(t,e,n,r){for(var s,o,a=0;a<e.length;a++)switch(e[a]){case"diminuendo(":this.startDiminuendoX=n,s=void 0;break;case"diminuendo)":s={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,o=void 0;break;case"crescendo)":o={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break}s&&t.addOther(new i(s.start,s.stop,">",r)),o&&t.addOther(new i(o.start,o.stop,"<",r))},c.prototype.createDecoration=function(t,e,n,r,i,s,o,a,c,f){c||(c={ornamentPosition:"above",volumePosition:f?"above":"below",dynamicPosition:f?"above":"below"}),u(t,e,i,c.volumePosition),this.dynamicDecoration(t,e,i,c.dynamicPosition),h(e,n,r,i,o);var m=l(t,e,n,r,i,s,o,a);m.above=Math.max(m.above,this.minTop);d(e,r,i,m,c.ornamentPosition,this.minTop,this.minBottom);p(e,i,s)},t.exports=c},bd12:function(t,e){var n=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};n.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null},n.prototype.incrLine=function(){null===this.lineNumber?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null},n.prototype.incrVoice=function(){null===this.voiceNumber?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null},n.prototype.isInMeasure=function(){return null!==this.measureNumber},n.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null},n.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0},n.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0},n.prototype.incrNote=function(){this.noteNumber++},n.prototype.measureTotal=function(){for(var t=0,e=0;e<this.lineNumber;e++)t+=this.measureTotalPerLine[e]?this.measureTotalPerLine[e]:0;return this.measureNumber&&(t+=this.measureNumber),t},n.prototype.getCurrent=function(t){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}},n.prototype.generate=function(t){if(!this.shouldAddClasses)return"";var e=[];if(t&&t.length>0&&e.push(t),null!==this.lineNumber&&e.push("l"+this.lineNumber),null!==this.measureNumber&&e.push("m"+this.measureNumber),null!==this.measureNumber&&e.push("mm"+this.measureTotal()),null!==this.voiceNumber&&e.push("v"+this.voiceNumber),t&&(t.indexOf("note")>=0||t.indexOf("rest")>=0||t.indexOf("lyric")>=0)&&null!==this.noteNumber&&e.push("n"+this.noteNumber),e.length>0){e=e.join(" "),e=e.split(" ");for(var n=0;n<e.length;n++)0!==e[n].indexOf("abcjs-")&&e[n].length>0&&(e[n]="abcjs-"+e[n])}return e.join(" ")},t.exports=n},bde2:function(t,e,n){var r=n("2e42"),i=n("1ce3"),s=n("5cbe"),o=n("e8ab"),a=function(t,e){if(!t.accidentals||0===t.accidentals.length)return null;var n=new r(t,0,10,"staff-extra key-signature",e);n.isKeySig=!0;var a=0;return o.each(t.accidentals,(function(t){var e,r=0;switch(t.acc){case"sharp":e="accidentals.sharp",r=-3;break;case"natural":e="accidentals.nat";break;case"flat":e="accidentals.flat",r=-1.2;break;case"quartersharp":e="accidentals.halfsharp",r=-2.5;break;case"quarterflat":e="accidentals.halfflat",r=-1.2;break;default:e="accidentals.flat"}n.addRight(new s(e,a,i.getSymbolWidth(e),t.verticalPos,{thickness:i.symbolHeightInPitches(e),top:t.verticalPos+i.symbolHeightInPitches(e)+r,bottom:t.verticalPos+r})),a+=i.getSymbolWidth(e)+2}),this),n};t.exports=a},bee2:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},c04e:function(t,e,n){var r=n("861d");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c076:function(t,e,n){var r=n("17d5");function i(){this.ingroup=!1}i.prototype.beginGroup=function(t,e){this.paper=t,this.controller=e,this.path=[],this.lastM=[0,0],this.ingroup=!0},i.prototype.isInGroup=function(){return this.ingroup},i.prototype.addPath=function(t){if(t=t||[],0!==t.length){t[0][0]="m",t[0][1]=r(t[0][1]-this.lastM[0]),t[0][2]=r(t[0][2]-this.lastM[1]),this.lastM[0]+=t[0][1],this.lastM[1]+=t[0][2],this.path.push(t[0]);for(var e=1,n=t.length;e<n;e++)"m"===t[e][0]&&(this.lastM[0]+=t[e][1],this.lastM[1]+=t[e][2]),this.path.push(t[e])}},i.prototype.endGroup=function(t){if(this.ingroup=!1,0===this.path.length)return null;for(var e="",n=0;n<this.path.length;n++)e+=this.path[n].join(" ");var r=this.paper.path({path:e,stroke:"none",fill:this.controller.renderer.foregroundColor,class:this.controller.classes.generate(t)});return this.path=[],r};var s=new i;t.exports=s},c087:function(t,e,n){var r=n("2a55"),i=function(t){this.getTextSize=t,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};i.prototype.setLimit=function(t,e){e.specialY[t]&&(e.staff.specialY[t]?e.staff.specialY[t]=Math.max(e.staff.specialY[t],e.specialY[t]):e.staff.specialY[t]=e.specialY[t])},i.prototype.addVoice=function(t,e,n){var r=this.voices.length;this.voices[r]=t,this.staffs[e]?this.staffs[e].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},t.staff=this.staffs[e]},i.prototype.setHeight=function(){this.height=r(this)},i.prototype.setWidth=function(t){this.w=t;for(var e=0;e<this.voices.length;e++)this.voices[e].setWidth(t)},i.prototype.setStaffLimits=function(t){t.staff.top=Math.max(t.staff.top,t.top),t.staff.bottom=Math.min(t.staff.bottom,t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)},t.exports=i},c352:function(t,e){var n=function(){var t,e,n,r,i,s=0,o=arguments[s++],a=[];while(o){if(e=/^[^\x25]+/.exec(o))a.push(e[0]);else if(e=/^\x25{2}/.exec(o))a.push("%");else{if(!(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(o)))throw"Huh ?!";if(null==(t=arguments[e[1]||s++])||void 0==t)throw"Too few arguments.";if(/[^s]/.test(e[7])&&"number"!=typeof t)throw"Expecting number but found "+typeof t;switch(e[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=e[6]?t.toExponential(e[6]):t.toExponential();break;case"f":t=e[6]?parseFloat(t).toFixed(e[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&e[6]?t.substring(0,e[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(e[7])&&e[2]&&t>0?"+"+t:t,r=e[3]?"0"==e[3]?"0":e[3].charAt(1):" ",i=e[5]-String(t).length,n=e[5]?str_repeat(r,i):"",a.push(e[4]?t+n:n+t)}o=o.substring(e[0].length)}return a.join("")};t.exports=n},c430:function(t,e){t.exports=!1},c62b:function(t,e,n){var r,i;!function(n){"use strict";function s(){if(s.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(s.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(t){return this._nrpnEventsEnabled=t,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var o=new s;function a(t){var e=this;this._userHandlers={channel:{},system:{}},this._midiInput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return e._midiInput.connection}},id:{enumerable:!0,get:function(){return e._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return e._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return e._midiInput.name}},state:{enumerable:!0,get:function(){return e._midiInput.state}},type:{enumerable:!0,get:function(){return e._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function c(t){var e=this;this._midiOutput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return e._midiOutput.connection}},id:{enumerable:!0,get:function(){return e._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return e._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return e._midiOutput.name}},state:{enumerable:!0,get:function(){return e._midiOutput.state}},type:{enumerable:!0,get:function(){return e._midiOutput.type}}})}s.prototype.enable=function(t,e){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:e}).then(function(e){var n,r=[],i=[];this.interface=e,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(t){r.push(t)};for(var s=e.inputs.values(),o=s.next();o&&!o.done;o=s.next())i.push(o.value.open());for(var a=e.outputs.values(),c=a.next();c&&!c.done;c=a.next())i.push(c.value.open());function l(){clearTimeout(n),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof t&&t.call(this),r.forEach(function(t){this._onInterfaceStateChange(t)}.bind(this))}n=setTimeout(l.bind(this),200),Promise&&Promise.all(i).catch((function(t){})).then(l.bind(this))}.bind(this),function(e){"function"==typeof t&&t.call(this,e)}.bind(this)):"function"==typeof t&&t(new Error("The Web MIDI API is not supported by your browser.")))},s.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.enabled&&(this.removeListener(),this.inputs.forEach((function(t){t.removeListener()}))),this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},s.prototype.addListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(t)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[t].push(e),this},s.prototype.hasListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(t)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[t].length;n++)if(this._userHandlers[t][n]===e)return!0;return!1},s.prototype.removeListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==e&&"function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(t))if(e)for(var n=0;n<this._userHandlers[t].length;n++)this._userHandlers[t][n]===e&&this._userHandlers[t].splice(n,1);else this._userHandlers[t]=[];else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},s.prototype.toMIDIChannels=function(t){var e;if("all"===t||void 0===t)e=["all"];else{if("none"===t)return[];e=Array.isArray(t)?t:[t]}return-1<e.indexOf("all")&&(e=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),e.map((function(t){return parseInt(t)})).filter((function(t){return 1<=t&&t<=16}))},s.prototype.getInputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");t=String(t);for(var e=0;e<this.inputs.length;e++)if(this.inputs[e].id===t)return this.inputs[e];return!1},s.prototype.getOutputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");t=String(t);for(var e=0;e<this.outputs.length;e++)if(this.outputs[e].id===t)return this.outputs[e];return!1},s.prototype.getInputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var e=0;e<this.inputs.length;e++)if(~this.inputs[e].name.indexOf(t))return this.inputs[e];return!1},s.prototype.getOctave=function(t){if(null!=t&&0<=t&&t<=127)return Math.floor(Math.floor(t)/12-1)+Math.floor(o.octaveOffset)},s.prototype.getOutputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var e=0;e<this.outputs.length;e++)if(~this.outputs[e].name.indexOf(t))return this.outputs[e];return!1},s.prototype.guessNoteNumber=function(t){var e=!1;if(t&&t.toFixed&&0<=t&&t<=127?e=Math.round(t):0<=parseInt(t)&&parseInt(t)<=127?e=parseInt(t):("string"==typeof t||t instanceof String)&&(e=this.noteNameToNumber(t)),!1===e)throw new Error("Invalid input value ("+t+").");return e},s.prototype.noteNameToNumber=function(t){"string"!=typeof t&&(t="");var e=t.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!e)throw new RangeError("Invalid note name.");var n=o._semitones[e[1].toUpperCase()],r=12*(parseInt(e[3])+1-Math.floor(o.octaveOffset))+n;if(-1<e[2].toLowerCase().indexOf("b")?r-=e[2].length:-1<e[2].toLowerCase().indexOf("#")&&(r+=e[2].length),r<0||127<r)throw new RangeError("Invalid note name or note outside valid range.");return r},s.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},s.prototype._updateInputs=function(){for(var t=0;t<this._inputs.length;t++){for(var e=!0,n=this.interface.inputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._inputs[t]._midiInput===r.value){e=!1;break}e&&this._inputs.splice(t,1)}this.interface&&this.interface.inputs.forEach(function(t){for(var e=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===t&&(e=!1);e&&this._inputs.push(new a(t))}.bind(this))},s.prototype._updateOutputs=function(){for(var t=0;t<this._outputs.length;t++){for(var e=!0,n=this.interface.outputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._outputs[t]._midiOutput===r.value){e=!1;break}e&&this._outputs.splice(t,1)}this.interface&&this.interface.outputs.forEach(function(t){for(var e=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===t&&(e=!1);e&&this._outputs.push(new c(t))}.bind(this))},s.prototype._onInterfaceStateChange=function(t){this._updateInputsAndOutputs();var e={timestamp:t.timeStamp,type:t.port.state};this.interface&&"connected"===t.port.state?"output"===t.port.type?e.port=this.getOutputById(t.port.id):"input"===t.port.type&&(e.port=this.getInputById(t.port.id)):e.port={connection:"closed",id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this._userHandlers[t.port.state].forEach((function(t){t(e)}))},s.prototype._resetInterfaceUserHandlers=function(){for(var t=0;t<this._midiInterfaceEvents.length;t++)this._userHandlers[this._midiInterfaceEvents[t]]=[]},a.prototype.on=a.prototype.addListener=function(t,e,n){var r=this;if(void 0===e&&(e="all"),Array.isArray(e)||(e=[e]),e.forEach((function(t){if("all"!==t&&!(1<=t&&t<=16))throw new RangeError("The 'channel' parameter is invalid.")})),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==o.MIDI_SYSTEM_MESSAGES[t])this._userHandlers.system[t]||(this._userHandlers.system[t]=[]),this._userHandlers.system[t].push(n);else{if(void 0===o.MIDI_CHANNEL_MESSAGES[t])throw new TypeError("The specified event type is not supported.");if(-1<e.indexOf("all")){e=[];for(var i=1;i<=16;i++)e.push(i)}this._userHandlers.channel[t]||(this._userHandlers.channel[t]=[]),e.forEach((function(e){r._userHandlers.channel[t][e]||(r._userHandlers.channel[t][e]=[]),r._userHandlers.channel[t][e].push(n)}))}return this},a.prototype.hasListener=function(t,e,n){var r=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===e&&(e="all"),e.constructor!==Array&&(e=[e]),void 0!==o.MIDI_SYSTEM_MESSAGES[t]){for(var i=0;i<this._userHandlers.system[t].length;i++)if(this._userHandlers.system[t][i]===n)return!0}else if(void 0!==o.MIDI_CHANNEL_MESSAGES[t]){if(-1<e.indexOf("all")){e=[];for(var s=1;s<=16;s++)e.push(s)}return!!this._userHandlers.channel[t]&&e.every((function(e){var i=r._userHandlers.channel[t][e];return i&&-1<i.indexOf(n)}))}return!1},a.prototype.removeListener=function(t,e,n){var r=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===e&&(e="all"),e.constructor!==Array&&(e=[e]),void 0!==o.MIDI_SYSTEM_MESSAGES[t])if(void 0===n)this._userHandlers.system[t]=[];else for(var i=0;i<this._userHandlers.system[t].length;i++)this._userHandlers.system[t][i]===n&&this._userHandlers.system[t].splice(i,1);else if(void 0!==o.MIDI_CHANNEL_MESSAGES[t]){if(-1<e.indexOf("all")){e=[];for(var s=1;s<=16;s++)e.push(s)}if(!this._userHandlers.channel[t])return this;e.forEach((function(e){var i=r._userHandlers.channel[t][e];if(i)if(void 0===n)r._userHandlers.channel[t][e]=[];else for(var s=0;s<i.length;s++)i[s]===n&&i.splice(s,1)}))}else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},a.prototype._initializeUserHandlers=function(){for(var t in o.MIDI_CHANNEL_MESSAGES)Object.prototype.hasOwnProperty.call(o.MIDI_CHANNEL_MESSAGES,t)&&(this._userHandlers.channel[t]={});for(var e in o.MIDI_SYSTEM_MESSAGES)Object.prototype.hasOwnProperty.call(o.MIDI_SYSTEM_MESSAGES,e)&&(this._userHandlers.system[e]=[])},a.prototype._onMidiMessage=function(t){if(0<this._userHandlers.system.midimessage.length){var e={target:this,data:t.data,timestamp:t.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach((function(t){t(e)}))}t.data[0]<240?(this._parseChannelEvent(t),this._parseNrpnEvent(t)):t.data[0]<=255&&this._parseSystemEvent(t)},a.prototype._parseNrpnEvent=function(t){var e,n,r=t.data[0]>>4,i=15&t.data[0],s=1+i;if(1<t.data.length&&(e=t.data[1],n=2<t.data.length?t.data[2]:void 0),o.nrpnEventsEnabled&&r===o.MIDI_CHANNEL_MESSAGES.controlchange&&(e>=o.MIDI_NRPN_MESSAGES.increment&&e<=o.MIDI_NRPN_MESSAGES.parammsb||e===o.MIDI_NRPN_MESSAGES.entrymsb||e===o.MIDI_NRPN_MESSAGES.entrylsb)){var a={target:this,type:"controlchange",data:t.data,timestamp:t.timeStamp,channel:s,controller:{number:e,name:this.getCcNameByNumber(e)},value:n};if(a.controller.number===o.MIDI_NRPN_MESSAGES.parammsb&&a.value!=o.MIDI_NRPN_MESSAGES.nullactiveparameter)o._nrpnBuffer[i]=[],o._nrpnBuffer[i][0]=a;else if(1===o._nrpnBuffer[i].length&&a.controller.number===o.MIDI_NRPN_MESSAGES.paramlsb)o._nrpnBuffer[i].push(a);else if(2!==o._nrpnBuffer[i].length||a.controller.number!==o.MIDI_NRPN_MESSAGES.increment&&a.controller.number!==o.MIDI_NRPN_MESSAGES.decrement&&a.controller.number!==o.MIDI_NRPN_MESSAGES.entrymsb)if(3===o._nrpnBuffer[i].length&&o._nrpnBuffer[i][2].number===o.MIDI_NRPN_MESSAGES.entrymsb&&a.controller.number===o.MIDI_NRPN_MESSAGES.entrylsb)o._nrpnBuffer[i].push(a);else if(3<=o._nrpnBuffer[i].length&&o._nrpnBuffer[i].length<=4&&a.controller.number===o.MIDI_NRPN_MESSAGES.parammsb&&a.value===o.MIDI_NRPN_MESSAGES.nullactiveparameter)o._nrpnBuffer[i].push(a);else if(4<=o._nrpnBuffer[i].length&&o._nrpnBuffer[i].length<=5&&a.controller.number===o.MIDI_NRPN_MESSAGES.paramlsb&&a.value===o.MIDI_NRPN_MESSAGES.nullactiveparameter){o._nrpnBuffer[i].push(a);var c=[];o._nrpnBuffer[i].forEach((function(t){c.push(t.data)}));var l=o._nrpnBuffer[i][0].value<<7|o._nrpnBuffer[i][1].value,u=o._nrpnBuffer[i][2].value;6===o._nrpnBuffer[i].length&&(u=o._nrpnBuffer[i][2].value<<7|o._nrpnBuffer[i][3].value);var h="";switch(o._nrpnBuffer[i][2].controller.number){case o.MIDI_NRPN_MESSAGES.entrymsb:h=o._nrpnTypes[0];break;case o.MIDI_NRPN_MESSAGES.increment:h=o._nrpnTypes[1];break;case o.MIDI_NRPN_MESSAGES.decrement:h=o._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var d={timestamp:a.timestamp,channel:a.channel,type:"nrpn",data:c,controller:{number:l,type:h,name:"Non-Registered Parameter "+l},value:u};o._nrpnBuffer[i]=[],this._userHandlers.channel[d.type]&&this._userHandlers.channel[d.type][d.channel]&&this._userHandlers.channel[d.type][d.channel].forEach((function(t){t(d)}))}else o._nrpnBuffer[i]=[];else o._nrpnBuffer[i].push(a)}},a.prototype._parseChannelEvent=function(t){var e,n,r=t.data[0]>>4,i=1+(15&t.data[0]);1<t.data.length&&(e=t.data[1],n=2<t.data.length?t.data[2]:void 0);var s={target:this,data:t.data,timestamp:t.timeStamp,channel:i};r===o.MIDI_CHANNEL_MESSAGES.noteoff||r===o.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(s.type="noteoff",s.note={number:e,name:o._notes[e%12],octave:o.getOctave(e)},s.velocity=n/127,s.rawVelocity=n):r===o.MIDI_CHANNEL_MESSAGES.noteon?(s.type="noteon",s.note={number:e,name:o._notes[e%12],octave:o.getOctave(e)},s.velocity=n/127,s.rawVelocity=n):r===o.MIDI_CHANNEL_MESSAGES.keyaftertouch?(s.type="keyaftertouch",s.note={number:e,name:o._notes[e%12],octave:o.getOctave(e)},s.value=n/127):r===o.MIDI_CHANNEL_MESSAGES.controlchange&&0<=e&&e<=119?(s.type="controlchange",s.controller={number:e,name:this.getCcNameByNumber(e)},s.value=n):r===o.MIDI_CHANNEL_MESSAGES.channelmode&&120<=e&&e<=127?(s.type="channelmode",s.controller={number:e,name:this.getChannelModeByNumber(e)},s.value=n):r===o.MIDI_CHANNEL_MESSAGES.programchange?(s.type="programchange",s.value=e):r===o.MIDI_CHANNEL_MESSAGES.channelaftertouch?(s.type="channelaftertouch",s.value=e/127):r===o.MIDI_CHANNEL_MESSAGES.pitchbend?(s.type="pitchbend",s.value=((n<<7)+e-8192)/8192):s.type="unknownchannelmessage",this._userHandlers.channel[s.type]&&this._userHandlers.channel[s.type][i]&&this._userHandlers.channel[s.type][i].forEach((function(t){t(s)}))},a.prototype.getCcNameByNumber=function(t){if(!(0<=(t=Math.floor(t))&&t<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var e in o.MIDI_CONTROL_CHANGE_MESSAGES)if(Object.prototype.hasOwnProperty.call(o.MIDI_CONTROL_CHANGE_MESSAGES,e)&&t===o.MIDI_CONTROL_CHANGE_MESSAGES[e])return e},a.prototype.getChannelModeByNumber=function(t){if(!(120<=(t=Math.floor(t))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var e in o.MIDI_CHANNEL_MODE_MESSAGES)if(Object.prototype.hasOwnProperty.call(o.MIDI_CHANNEL_MODE_MESSAGES,e)&&t===o.MIDI_CHANNEL_MODE_MESSAGES[e])return e},a.prototype._parseSystemEvent=function(t){var e=t.data[0],n={target:this,data:t.data,timestamp:t.timeStamp};e===o.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":e===o.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":e===o.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":e===o.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=t.data[1]):e===o.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":e===o.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":e===o.MIDI_SYSTEM_MESSAGES.start?n.type="start":e===o.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":e===o.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":e===o.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":e===o.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach((function(t){t(n)}))},c.prototype.send=function(t,e,n){if(!(128<=t&&t<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===e&&(e=[]),Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(t){var e=Math.floor(t);if(!(0<=e&&e<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");r.push(e)})),this._midiOutput.send([t].concat(r),parseFloat(n)||0),this},c.prototype.sendSysex=function(t,e,n){if(!o.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},t=[].concat(t),e.forEach((function(t){if(t<0||127<t)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")})),e=t.concat(e,o.MIDI_SYSTEM_MESSAGES.sysexend),this.send(o.MIDI_SYSTEM_MESSAGES.sysex,e,this._parseTimeParameter(n.time)),this},c.prototype.sendTimecodeQuarterFrame=function(t,e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.timecode,t,this._parseTimeParameter(e.time)),this},c.prototype.sendSongPosition=function(t,e){e=e||{};var n=(t=Math.floor(t)||0)>>7&127,r=127&t;return this.send(o.MIDI_SYSTEM_MESSAGES.songposition,[n,r],this._parseTimeParameter(e.time)),this},c.prototype.sendSongSelect=function(t,e){if(e=e||{},!(0<=(t=Math.floor(t))&&t<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(o.MIDI_SYSTEM_MESSAGES.songselect,[t],this._parseTimeParameter(e.time)),this},c.prototype.sendTuningRequest=function(t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(t.time)),this},c.prototype.sendClock=function(t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(t.time)),this},c.prototype.sendStart=function(t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(t.time)),this},c.prototype.sendContinue=function(t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(t.time)),this},c.prototype.sendStop=function(t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(t.time)),this},c.prototype.sendActiveSensing=function(t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(t.time)),this},c.prototype.sendReset=function(t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(t.time)),this},c.prototype.stopNote=function(t,e,n){if("all"===t)return this.sendChannelMode("allnotesoff",0,e,n);var r=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(r=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(r=127*n.velocity),this._convertNoteToArray(t).forEach(function(t){o.toMIDIChannels(e).forEach(function(e){this.send((o.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(e-1),[t,Math.round(r)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},c.prototype.playNote=function(t,e,n){var r,i=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(i=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(i=127*n.velocity),r=this._parseTimeParameter(n.time),this._convertNoteToArray(t).forEach(function(t){o.toMIDIChannels(e).forEach(function(e){this.send((o.MIDI_CHANNEL_MESSAGES.noteon<<4)+(e-1),[t,Math.round(i)],r)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var s=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(s=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(s=127*n.release),this._convertNoteToArray(t).forEach(function(t){o.toMIDIChannels(e).forEach(function(e){this.send((o.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(e-1),[t,Math.round(s)],(r||o.time)+n.duration)}.bind(this))}.bind(this))}return this},c.prototype.sendKeyAftertouch=function(t,e,n,r){var i=this;if(r=r||{},e<1||16<e)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var s=Math.round(127*n);return this._convertNoteToArray(t).forEach((function(t){o.toMIDIChannels(e).forEach((function(e){i.send((o.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(e-1),[t,s],i._parseTimeParameter(r.time))}))})),this},c.prototype.sendControlChange=function(t,e,n,r){if(r=r||{},"string"==typeof t){if(void 0===(t=o.MIDI_CONTROL_CHANGE_MESSAGES[t]))throw new TypeError("Invalid controller name.")}else if(!(0<=(t=Math.floor(t))&&t<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("Controller value must be between 0 and 127.");return o.toMIDIChannels(n).forEach(function(n){this.send((o.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[t,e],this._parseTimeParameter(r.time))}.bind(this)),this},c.prototype._selectRegisteredParameter=function(t,e,n){var r=this;if(t[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(t[1]=Math.floor(t[1]),!(0<=t[1]&&t[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return o.toMIDIChannels(e).forEach((function(){r.sendControlChange(101,t[0],e,{time:n}),r.sendControlChange(100,t[1],e,{time:n})})),this},c.prototype._selectNonRegisteredParameter=function(t,e,n){var r=this;if(t[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(t[1]=Math.floor(t[1]),!(0<=t[1]&&t[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return o.toMIDIChannels(e).forEach((function(){r.sendControlChange(99,t[0],e,{time:n}),r.sendControlChange(98,t[1],e,{time:n})})),this},c.prototype._setCurrentRegisteredParameter=function(t,e,n){var r=this;if((t=[].concat(t))[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return o.toMIDIChannels(e).forEach((function(){r.sendControlChange(6,t[0],e,{time:n})})),t[1]=Math.floor(t[1]),0<=t[1]&&t[1]<=127&&o.toMIDIChannels(e).forEach((function(){r.sendControlChange(38,t[1],e,{time:n})})),this},c.prototype._deselectRegisteredParameter=function(t,e){var n=this;return o.toMIDIChannels(t).forEach((function(){n.sendControlChange(101,127,t,{time:e}),n.sendControlChange(100,127,t,{time:e})})),this},c.prototype.setRegisteredParameter=function(t,e,n,r){var i=this;if(r=r||{},!Array.isArray(t)){if(!o.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=o.MIDI_REGISTERED_PARAMETER[t]}return o.toMIDIChannels(n).forEach((function(){i._selectRegisteredParameter(t,n,r.time),i._setCurrentRegisteredParameter(e,n,r.time),i._deselectRegisteredParameter(n,r.time)})),this},c.prototype.setNonRegisteredParameter=function(t,e,n,r){var i=this;if(r=r||{},!(0<=t[0]&&t[0]<=127&&0<=t[1]&&t[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return e=[].concat(e),o.toMIDIChannels(n).forEach((function(){i._selectNonRegisteredParameter(t,n,r.time),i._setCurrentRegisteredParameter(e,n,r.time),i._deselectRegisteredParameter(n,r.time)})),this},c.prototype.incrementRegisteredParameter=function(t,e,n){var r=this;if(n=n||{},!Array.isArray(t)){if(!o.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=o.MIDI_REGISTERED_PARAMETER[t]}return o.toMIDIChannels(e).forEach((function(){r._selectRegisteredParameter(t,e,n.time),r.sendControlChange(96,0,e,{time:n.time}),r._deselectRegisteredParameter(e,n.time)})),this},c.prototype.decrementRegisteredParameter=function(t,e,n){if(n=n||{},!Array.isArray(t)){if(!o.MIDI_REGISTERED_PARAMETER[t])throw new TypeError("The specified parameter is not available.");t=o.MIDI_REGISTERED_PARAMETER[t]}return o.toMIDIChannels(e).forEach(function(){this._selectRegisteredParameter(t,e,n.time),this.sendControlChange(97,0,e,{time:n.time}),this._deselectRegisteredParameter(e,n.time)}.bind(this)),this},c.prototype.setPitchBendRange=function(t,e,n,r){var i=this;if(r=r||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The cents value must be between 0 and 127");return o.toMIDIChannels(n).forEach((function(){i.setRegisteredParameter("pitchbendrange",[t,e],n,{time:r.time})})),this},c.prototype.setModulationRange=function(t,e,n,r){var i=this;if(r=r||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The cents value must be between 0 and 127");return o.toMIDIChannels(n).forEach((function(){i.setRegisteredParameter("modulationrange",[t,e],n,{time:r.time})})),this},c.prototype.setMasterTuning=function(t,e,n){var r=this;if(n=n||{},(t=parseFloat(t)||0)<=-65||64<=t)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var i=Math.floor(t)+64,s=t-Math.floor(t),a=(s=Math.round((s+1)/2*16383))>>7&127,c=127&s;return o.toMIDIChannels(e).forEach((function(){r.setRegisteredParameter("channelcoarsetuning",i,e,{time:n.time}),r.setRegisteredParameter("channelfinetuning",[a,c],e,{time:n.time})})),this},c.prototype.setTuningProgram=function(t,e,n){var r=this;if(n=n||{},!(0<=(t=Math.floor(t))&&t<=127))throw new RangeError("The program value must be between 0 and 127");return o.toMIDIChannels(e).forEach((function(){r.setRegisteredParameter("tuningprogram",t,e,{time:n.time})})),this},c.prototype.setTuningBank=function(t,e,n){var r=this;if(n=n||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The bank value must be between 0 and 127");return o.toMIDIChannels(e).forEach((function(){r.setRegisteredParameter("tuningbank",t,e,{time:n.time})})),this},c.prototype.sendChannelMode=function(t,e,n,r){if(r=r||{},"string"==typeof t){if(!(t=o.MIDI_CHANNEL_MODE_MESSAGES[t]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(t=Math.floor(t))&&t<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((e=Math.floor(e)||0)<0||127<e)throw new RangeError("Value must be an integer between 0 and 127.");return o.toMIDIChannels(n).forEach(function(n){this.send((o.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[t,e],this._parseTimeParameter(r.time))}.bind(this)),this},c.prototype.sendProgramChange=function(t,e,n){var r=this;if(n=n||{},t=Math.floor(t),isNaN(t)||t<0||127<t)throw new RangeError("Program numbers must be between 0 and 127.");return o.toMIDIChannels(e).forEach((function(e){r.send((o.MIDI_CHANNEL_MESSAGES.programchange<<4)+(e-1),[t],r._parseTimeParameter(n.time))})),this},c.prototype.sendChannelAftertouch=function(t,e,n){var r=this;n=n||{},t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=.5);var i=Math.round(127*t);return o.toMIDIChannels(e).forEach((function(t){r.send((o.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(t-1),[i],r._parseTimeParameter(n.time))})),this},c.prototype.sendPitchBend=function(t,e,n){var r=this;if(n=n||{},isNaN(t)||t<-1||1<t)throw new RangeError("Pitch bend value must be between -1 and 1.");var i=Math.round((t+1)/2*16383),s=i>>7&127,a=127&i;return o.toMIDIChannels(e).forEach((function(t){r.send((o.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(t-1),[a,s],r._parseTimeParameter(n.time))})),this},c.prototype._parseTimeParameter=function(t){var e,n=parseFloat(t);return"string"==typeof t&&"+"===t.substring(0,1)?n&&0<n&&(e=o.time+n):n>o.time&&(e=n),e},c.prototype._convertNoteToArray=function(t){var e=[];return Array.isArray(t)||(t=[t]),t.forEach((function(t){e.push(o.guessNoteNumber(t))})),e},r=[],i=function(){return o}.apply(e,r),void 0===i||(t.exports=i)}()},c689:function(t,e,n){(function(e,r){t.exports=r(n("7a23"))})("undefined"!==typeof self&&self,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"2b09":function(t,e,n){"use strict";n("dc65")},8875:function(t,e,n){var r,i,s;(function(n,o){i=[],r=o,s="function"===typeof r?r.apply(e,i):r,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,i,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,a=s.exec(p.stack)||o.exec(p.stack),c=a&&a[1]||!1,l=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");c===u&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===c)return h[d];if(c===u&&h[d].innerHTML&&h[d].innerHTML.trim()===i)return h[d]}return null}}return t}))},"8bbf":function(e,n){e.exports=t},dc65:function(t,e,n){},fb15:function(t,e,n){"use strict";n.r(e),n.d(e,"SchemaForm",(function(){return q})),n.d(e,"SchemaWizard",(function(){return G})),n.d(e,"SchemaFormFactory",(function(){return X})),n.d(e,"useSchemaForm",(function(){return Z})),n.d(e,"constants",(function(){return r}));var r={};if(n.r(r),n.d(r,"IS_SCHEMA_WIZARD",(function(){return k})),n.d(r,"PARENT_SCHEMA_EXISTS",(function(){return T})),n.d(r,"INJECTED_SCHEMA",(function(){return S})),n.d(r,"SCHEMA_MODEL_PATH",(function(){return O})),n.d(r,"FORM_MODEL",(function(){return C})),n.d(r,"FIND_NESTED_FORM_MODEL_PROP",(function(){return E})),n.d(r,"UPDATE_FORM_MODEL",(function(){return A})),"undefined"!==typeof window){var i=window.document.currentScript,s=n("8875");i=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s});var o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var a=n("8bbf");function c(t,e){var n=Object(a["resolveComponent"])("SchemaField");return Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(t.behaveLikeParentSchema?"form":"div"),t.formBinds,{default:Object(a["withCtx"])((function(){return[t.behaveLikeParentSchema?Object(a["renderSlot"])(t.$slots,"beforeForm",{key:0}):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(t.parsedSchema,(function(e,r){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{class:["schema-row",t.schemaRowClasses],key:r},[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(n,{key:e.model,field:e,sharedConfig:t.sharedConfig,class:"schema-col"},null,8,["field","sharedConfig"])})),128))],2)})),128)),t.behaveLikeParentSchema?Object(a["renderSlot"])(t.$slots,"afterForm",{key:1}):Object(a["createCommentVNode"])("",!0)]})),_:1},16)}function l(){var t=Math.floor(1e9*Math.random()),e=new Map;function n(n){return e.has(n)?e.get(n):(t++,e.set(n,t),t)}return{UUID:t,UUIDBindings:e,getID:n}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function f(t,e){if(t){if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g=function(t){return t.filter((function(t){return t.schema}))},v=function(t){var e,n=p(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=g(r);if(i.length)return i}}catch(s){n.e(s)}finally{n.f()}return[]},b=function t(e,n){var r=v(n),i=function(t){return(null===t||void 0===t?void 0:t.model)===e};if(!r.length)return null;var s,o=p(r);try{for(o.s();!(s=o.n()).done;){var a=s.value;if(i(a))return a;var c=t(e,y(a.schema));if(i(c))return c}}catch(l){o.e(l)}finally{o.f()}return null},y=function(t){var e=Array.isArray(t)?t:Object.keys(t).map((function(e){return h(h({},t[e]),{},{model:e})}));return e.map((function(t){return Array.isArray(t)?t:[t]}))};function _(t,e){var n=l(),r=n.getID,i=Object(a["computed"])((function(){var n=Object(a["unref"])(t),i=y(n);if(e){var s=b(e,i);s&&(i=y(s.schema))}return i.map((function(t){return t.map((function(t){return h(h({},t),{},{uuid:r(t.model)})}))}))}));return{parsedSchema:i}}function w(t,e){return t.schemaCondition?(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(t.field.component),Object(a["mergeProps"])({key:0},t.binds,{modelValue:t.fieldValue,"onUpdate:modelValue":t.update,class:"schema-col"}),null,16,["modelValue","onUpdate:modelValue"])):Object(a["createCommentVNode"])("",!0)}var x="fvl_",k="".concat(x,"isSchemaWizard"),T="".concat(x,"parentSchemaExists"),S="".concat(x,"injectedSchema"),O="".concat(x,"schemaModelPath"),C="".concat(x,"formModel"),E="".concat(x,"findNestedFormModelProp"),A="".concat(x,"updateFormModel");function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={name:"SchemaField",props:{field:{type:Object,required:!0},sharedConfig:{type:Object,default:function(){return{}}}},setup:function(t){var e=t.field.schema?N(N({},t.field),{},{nestedSchemaModel:t.field.model}):N(N({},t.sharedConfig),t.field),n=Object(a["inject"])(C,{}),r=Object(a["inject"])(O,null),i=Object(a["inject"])(E),s=Object(a["computed"])((function(){return r?i(r)[t.field.model]:n.value[t.field.model]})),o=Object(a["inject"])(A),c=function(e){o(t.field.model,e,r)},l=Object(a["computed"])((function(){var e=t.field.condition;return!e||"function"!==typeof e||e(n.value)}));return{binds:e,fieldValue:s,update:c,schemaCondition:l}}};I.render=w;var P=I;function L(){var t=Object(a["inject"])(k,!1),e=Object(a["inject"])(T,!1);e||Object(a["provide"])(T,!0);var n=Object(a["computed"])((function(){return!t&&!e}));return{behaveLikeParentSchema:n,hasParentSchema:e,isChildOfWizard:t}}function D(t){var e=Object(a["toRefs"])(t),n=e.schema,r=Object(a["inject"])(S,!1);if(r||(Object(a["provide"])(S,n),r=n),t.nestedSchemaModel){var i=Object(a["inject"])(O,""),s=i?"".concat(i,".").concat(t.nestedSchemaModel):t.nestedSchemaModel;Object(a["provide"])(O,s)}return{schema:r}}function F(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=B(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function B(t,e){if(t){if("string"===typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V(t,e){var n=Object(a["inject"])(C,{}),r=function(e,r){if(!t.preventModelCleanupOnSchemaChange){var i=function(t,e){return t.concat(e.map((function(t){return t.model})))},s=e.reduce(i,[]),o=r.reduce(i,[]),a=o.filter((function(t){return!s.includes(t)}));if(a.length){var c,l=F(a);try{for(l.s();!(c=l.n()).done;){var u=c.value;delete n.value[u]}}catch(h){l.e(h)}finally{l.f()}}}};Object(a["watch"])(e,r)}var H={name:"SchemaForm",components:{SchemaField:P},props:{schema:{type:[Object,Array],required:!0,validator:function(t){return!Array.isArray(t)||0===t.filter((function(t){return!Array.isArray(t)&&!t.model&&!t.schema})).length}},sharedConfig:{type:Object,default:function(){return{}}},preventModelCleanupOnSchemaChange:{type:Boolean,default:!1},nestedSchemaModel:{type:String,default:""},schemaRowClasses:{type:[String,Object,Array],default:null}},emits:["submit","update:modelValue"],setup:function(t,e){var n=e.emit,r=e.attrs,i=L(),s=i.behaveLikeParentSchema,o=i.hasParentSchema,c=D(t),l=c.schema,u=_(l,r.model),h=u.parsedSchema;V(t,h);var d=Object(a["computed"])((function(){return o?{}:{onSubmit:function(t){t.preventDefault(),n("submit",t)}}}));return{behaveLikeParentSchema:s,parsedSchema:h,hasParentSchema:o,formBinds:d}}};n("2b09");H.render=c;var q=H;function z(t,e){var n=Object(a["resolveComponent"])("SchemaForm");return Object(a["openBlock"])(),Object(a["createBlock"])("form",{onSubmit:e[1]||(e[1]=Object(a["withModifiers"])((function(e){return t.$emit("submit",e)}),["prevent"]))},[Object(a["renderSlot"])(t.$slots,"beforeForm"),Object(a["createVNode"])(n,{schema:t.currentSchema,preventModelCleanupOnSchemaChange:""},null,8,["schema"]),Object(a["renderSlot"])(t.$slots,"afterForm")],32)}var W={name:"SchemaWizard",components:{SchemaForm:q},props:{schema:{type:Array,required:!0},step:{type:Number,required:!0,default:0}},emits:["submit"],setup:function(t){Object(a["provide"])(k,!0);var e=Object(a["computed"])((function(){return t.schema[t.step]}));return{currentSchema:e}}};W.render=z;var G=W;function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=q.setup;function r(e,r){var i=n(e,r);return t.length?t.reduce((function(t,n){return n(t,e,r)}),i):i}var i=Y(Y({},P),{},{components:Y(Y({},e),P.components)});return Y(Y({},q),{},{components:Y(Y(Y({},e),q.components),{},{SchemaField:i}),setup:r})}var K=function(t,e){return t[e]||(t[e]={}),t[e]};function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(a["isRef"])(t)?t:Object(a["ref"])(t),n=function(t){if(!t)return null;for(var n=t.split("."),r=K(e.value,n[0]),i=1;i<n.length;i++)r=K(r,n[i]);return r},r=function(t,r,i){i?n(i)[t]=r:e.value[t]=r};return Object(a["provide"])(A,r),Object(a["provide"])(E,n),Object(a["provide"])(C,e),{formModel:e}}var Q=q;e["default"]=Q}})}))},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("ce4e"),s="__core-js_shared__",o=r[s]||i(s,{});t.exports=o},c815:function(t,e){function n(t,e,n,r,i,s){this.rows=[],t.unalignedWords&&t.unalignedWords.length>0&&this.unalignedWords(t.unalignedWords,r,i,s),this.extraText(t,r,i,s),t.footer&&n&&this.footer(t.footer,e,r,s)}n.prototype.unalignedWords=function(t,e,n,r){var i=50,s="meta-bottom unaligned-words",o="wordsfont";this.rows.push({startGroup:"unalignedWords",klass:"abcjs-meta-bottom abcjs-unaligned-words"});var a=r.calc("i",o,s);this.rows.push({move:n.words});for(var c=0;c<t.length;c++)if(""===t[c])this.rows.push({move:a.height});else if("string"===typeof t[c])this.addTextIf(e+i,t[c],o,s,0,0,"start",r,null,!0);else{for(var l=0,u=0,h=0;h<t[c].length;h++){var d=t[c][h],p=d.font?d.font:o;this.rows.push({left:e+i+u,text:d.text,font:p,anchor:"start"});var f=r.calc(d.text,o,s);l=Math.max(l,f.height),u+=f.width," "===d.text[d.text.length-1]&&(u+=a.width)}this.rows.push({move:l})}this.rows.push({move:2*a.height}),this.rows.push({endGroup:"unalignedWords",absElemType:"unalignedWords"})},n.prototype.extraText=function(t,e,n,r){var i="";t.book&&(i+="Book: "+t.book+"\n"),t.source&&(i+="Source: "+t.source+"\n"),t.discography&&(i+="Discography: "+t.discography+"\n"),t.notes&&(i+="Notes: "+t.notes+"\n"),t.transcription&&(i+="Transcription: "+t.transcription+"\n"),t.history&&(i+="History: "+t.history+"\n"),t["abc-copyright"]&&(i+="Copyright: "+t["abc-copyright"]+"\n"),t["abc-creator"]&&(i+="Creator: "+t["abc-creator"]+"\n"),t["abc-edited-by"]&&(i+="Edited By: "+t["abc-edited-by"]+"\n"),i.length>0&&this.addTextIf(e,i,"historyfont","meta-bottom extra-text",n.info,0,"start",r,"extraText")},n.prototype.footer=function(t,e,n,r){var i="header meta-bottom",s="footerfont";this.rows.push({startGroup:"footer",klass:i}),this.addTextIf(n,t.left,s,i,0,0,"start",r),this.addTextIf(n+e/2,t.center,s,i,0,0,"middle",r),this.addTextIf(n+e,t.right,s,i,0,0,"end",r)},n.prototype.addTextIf=function(t,e,n,r,i,s,o,a,c,l){if(e){i&&this.rows.push({move:i});var u={left:t,text:e,font:n,anchor:o};c&&(u.absElemType=c),l||(u.klass=r),this.rows.push(u);var h=a.calc("A",n,r),d=e.split("\n").length;"\n"===e[e.length-1]&&d--;var p=1.1*h.height*d;this.rows.push({move:Math.round(p)}),s&&this.rows.push({move:s})}},t.exports=n},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},c8f1:function(t,e,n){var r=n("5cbe"),i=n("fa8e"),s=n("2429"),o=function(t){if(0!==t.elems.length&&!t.allrests){var e=u(t.stemsUp,t.isgrace),n=t.elems[0],r=t.elems[t.elems.length-1],i=0,s=t.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;i=c(n,t.stemsUp,s,i),i=c(r,t.stemsUp,s,i),i=Math.max(t.stemHeight,i+3);var o=d(t.average,t.elems.length,i,t.stemsUp,n.abcelem.averagepitch,r.abcelem.averagepitch,t.isflat,t.min,t.max,t.isgrace),a=h(t.stemsUp,n,r);t.addBeam({startX:a[0],endX:a[1],startY:o[0],endY:o[1],dy:e});for(var l=f(t.elems,t.stemsUp,t.beams[0],t.isgrace,e),m=0;m<l.length;m++)t.addBeam(l[m]);p(t.elems,t.stemsUp,t.beams[0],e,t.mainNote)}},a=function(t){return void 0===t?0:Math.floor(Math.log(t)/Math.log(2))};function c(t,e,n,r){if(!t.children)return r;for(var i=0;i<t.children.length;i++){var s=t.children[i];e&&void 0!==s.top&&"flags.ugrace"===s.c?r=Math.max(r,s.top-n):e||void 0===s.bottom||"flags.ugrace"!==s.c||(r=Math.max(r,n-s.bottom+7))}return r}function l(t,e,n,r){if(r)return 0;var i=t-e,s=n/2;return i>s&&(i=s),i<-s&&(i=-s),i}function u(t,e){var n=t?i.STEP:-i.STEP;return e&&(n*=.4),n}function h(t,e,n){var r=e.heads[t?0:e.heads.length-1],i=n.heads[t?0:n.heads.length-1],s=r.x;t&&(s+=r.w-.6);var o=i.x;return o+=t?i.w:.6,[s,o]}function d(t,e,n,r,i,s,o,a,c,u){var h=n-2,d=n-2,p=Math.round(r?Math.max(t+h,c+d):Math.min(t-h,a-d)),f=l(i,s,e,o),m=p+Math.floor(f/2),g=p+Math.floor(-f/2);return u||(r&&p<6||!r&&p>6)&&(m=6,g=6),[m,g]}function p(t,e,n,o,a){for(var c=0;c<t.length;c++){var l=t[c];if(!l.abcelem.rest){var u=!l.addExtra,h=u?a:l,d=l.heads[e?0:l.heads.length-1],p=.2,f=d.pitch+(e?p:-p),m=e?d.w:0,g=d.x+m,v=s(n.startX,n.startY,n.endX,n.endY,g),b=e?-.6:.6;e||(v-=o/2/i.STEP),u&&(m+=l.heads[0].dx),"noteheads.slash.quarter"===d.c&&(e?f+=1:f-=1);var y=new r(null,m,0,f,{type:"stem",pitch2:v,linewidth:b});y.setX(h.x),h.addRight(y)}}}function f(t,e,n,r,i){for(var o=[],c=[],l=0;l<t.length;l++){var u=t[l];if(!u.abcelem.rest){var d=u.heads[e?0:u.heads.length-1],p=d.x+(e?d.w:0),f=s(n.startX,n.startY,n.endX,n.endY,p),m=e?-1.5:1.5;r&&(m=2*m/3);var g=u.abcelem.duration;0===g&&(g=.25);for(var v=a(g);v<-3;v++){var b=-4-v;if(c[b]?c[b].single=!1:c[b]={x:p+(e?-.6:0),y:f+m*(b+1),durlog:v,single:!0},l>0&&u.abcelem.beambr&&u.abcelem.beambr<=b+1){c[b].split||(c[b].split=[c[b].x]);var y=h(e,t[l-1],u);c[b].split[c[b].split.length-1]>=y[0]&&(y[0]+=u.w),c[b].split.push(y[0]),c[b].split.push(y[1])}}for(var _=c.length-1;_>=0;_--)if(l===t.length-1||a(t[l+1].abcelem.duration)>-_-4){var w=p,x=f+m*(_+1);c[_].single&&(w=0===l?p+5:p-5,x=s(n.startX,n.startY,n.endX,n.endY,w)+m*(_+1));var k={startX:c[_].x,endX:w,startY:c[_].y,endY:x,dy:i};if(void 0!==c[_].split){var T=c[_].split;k.endX<=T[T.length-1]&&(T[T.length-1]-=u.w),T.push(k.endX),k.split=c[_].split}o.push(k),c=c.slice(0,_)}}}return o}t.exports=o},ca0c:function(t,e){var n={},r={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},i=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],s=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];n.keySignature=function(t,e,n,o,a,c){if("perc"===t.clef.type)return{accidentals:e[n],root:o,acc:a};c||(c=0),t.localTransposeVerticalMovement=0,t.localTransposePreferFlats=!1;var l=e[n];if(!l)return t.key;if(t.localTranspose=(t.globalTranspose?t.globalTranspose:0)+c,!t.localTranspose)return{accidentals:l,root:o,acc:a};if(t.globalTransposeOrigKeySig=l,t.localTranspose%12===0)return t.localTransposeVerticalMovement=t.localTranspose/12*7,{accidentals:l,root:o,acc:a};var u=n[0];"b"===n[1]||"#"===n[1]?(u+=n[1],n=n.substr(2)):n=n.substr(1);var h=r[u]+t.localTranspose;while(h<0)h+=12;h>11&&(h%=12);var d="m"===n[0]?s[h]:i[h],p=d+n,f=e[p];f.length>0&&"flat"===f[0].acc&&(t.localTransposePreferFlats=!0);var m=p.charCodeAt(0)-u.charCodeAt(0);return t.localTranspose>0?m<0?m+=7:0===m&&("#"!==u[1]&&"b"!==p[1]||(m+=7)):t.localTranspose<0&&(m>0?m-=7:0===m&&("b"!==u[1]&&"#"!==p[1]||(m-=7))),t.localTranspose>0?t.localTransposeVerticalMovement=m+7*Math.floor(t.localTranspose/12):t.localTransposeVerticalMovement=m+7*Math.ceil(t.localTranspose/12),{accidentals:f,root:d[0],acc:d.length>1?d[1]:""}};var o=["C","Câ¯","D","Dâ¯","E","F","Fâ¯","G","Gâ¯","A","Aâ¯","B"],a=["C","Dâ­","D","Eâ­","E","F","Gâ­","G","Aâ­","A","Bâ­","B"],c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],l=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];n.chordName=function(t,e){if(t.localTranspose&&t.localTranspose%12!==0){var n=t.localTranspose;while(n<0)n+=12;n>11&&(n%=12),t.freegchord?(e=e.replace(/Cb/g,"`~11`"),e=e.replace(/Db/g,"`~1`"),e=e.replace(/Eb/g,"`~3`"),e=e.replace(/Fb/g,"`~4`"),e=e.replace(/Gb/g,"`~6`"),e=e.replace(/Ab/g,"`~8`"),e=e.replace(/Bb/g,"`~10`"),e=e.replace(/C#/g,"`~1`"),e=e.replace(/D#/g,"`~3`"),e=e.replace(/E#/g,"`~5`"),e=e.replace(/F#/g,"`~6`"),e=e.replace(/G#/g,"`~8`"),e=e.replace(/A#/g,"`~10`"),e=e.replace(/B#/g,"`~0`")):(e=e.replace(/Câ­/g,"`~11`"),e=e.replace(/Dâ­/g,"`~1`"),e=e.replace(/Eâ­/g,"`~3`"),e=e.replace(/Fâ­/g,"`~4`"),e=e.replace(/Gâ­/g,"`~6`"),e=e.replace(/Aâ­/g,"`~8`"),e=e.replace(/Bâ­/g,"`~10`"),e=e.replace(/Câ¯/g,"`~1`"),e=e.replace(/Dâ¯/g,"`~3`"),e=e.replace(/Eâ¯/g,"`~5`"),e=e.replace(/Fâ¯/g,"`~6`"),e=e.replace(/Gâ¯/g,"`~8`"),e=e.replace(/Aâ¯/g,"`~10`"),e=e.replace(/Bâ¯/g,"`~0`")),e=e.replace(/C/g,"`~0`"),e=e.replace(/D/g,"`~2`"),e=e.replace(/E/g,"`~4`"),e=e.replace(/F/g,"`~5`"),e=e.replace(/G/g,"`~7`"),e=e.replace(/A/g,"`~9`"),e=e.replace(/B/g,"`~11`");for(var r=e.split("`"),i=0;i<r.length;i++)if("~"===r[i][0]){var s=parseInt(r[i].substr(1),10);s+=n,s>11&&(s-=12),t.freegchord?r[i]=t.localTransposePreferFlats?l[s]:c[s]:r[i]=t.localTransposePreferFlats?a[s]:o[s]}e=r.join("")}return e};var u=["c","d","e","f","g","a","b"];function h(t,e,n,r,i){for(var s=u[(t+49)%7],o=0,a=0;a<r.length;a++)r[a].note.toLowerCase()===s&&(o=d[r[a].acc]);for(var c=d[n],l=c-o,h=u[(e+49)%7],p=0,f=0;f<i.accidentals.length;f++)i.accidentals[f].note.toLowerCase()===h&&(p=d[i.accidentals[f].acc]);var m=l+p;return m<-2&&(e--,m+="c"===h||"f"===h?1:2),m>2&&(e++,m-="b"===h||"e"===h?1:2),[e,m]}var d={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},p={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"};n.note=function(t,e){if(t.localTranspose&&"perc"!==t.clef.type){var n=e.pitch;if(e.pitch=e.pitch+t.localTransposeVerticalMovement,e.accidental){var r=h(n,e.pitch,e.accidental,t.globalTransposeOrigKeySig,t.targetKey);e.pitch=r[0],e.accidental=p[r[1]]}}},t.exports=n},ca84:function(t,e,n){var r=n("5135"),i=n("fc6a"),s=n("4d64").indexOf,o=n("d012");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)!r(o,n)&&r(a,n)&&l.push(n);while(e.length>c)r(a,n=e[c++])&&(~s(l,n)||l.push(n));return l}},caad:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").includes,s=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),s=r.document,o=i(s)&&i(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},cca6:function(t,e,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(t,e,n){var r=n("825a"),i=n("861d"),s=n("f069");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=s.f(t),o=n.resolve;return o(e),n.promise}},ce4e:function(t,e,n){var r=n("da84"),i=n("9112");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("428f"),i=n("da84"),s=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?s(r[t])||s(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);e.f=s?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d28b:function(t,e,n){var r=n("746f");r("iterator")},d2bb:function(t,e,n){var r=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(s){}return function(n,s){return r(n),i(s),e?t.call(n,s):n.__proto__=s,n}}():void 0)},d380:function(t,e){function n(t,e,n,s,o){var a,c,l=t.padding.left,u=0;for(a=0;a<n.length;a++)n[a].header&&(c=e.calc(n[a].header,"voicefont",""),u=Math.max(u,c.width));if(u=r(u,s,e),u=r(u,o,e),u){var h=e.calc("A","voicefont","");u+=h.width}l+=u;var d=0;return d=i(s,l,d),d=i(o,l,d),l+d}function r(t,e,n){if(e)for(var r=0;r<e.length;r++)if(e[r].header){var i=n.calc(e[r].header,"voicefont","");t=Math.max(t,i.width)}return t}function i(t,e,n){if(t)for(var r=0;r<t.length;r++)s(e,t[r]),n=Math.max(n,t[r].getWidth());return n}function s(t,e){e.x=t}t.exports=n},d3b7:function(t,e,n){var r=n("00ee"),i=n("6eeb"),s=n("b041");r||i(Object.prototype,"toString",s,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,i=n("5135"),s=n("b622"),o=s("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},d4ec:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},d4f8:function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},d587:function(t,e,n){var r=n("fa8e"),i=n("f204"),s=function(t){this.paper=new i(t),this.controller=null,this.space=3*r.SPACE,this.padding={},this.reset()};s.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.initVerticalSpace()},s.prototype.newTune=function(t){this.abctune=t,this.setVerticalSpace(t.formatting),this.isPrint="print"===t.media,this.setPadding(t)},s.prototype.setPaddingOverride=function(t){this.paddingOverride={top:t.paddingtop,bottom:t.paddingbottom,right:t.paddingright,left:t.paddingleft}},s.prototype.setPadding=function(t){function e(e,n,r,i,s){void 0!==t.formatting[r]?e.padding[n]=t.formatting[r]:void 0!==e.paddingOverride[n]?e.padding[n]=e.paddingOverride[n]:e.isPrint?e.padding[n]=i:e.padding[n]=s}e(this,"top","topmargin",38,15),e(this,"bottom","botmargin",38,15),e(this,"left","leftmargin",68,15),e(this,"right","rightmargin",68,15)},s.prototype.adjustNonScaledItems=function(t){this.padding.top/=t,this.padding.bottom/=t,this.padding.left/=t,this.padding.right/=t,this.abctune.formatting.headerfont.size/=t,this.abctune.formatting.footerfont.size/=t},s.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:36.67,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}},s.prototype.setVerticalSpace=function(t){void 0!==t.staffsep&&(this.spacing.staffSeparation=4*t.staffsep/3),void 0!==t.composerspace&&(this.spacing.composer=4*t.composerspace/3),void 0!==t.partsspace&&(this.spacing.parts=4*t.partsspace/3),void 0!==t.textspace&&(this.spacing.text=4*t.textspace/3),void 0!==t.musicspace&&(this.spacing.music=4*t.musicspace/3),void 0!==t.titlespace&&(this.spacing.title=4*t.titlespace/3),void 0!==t.sysstaffsep&&(this.spacing.systemStaffSeparation=4*t.sysstaffsep/3),void 0!==t.subtitlespace&&(this.spacing.subtitle=4*t.subtitlespace/3),void 0!==t.topspace&&(this.spacing.top=4*t.topspace/3),void 0!==t.vocalspace&&(this.spacing.vocal=4*t.vocalspace/3),void 0!==t.wordsspace&&(this.spacing.words=4*t.wordsspace/3)},s.prototype.calcY=function(t){return this.y-t*r.STEP},s.prototype.moveY=function(t,e){void 0===e&&(e=1),this.y+=t*e},t.exports=s},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),s=n("b622"),o=n("9263"),a=n("9112"),c=s("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),h=s("replace"),d=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var f=s(t),m=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),g=m&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!m||!g||"replace"===t&&(!l||!u||d)||"split"===t&&!p){var v=/./[f],b=n(f,""[t],(function(t,e,n,r,i){return e.exec===o?m&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=b[0],_=b[1];r(String.prototype,t,y),r(RegExp.prototype,f,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}h&&a(RegExp.prototype[f],"sham",!0)}},d9b5:function(t,e,n){var r=n("e8ab"),i=n("7558"),s=n("4919"),o=n("0842"),a=n("b721");function c(t){var e,n={};if(t.abcjsParams)for(e in t.abcjsParams)t.abcjsParams.hasOwnProperty(e)&&(n[e]=t.abcjsParams[e]);if(t.midi_options)for(e in t.midi_options)t.midi_options.hasOwnProperty(e)&&(n[e]=t.midi_options[e]);if(t.parser_options)for(e in t.parser_options)t.parser_options.hasOwnProperty(e)&&(n[e]=t.parser_options[e]);if(t.render_options)for(e in t.render_options)t.render_options.hasOwnProperty(e)&&(n[e]=t.render_options[e]);return n}var l=function(t,e){this.abcjsParams=c(e),e.indicate_changed&&(this.indicate_changed=!0),this.editarea="string"===typeof t?new a(t):t,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),e.canvas_id?this.div=e.canvas_id:e.paper_id?this.div=e.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),"string"===typeof this.div&&(this.div=document.getElementById(this.div)),e.selectionChangeCallback&&(this.selectionChangeCallback=e.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),e.synth&&s()&&(this.synth={el:e.synth.el,cursorControl:e.synth.cursorControl,options:e.synth.options}),e.generate_midi&&(this.generate_midi=e.generate_midi,this.abcjsParams.generateDownload&&("string"===typeof e.midi_download_id?this.downloadMidi=document.getElementById(e.midi_download_id):e.midi_download_id&&(this.downloadMidi=e.midi_download_id)),!1!==this.abcjsParams.generateInline&&("string"===typeof e.midi_id?this.inlineMidi=document.getElementById(e.midi_id):e.midi_id&&(this.inlineMidi=e.midi_id))),e.warnings_id?"string"===typeof e.warnings_id?this.warningsdiv=document.getElementById(e.warnings_id):this.warningsdiv=e.warnings_id:e.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=e.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(t,e){var n=function(t,e){var n=t.className;return n.length>0&&(n===e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(n))};return n(t,e)||(t.className+=(t.className?" ":"")+e),t},this.removeClassName=function(t,e){return t.className=r.strip(t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")),t},this.setReadOnly=function(t){var e="abc_textarea_readonly",n=this.editarea.getElem();t?(n.setAttribute("readonly","yes"),this.addClassName(n,e)):(n.removeAttribute("readonly"),this.removeClassName(n,e))}};l.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var t=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(t)}if(this.synth){var e=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new i,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],e,this.synth.options)}},l.prototype.modelChanged=function(){this.bReentry||(this.bReentry=!0,this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=o(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi(),this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1)},l.prototype.paramChanged=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this.abcjsParams[e]=t[e]);this.currentAbc="",this.fireChanged()},l.prototype.synthParamChanged=function(t){if(this.synth.options={},t)for(var e in t)t.hasOwnProperty(e)&&(this.synth.options[e]=t[e]);this.currentAbc="",this.fireChanged()},l.prototype.parseABC=function(){var t=this.editarea.getString();return t===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=t,!0)},l.prototype.updateSelection=function(){var t=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(t.start,t.end)}catch(e){}this.selectionChangeCallback&&this.selectionChangeCallback(t.start,t.end)},l.prototype.fireSelectionChanged=function(){this.updateSelection()},l.prototype.setDirtyStyle=function(t){if(void 0!==this.indicate_changed){var e=function(t,e){var n=function(t,e){var n=t.className;return n.length>0&&(n===e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(n))};return n(t,e)||(t.className+=(t.className?" ":"")+e),t},n=function(t,e){return t.className=r.strip(t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")),t},i="abc_textarea_dirty",s=this.editarea.getElem();t?e(s,i):n(s,i)}},l.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var t=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){t.modelChanged()}),300);var e=this.isDirty();this.wasDirty!==e&&(this.wasDirty=e,this.setDirtyStyle(e)),this.onchangeCallback&&this.onchangeCallback(this)}},l.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},l.prototype.isDirty=function(){return void 0!==this.indicate_changed&&this.editarea.initialText!==this.editarea.getString()},l.prototype.highlight=function(t,e,n,r,i,s){this.editarea.setSelection(t.startChar,t.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(t.startChar,t.endChar),this.clientClickListener&&this.clientClickListener(t,e,n,r,i,s)},l.prototype.pause=function(t){this.bIsPaused=t,t||this.fireChanged()},l.prototype.millisecondsPerMeasure=function(){return this.synth.synthControl.visualObj.millisecondsPerMeasure()},l.prototype.pauseMidi=function(t){this.midiPause=t,t||this.redrawMidi()},t.exports=l},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),s=n("56ef"),o=n("fc6a"),a=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),i=a.f,l=s(r),u={},h=0;while(l.length>h)n=i(r,e=l[h++]),void 0!==n&&c(u,e,n);return u}})},dc59:function(t,e,n){var r=n("2e42"),i=n("5cbe"),s=function(t,e,n){this.type="TempoElement",this.tempo=t,this.tempo.type="tempo",this.tuneNumber=e,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(n,t,e))};s.prototype.setX=function(t){this.x=t},s.prototype.createNote=function(t,e,n){var s,o,a,c=.75,l=e.duration[0],u=new r(e,l,1,"tempo",n);l<=1/32?(a="noteheads.quarter",o="flags.u32nd",s=0):l<=1/16?(a="noteheads.quarter",o="flags.u16th",s=0):l<=3/32?(a="noteheads.quarter",o="flags.u16nd",s=1):l<=1/8?(a="noteheads.quarter",o="flags.u8th",s=0):l<=3/16?(a="noteheads.quarter",o="flags.u8th",s=1):l<=1/4?(a="noteheads.quarter",s=0):l<=3/8?(a="noteheads.quarter",s=1):l<=.5?(a="noteheads.half",s=0):l<=3/4?(a="noteheads.half",s=1):l<=1?(a="noteheads.whole",s=0):l<=1.5?(a="noteheads.whole",s=1):l<=2?(a="noteheads.dbl",s=0):(a="noteheads.dbl",s=1);var h,d=t(u,a,{verticalPos:0},{dir:"up",flag:o,dot:s,scale:c}),p=d.notehead;if(u.addHead(p),"noteheads.whole"!==a&&"noteheads.dbl"!==a){var f=1/3*c,m=5*c,g=p.dx+p.w,v=-.6;h=new i(null,g,0,f,{type:"stem",pitch2:m,linewidth:v}),u.addRight(h)}return u},t.exports=s},dd76:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return a}));class r{static innerWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static width(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static getOuterWidth(t,e){if(t){let n=t.offsetWidth;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)}return n}return 0}static getOuterHeight(t,e){if(t){let n=t.offsetHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}return 0}static getClientHeight(t,e){if(t){let n=t.clientHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}return 0}static getViewport(){let t=window,e=document,n=e.documentElement,r=e.getElementsByTagName("body")[0],i=t.innerWidth||n.clientWidth||r.clientWidth,s=t.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:s}}static getOffset(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static index(t){let e=t.parentNode.childNodes,n=0;for(var r=0;r<e.length;r++){if(e[r]===t)return n;1===e[r].nodeType&&n++}return-1}static addMultipleClasses(t,e){if(t.classList){let n=e.split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}else{let n=e.split(" ");for(let e=0;e<n.length;e++)t.className+=" "+n[e]}}static addClass(t,e){t.classList?t.classList.add(e):t.className+=" "+e}static removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,e){return!!t&&(t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className))}static find(t,e){return t.querySelectorAll(e)}static findSingle(t,e){return t.querySelector(e)}static getHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}static getWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}static absolutePosition(t,e){let n,r,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=i.height,o=i.width,a=e.offsetHeight,c=e.offsetWidth,l=e.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();l.top+a+s>d.height?(n=l.top+u-s,t.style.transformOrigin="bottom",n<0&&(n=u)):(n=a+l.top+u,t.style.transformOrigin="top"),r=l.left+o>d.width?Math.max(0,l.left+h+c-o):l.left+h,t.style.top=n+"px",t.style.left=r+"px"}static relativePosition(t,e){let n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const r=e.offsetHeight,i=e.getBoundingClientRect(),s=this.getViewport();let o,a;i.top+r+n.height>s.height?(o=-1*n.height,t.style.transformOrigin="bottom",i.top+o<0&&(o=-1*i.top)):(o=r,t.style.transformOrigin="top"),a=n.width>s.width?-1*i.left:i.left+n.width>s.width?-1*(i.left+n.width-s.width):0,t.style.top=o+"px",t.style.left=a+"px"}static getParents(t,e=[]){return null===t["parentNode"]?e:this.getParents(t.parentNode,e.concat([t.parentNode]))}static getScrollableParents(t){let e=[];if(t){let n=this.getParents(t);const r=/(auto|scroll)/,i=t=>{let e=window["getComputedStyle"](t,null);return r.test(e.getPropertyValue("overflow"))||r.test(e.getPropertyValue("overflowX"))||r.test(e.getPropertyValue("overflowY"))};for(let t of n){let n=1===t.nodeType&&t.dataset["scrollselectors"];if(n){let r=n.split(",");for(let n of r){let r=this.findSingle(t,n);r&&i(r)&&e.push(r)}}9!==t.nodeType&&i(t)&&e.push(t)}}return e}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementDimensions(t){var e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e}static fadeIn(t,e){t.style.opacity=0;var n=+new Date,r=0,i=function(){r=+t.style.opacity+((new Date).getTime()-n)/e,t.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}static fadeOut(t,e){var n=1,r=50,i=e,s=r/i;let o=setInterval(()=>{n-=s,n<=0&&(n=0,clearInterval(o)),t.style.opacity=n},r)}static getUserAgent(){return navigator.userAgent}static appendChild(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.elElement)throw new Error("Cannot append "+e+" to "+t);e.elElement.appendChild(t)}}static scrollInView(t,e){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(t).getPropertyValue("paddingTop"),s=i?parseFloat(i):0,o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),c=a.top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-s,l=t.scrollTop,u=t.clientHeight,h=this.getOuterHeight(e);c<0?t.scrollTop=l+c:c+h>u&&(t.scrollTop=l+c-u+h)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document["selection"]&&document["selection"].empty)try{document["selection"].empty()}catch(t){}}static calculateScrollbarWidth(){if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser["version"]=t.version),this.browser["chrome"]?this.browser["webkit"]=!0:this.browser["webkit"]&&(this.browser["safari"]=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),e=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}static isVisible(t){return null!=t.offsetParent}static invokeElementMethod(t,e,n){t[e].apply(t,n)}static getFocusableElements(t){let e=r.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),n=[];for(let r of e)"none"!=getComputedStyle(r).display&&"hidden"!=getComputedStyle(r).visibility&&n.push(r);return n}static isClickable(t){const e=t.nodeName,n=t.parentElement&&t.parentElement.nodeName;return"INPUT"==e||"BUTTON"==e||"A"==e||"INPUT"==n||"BUTTON"==n||"A"==n||this.hasClass(t,"p-button")||this.hasClass(t.parentElement,"p-button")||this.hasClass(t.parentElement,"p-checkbox")||this.hasClass(t.parentElement,"p-radiobutton")}static applyStyle(t,e){if("string"===typeof e)t.style.cssText=this.style;else for(let n in this.style)t.style[n]=e[n]}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window["MSStream"]}static isAndroid(){return/(android)/i.test(navigator.userAgent)}}class i{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=r.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class s{static equals(t,e,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(e,n):this.deepEquals(t,e)}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n,r,i,s=Array.isArray(t),o=Array.isArray(e);if(s&&o){if(r=t.length,r!=e.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(t[n],e[n]))return!1;return!0}if(s!=o)return!1;var a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();var l=t instanceof RegExp,u=e instanceof RegExp;if(l!=u)return!1;if(l&&u)return t.toString()==e.toString();var h=Object.keys(t);if(r=h.length,r!==Object.keys(e).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(e,h[n]))return!1;for(n=r;0!==n--;)if(i=h[n],!this.deepEquals(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&Object.keys(t).length&&e){if(this.isFunction(e))return e(t);if(-1===e.indexOf("."))return t[e];{let i=e.split("."),s=t;for(var n=0,r=i.length;n<r;++n){if(null==s)return null;s=s[i[n]]}return s}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static filter(t,e,n){var r=[];if(t)for(let i of t)for(let t of e)if(String(this.resolveFieldData(i,t)).toLowerCase().indexOf(n.toLowerCase())>-1){r.push(i);break}return r}static reorderArray(t,e,n){let r;if(t&&e!==n){if(n>=t.length){r=n-t.length;while(1+r--)t.push(void 0)}t.splice(n,0,t.splice(e,1)[0])}}static findIndexInList(t,e){let n=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]===t){n=r;break}return n}static contains(t,e){if(null!=t&&e&&e.length)for(let n of e)if(this.equals(t,n))return!0;return!1}static insertIntoOrderedArray(t,e,n,r){if(n.length>0){let i=!1;for(let s=0;s<n.length;s++){let o=this.findIndexInList(n[s],r);if(o>e){n.splice(s,0,t),i=!0;break}}i||n.push(t)}else n.push(t)}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}}function o(){let t=[];const e=(e,n)=>{let r=t.length>0?t[t.length-1]:{key:e,value:n},i=r.value+(r.key===e?0:n)+1;return t.push({key:e,value:i}),i},n=e=>{t=t.filter(t=>t.value!==e)},r=()=>t.length>0?t[t.length-1].value:0,i=t=>t&&parseInt(t.style.zIndex,10)||0;return{get:i,set:(t,n,r)=>{n&&(n.style.zIndex=String(e(t,r)))},clear:t=>{t&&(n(i(t)),t.style.zIndex="")},getCurrent:()=>r()}}var a=o(),c=0;function l(t="pv_id_"){return c++,`${t}${c}`}function u(){const t=new Map;return{on(e,n){let r=t.get(e);r?r.push(n):r=[n],t.set(e,r)},off(e,n){let r=t.get(e);r&&r.splice(r.indexOf(n)>>>0,1)},emit(e,n){let r=t.get(e);r&&r.slice().map(t=>{t(n)})}}}},ddb0:function(t,e,n){var r=n("da84"),i=n("fdbc"),s=n("e260"),o=n("9112"),a=n("b622"),c=a("iterator"),l=a("toStringTag"),u=s.values;for(var h in i){var d=r[h],p=d&&d.prototype;if(p){if(p[c]!==u)try{o(p,c,u)}catch(m){p[c]=u}if(p[l]||o(p,l,h),i[h])for(var f in s)if(p[f]!==s[f])try{o(p,f,s[f])}catch(m){p[f]=s[f]}}}},df75:function(t,e,n){var r=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return r(t,i)}},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),s=n("da84"),o=n("5135"),a=n("861d"),c=n("9bf2").f,l=n("e893"),u=s.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(h[e]=!0),e};l(d,u);var p=d.prototype=u.prototype;p.constructor=d;var f=p.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=f.call(t);if(o(h,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e163:function(t,e,n){var r=n("5135"),i=n("7b0b"),s=n("f772"),o=n("e177"),a=s("IE_PROTO"),c=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e1ae:function(t,e,n){},e260:function(t,e,n){"use strict";var r=n("fc6a"),i=n("44d2"),s=n("3f8c"),o=n("69f3"),a=n("7dd0"),c="Array Iterator",l=o.set,u=o.getterFor(c);t.exports=a(Array,"Array",(function(t,e){l(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},e2cc:function(t,e,n){var r=n("6eeb");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e415:function(t,e){function n(t,e,n,r){var i=(e+t.padding.right)*n,s=(t.y+t.padding.bottom)*n;t.isPrint&&(s=Math.max(s,1056));var o="Sheet Music";t.abctune&&t.abctune.metaText&&t.abctune.metaText.title&&(o+=' for "'+t.abctune.metaText.title+'"'),t.paper.setTitle(o);var a=t.ariaLabel?t.ariaLabel:o;t.paper.setAttribute("aria-label",a);var c=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];t.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+c.join(" ")+"}");var l={overflow:"hidden"};"resize"===r?t.paper.setResponsiveWidth(i,s):(l.width="",l.height=s+"px",n<1?(l.width=i+"px",t.paper.setSize(i/n,s/n)):t.paper.setSize(i,s)),t.paper.setScale(n),t.paper.setParentStyles(l)}t.exports=n},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),s=n("fc6a"),o=n("06cf").f,a=n("83ab"),c=i((function(){o(1)})),l=!a||c;r({target:"Object",stat:!0,forced:l,sham:!a},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},e5da:function(t,e,n){var r,i=n("e8ab"),s=n("2601");(function(){"use strict";var t,e,n,o,a,c,l,u,h,d,p,f,m,g,v,b,y,_,w,x,k,T,S,O=1,C={num:4,den:4},E=0,A=128,M=64,N=48,j=!1,I=!1,P=!0,L=105,D=95,F=85,B=.25,R=0,V={},H=0,q=0,z=-.001,W=.4;function G(t){for(var e=h.length-1;e>=0;e--)if("program"===h[e].cmd)return void(h[e].channel=t)}function U(t){return t/1e6}function Y(t){return Math.round(t*O*1e6)/1e6}function $(t,e){for(var n=0;n<t.length;n++){for(var r=t[n],i={},s=e.qpm,o=0,a=1,c=0;c<r.length;c++){var l=r[c];if("tempo"!==l.el_type){l.time=o;var u=l.duration?l.duration:0;if(o+=Math.round(u*a*1e6),l.pitches){for(var h=0;h<l.pitches.length;h++){var d=l.pitches[h];if(d)if(d.duration=l.duration,d.startTie)void 0===i[d.pitch]?i[d.pitch]={el:c,pitch:h}:(r[i[d.pitch].el].pitches[i[d.pitch].pitch].duration+=d.duration,l.pitches[h]=null);else if(d.endTie){var p=i[d.pitch];if(p){var f=d.duration;delete r[p.el].pitches[p.pitch].startTie,r[p.el].pitches[p.pitch].duration+=f,l.pitches[h]=null,delete i[d.pitch]}else delete d.endTie}}delete l.duration}}else s?a=l.qpm?s/l.qpm:1:s=l.qpm}for(var m in i)if(i.hasOwnProperty(m)){var g=i[m];delete r[g.el].pitches[g.pitch].startTie}}}function X(t){switch(parseInt(t.den,10)){case 2:return.5;case 4:return.25;case 8:return t.num%3===0?.375:.125;case 16:return.125}return.25}r=function(r,i,s){i||(i={}),t=[],e=[0,0,0,0,0,0,0],!1,o=[],a=i.qpm,c=void 0,O=1,l=void 0,u=void 0,h=void 0,d=void 0,p=0,S=s,C={num:4,den:4},f=[],m=!1,v=r.length,g=!1,b=[],M=64,N=48,y=void 0,_=void 0,j=!!i.chordsOff,I=!1,P=!0,L=105,D=95,F=85,B=.25,x=void 0,k=void 0,R=0,T=[],!1,V={},r.length>0&&r[0].length>0&&(H=r[0][0].pickupLength),$(r,i);for(var E=0;E<r.length;E++){n=0,-1;var A=r[E];h=[{cmd:"program",channel:E,instrument:l}],d=void 0,w=0;var q=!1;(!0===i.voicesOff||i.voicesOff&&i.voicesOff.length&&i.voicesOff.indexOf(E)>=0)&&(q=!0);for(var z=0;z<A.length;z++){var W=A[z];switch(W.el_type){case"name":d={cmd:"text",type:"name",text:W.trackName};break;case"note":var Y=rt(W,q);Y&&(m=E);break;case"key":e=at(W);break;case"meter":c||(c=W),C=W,B=X(C);break;case"tempo":a?O=W.qpm?a/W.qpm:1:a=W.qpm;break;case"transpose":n=W.transpose;break;case"bar":f.length>0&&(!1===m||E===m)&&(_t(w,U(W.time)),b=[]),t=[],0===E&&xt(r.length+1),I=!1,_=y,w=U(W.time);break;case"bagpipes":!0;break;case"instrument":if(void 0===l&&(l=W.program),u=W.program,h.length>0&&"program"===h[h.length-1].cmd)h[h.length-1].instrument=W.program;else{var K;for(K=h.length-1;K>=0&&"program"!==h[K].cmd;K--);(K<0||h[K].instrument!==W.program)&&h.push({cmd:"program",channel:0,instrument:W.program})}break;case"channel":G(W.channel);break;case"drum":V=wt(W.params);break;case"gchord":i.chordsOff||(j=W.tacet);break;case"beat":L=W.beats[0],D=W.beats[1],F=W.beats[2];break;case"vol":x=W.volume;break;case"volinc":k=W.volume;break;case"beataccents":P=W.value;break;default:console.log("MIDI creation. Unknown el_type: "+W.el_type+"\n");break}}void 0===h[0].instrument&&(h[0].instrument=l||0),d&&h.unshift(d),o.push(h),f.length>0&&(g=!0),T.length>0&&!0}return i.detuneOctave&&kt(o,parseInt(i.detuneOctave,10)),f.length>0&&o.push(f),T.length>0&&o.push(T),{tempo:a,instrument:l,tracks:o,totalDuration:p}};var K=["break","(break)","no chord","n.c.","tacet"];function Z(t){if(j)return"break";if(g||!t.chord||0===t.chord.length)return null;for(var e=0;e<t.chord.length;e++){var n=t.chord[e];if("default"===n.position)return n.name;if(K.indexOf(n.name.toLowerCase())>=0)return"break"}return null}function Q(t,e,n){var r=n-t;return r/e}function J(t,e){if(e)return 0;var n;if(x)n=x,x=void 0;else if(P)if(H>t)n=F;else{C.num,C.den;var r=Q(w,X(C),t);n=0===r?L:parseInt(r,10)===r?D:F}else n=D;return k&&(n+=k,k=void 0),n<0&&(n=0),n>127&&(n=127),e?0:n}function tt(t){var e=!1,n=Z(t);if(n){var r=ft(n);if(r){0===f.length&&(e=!0,f.push({cmd:"program",channel:v,instrument:E})),y=r;var i=Q(w,X(C),U(t.time));b.push({chord:y,beat:i,start:U(t.time)})}}return e}function et(t,e){var n={};if(t.decoration)for(var r=0;r<t.decoration.length;r++)"staccato"===t.decoration[r]?n.thisBreakBetweenNotes="staccato":"tenuto"===t.decoration[r]?n.thisBreakBetweenNotes="tenuto":"accent"===t.decoration[r]?n.velocity=Math.min(127,1.5*e):"trill"===t.decoration[r]?n.noteModification="trill":"lowermordent"===t.decoration[r]?n.noteModification="lowermordent":"uppermordent"===t.decoration[r]||"mordent"===t.decoration[r]?n.noteModification="mordent":"turn"===t.decoration[r]?n.noteModification="turn":"roll"===t.decoration[r]&&(n.noteModification="roll");return n}function nt(t,e){var n=e.start,r=e.duration,i=Y(1/32);switch(t){case"trill":var s=1;while(r>0)h.push({cmd:"note",pitch:e.pitch+s,volume:e.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),s=1===s?0:1,r-=i,n+=i;break;case"mordent":h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:e.pitch+1,volume:e.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n,duration:r,gap:0,instrument:u});break;case"lowermordent":h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:e.pitch-1,volume:e.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n,duration:r,gap:0,instrument:u});break;case"turn":i=e.duration/5,h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:e.pitch+1,volume:e.volume,start:n+i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n+2*i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:e.pitch+1,volume:e.volume,start:n+3*i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n+4*i,duration:i,gap:0,instrument:u});break;case"roll":while(r>0)h.push({cmd:"note",pitch:e.pitch,volume:e.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=2*i,n+=2*i;break}}function rt(t,e){h.length;var n,r=J(U(t.time),e),o=tt(t);if(t.gracenotes&&t.pitches&&t.pitches.length>0&&t.pitches[0]&&(n=ct(t.gracenotes,t.pitches[0].duration),t.elem&&(t.elem.midiGraceNotePitches=lt(n,U(t.time),2*r/3,u))),t.elem){var c=U(t.time),l=c/B/a*60*1e3;if(void 0===t.elem.currentTrackMilliseconds)t.elem.currentTrackMilliseconds=l,t.elem.currentTrackWholeNotes=c;else if(void 0===t.elem.currentTrackMilliseconds.length)t.elem.currentTrackMilliseconds!==l&&(t.elem.currentTrackMilliseconds=[t.elem.currentTrackMilliseconds,l],t.elem.currentTrackWholeNotes=[t.elem.currentTrackWholeNotes,c]);else{for(var d=!1,f=0;f<t.elem.currentTrackMilliseconds.length;f++)t.elem.currentTrackMilliseconds[f]===l&&(d=!0);d||(t.elem.currentTrackMilliseconds.push(l),t.elem.currentTrackWholeNotes.push(c))}}if(t.pitches){var m="",g=et(t,r);g.thisBreakBetweenNotes&&(m=g.thisBreakBetweenNotes),g.velocity&&(r=g.velocity);var v=t.pitches;if("rhythm"===t.style&&(I=!0,y&&y.chick)){v=[];for(var b=0;b<y.chick.length;b++){var _=i.clone(t.pitches[0]);_.actualPitch=y.chick[b],v.push(_)}}t.elem&&(t.elem.midiPitches=[]);for(var w=0;w<v.length;w++){var x=v[w];if(x){x.startSlur&&(R+=x.startSlur.length),x.endSlur&&(R-=x.endSlur.length);var k=x.actualPitch?x.actualPitch:ot(x);if(u===A&&S){var T=s(x);T&&S[T]&&(k=S[T].sound)}var O={cmd:"note",pitch:k,volume:r,start:U(t.time),duration:Y(x.duration),instrument:u};if(O=ut(O),t.gracenotes&&(O.duration=O.duration/2,O.start=O.start+O.duration),t.elem&&t.elem.midiPitches.push(O),g.noteModification)nt(g.noteModification,O);else{switch(R>0?O.endType="tenuto":m&&(O.endType=m),O.endType){case"tenuto":O.gap=z;break;case"staccato":var C=O.duration*W;O.gap=a/60*C;break;default:O.gap=q;break}h.push(O)}}}h.length-1}var E=it(t);return p=Math.max(p,U(t.time)+Y(E)),o}function it(t){return t.pitches&&t.pitches.length>0&&t.pitches[0]?t.pitches[0].duration:t.elem?t.elem.duration:t.duration}var st=[0,2,4,5,7,9,11];function ot(r){if(void 0!==r.midipitch)return r.midipitch;var i=r.pitch;if(r.accidental)switch(r.accidental){case"sharp":t[i]=1;break;case"flat":t[i]=-1;break;case"natural":t[i]=0;break;case"dblsharp":t[i]=2;break;case"dblflat":t[i]=-2;break;case"quartersharp":t[i]=.25;break;case"quarterflat":t[i]=-.25;break}var s=12*ht(i)+st[dt(i)]+60;return void 0!==t[i]?s+=t[i]:s+=e[dt(i)],s+=n,s}function at(t){var e=[0,0,0,0,0,0,0];if(!t.accidentals)return e;for(var n=0;n<t.accidentals.length;n++){var r,i=t.accidentals[n];switch(i.acc){case"flat":r=-1;break;case"quarterflat":r=-.25;break;case"sharp":r=1;break;case"quartersharp":r=.25;break;default:r=0;break}var s=i.note.toLowerCase(),o=dt(s.charCodeAt(0)-"c".charCodeAt(0));e[o]+=r}return e}function ct(t,e){for(var n,r=0,i=[],s=0;s<t.length;s++)n=t[s],r+=n.duration;var o=e/2/r;for(s=0;s<t.length;s++){n=t[s];var a={pitch:ot(n),duration:n.duration*o};a=ut(a),i.push(a)}return i}function lt(t,e,n,r){var i=[];n=Math.round(n);for(var s=0;s<t.length;s++){var o=t[s];h.push({cmd:"note",pitch:o.pitch,volume:n,start:e,duration:o.duration,gap:0,instrument:r,style:"grace"}),i.push({pitch:o.pitch,durationInMeasures:o.duration,volume:n,instrument:r}),e+=o.duration}return i}function ut(t){var e=""+t.pitch;return e.indexOf(".75")>=0?(t.pitch=Math.round(t.pitch),t.cents=-50):e.indexOf(".25")>=0&&(t.pitch=Math.round(t.pitch),t.cents=50),t}function ht(t){return Math.floor(t/7)}function dt(t){return t%=7,t<0&&(t+=7),t}var pt={A:33,B:35,C:36,D:38,E:40,F:41,G:43};function ft(t){if(0!==t.length){if("break"===t)return{chick:[]};var e=t.substring(0,1);if("("===e){if(t=t.substring(1,t.length-2),0===t.length)return;e=t.substring(0,1)}var r=pt[e];if(r){var i=n;while(i<-8)i+=12;while(i>8)i-=12;r+=i;var s,o=r-5;1===t.length&&(s=gt(r,""));var a=t.substring(1),c=a.substring(0,1);"b"===c||"â­"===c?(r--,o--,a=a.substring(1)):"#"!==c&&"â¯"!==c||(r++,o++,a=a.substring(1));var l=a.split("/");if(s=gt(r,l[0]),s.length>=3){var u=s[2]-s[0];o=o+u-7}if(2===l.length){var h=pt[l[1].substring(0,1)];if(h){var d=l[1].substring(1),p={"#":1,"â¯":1,b:-1,"â­":-1}[d]||0;r=pt[l[1].substring(0,1)]+p+i,o=r}}return{boom:r,boom2:o,chick:s}}}}var mt={dim:[0,3,6],"Â°":[0,3,6],"Ë":[0,3,6],dim7:[0,3,6,9],"Â°7":[0,3,6,9],"Ë7":[0,3,6,9],"Ã¸7":[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7â­5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7â­5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-â9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7â­9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"â7":[0,4,7,11],"Î7":[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7â¯5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9â¯5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21]};function gt(t,e){var n=mt[e];n||(n="ma"===e.slice(0,2).toLowerCase()||"M"===e.charAt(0)?mt.M:"m"===e.charAt(0)||"-"===e.charAt(0)?mt.m:mt.M),t+=12;for(var r=[],i=0;i<n.length;i++)r.push(t+n[i]);return r}function vt(t,e,n,r,i){void 0!==t&&f.push({cmd:"note",pitch:t,volume:n,start:w+r*Y(e),duration:Y(i),gap:0,instrument:E})}function bt(t,e,n,r,i){for(var s=0;s<t.length;s++)f.push({cmd:"note",pitch:t[s],volume:n,start:w+r*Y(e),duration:Y(i),gap:0,instrument:E})}var yt={"2/2":["boom","chick"],"2/4":["boom","chick"],"3/4":["boom","chick","chick"],"4/4":["boom","chick","boom2","chick"],"5/4":["boom","chick","chick","boom2","chick"],"6/8":["boom","","chick","boom2","","chick"],"9/8":["boom","","chick","boom2","","chick","boom2","","chick"],"12/8":["boom","","chick","boom2","","chick","boom","","chick","boom2","","chick"]};function _t(t,e){var n=C.num,r=C.den,i=1/r,s=i/2,o=yt[n+"/"+r],a=parseInt(n,10)/parseInt(r,10),c=a-(e-t)/O;if(Math.abs(c)<1e-5&&(c=!1),!o||c){o=[];for(var l=(e-t)/O/i,u=0;u<l;u++)o.push("chick")}if(0===b.length&&b.push({beat:0,chord:y}),0!==b[0].beat&&y&&_&&b.unshift({beat:0,chord:_}),1!==b.length){for(var h=.125===i?3:1,d={},p=0;p<b.length;p++){var f=b[p],m=Math.round(f.beat*h);d[""+m]=f}for(var g=0;g<o.length;g++){var v,w;if(d[""+g]&&(v=d[""+g]),!I&&v)switch(o[g]){case"boom":d[""+(g+1)]?bt(v.chord.chick,i,N,g,s):(vt(v.chord.boom,i,M,g,s),w=v.chord.boom);break;case"boom2":d[""+(g+1)]?bt(v.chord.chick,i,N,g,s):w===v.chord.boom?(vt(v.chord.boom2,i,M,g,s),w=void 0):(vt(v.chord.boom,i,M,g,s),w=v.chord.boom);break;case"chick":bt(v.chord.chick,i,N,g,s);break;case"":d[""+g]&&bt(v.chord.chick,i,N,g,s);break}}}else for(var x=b[0].beat;x<o.length;x++)if(!I)switch(o[x]){case"boom":vt(b[0].chord.boom,i,M,x,s);break;case"boom2":vt(b[0].chord.boom2,i,M,x,s);break;case"chick":bt(b[0].chord.chick,i,N,x,s);break}}function wt(t){if(0===t.pattern.length||!1===t.on)return{on:!1};for(var e=t.pattern[0],n=[],r="",i=0,s=0;s<e.length;s++)if("d"===e[s]&&i++,"d"===e[s]||"z"===e[s])0!==r.length?(n.push(r),r=e[s]):r+=e[s];else{if(0===r.length)return{on:!1};r+=e[s]}if(0!==r.length&&n.push(r),t.pattern.length!==2*i+1)return{on:!1};for(var o={on:!0,bars:t.bars,pattern:[]},a=X(C),c=0,l=0;l<n.length;l++){r=n[l];for(var u=1,h=!1,d=0,p=1;p<r.length;p++)switch(r[p]){case"/":0!==d&&(u*=d),d=0,h=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d=10*d+r[p];break;default:return{on:!1}}h?(0===d&&(d=2),u/=d):d&&(u*=d),"d"===r[0]?(o.pattern.push({len:u*a,pitch:t.pattern[1+c],velocity:t.pattern[1+c+i]}),c++):o.pattern.push({len:u*a,pitch:null})}for(var f=0,m=C.num/C.den,g=0;g<o.pattern.length;g++)f+=o.pattern[g].len;var v=t.bars?t.bars:1,b=f/v/m;for(g=0;g<o.pattern.length;g++)o.pattern[g].len=o.pattern[g].len/b;return o}function xt(t){if(0!==T.length||V.on){var e=C.num/C.den;if(0===T.length){if(p<e)return;T.push({cmd:"program",channel:t,instrument:A})}if(V.on)for(var n=w,r=0;r<V.pattern.length;r++){var i=Y(V.pattern[r].len);V.pattern[r].pitch&&T.push({cmd:"note",pitch:V.pattern[r].pitch,volume:V.pattern[r].velocity,start:n,duration:i,gap:0,instrument:A}),n+=i}}}function kt(t,e){for(var n={},r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++){var s=t[r][i];"note"===s.cmd&&(void 0===n[s.start]&&(n[s.start]=[]),n[s.start].push({track:r,event:i,pitch:s.pitch}))}var o=Object.keys(n);for(r=0;r<o.length;r++){var a=n[o[r]];if(a.length>1){a=a.sort((function(t,e){return t.pitch-e.pitch}));var c=a[a.length-1],l=c.pitch%12,u=!1;for(i=0;!u&&i<a.length-1;i++)a[i].pitch%12===l&&(u=!0);if(u){var h=t[c.track][c.event];h.cents||(h.cents=0),h.cents+=e}}}}})(),t.exports=r},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e668:function(t,e,n){var r=n("ece2"),i=n("2a58"),s=n("2f3e");function o(t,e,n,o,c,l,u,h){var d=window.OfflineAudioContext||window.webkitOfflineAudioContext,p=n.len*n.tempoMultiplier;l&&(p+=l/1e3),p-=h,p<0&&(p=.005);var f=new d(2,Math.floor((p+u)*e),e),m=i[n.pitch],g=r[n.instrument][m];if("error"!==g&&"pending"!==g){var v=f.createBufferSource();v.buffer=g;var b,y=n.volume/96*c;return v.gainNode=f.createGain(),n.pan&&f.createStereoPanner&&(v.panNode=f.createStereoPanner(),v.panNode.pan.setValueAtTime(n.pan,0)),v.gainNode.gain.value=y,v.gainNode.gain.linearRampToValueAtTime(v.gainNode.gain.value,p),v.gainNode.gain.linearRampToValueAtTime(0,p+u),n.cents&&(v.playbackRate.value=s(n.cents)),v.panNode?(v.panNode.connect(f.destination),v.gainNode.connect(v.panNode)):v.gainNode.connect(f.destination),v.connect(v.gainNode),v.start(0),v.noteOff?v.noteOff(p+u):v.stop(p+u),f.oncomplete=function(r){if(r.renderedBuffer)for(var i=0;i<o.length;i++){var s=o[i]*n.tempoMultiplier;l&&(s-=l/1e3),s<0&&(s=0),s=Math.floor(s*e),a(t,r.renderedBuffer,s)}b()},f.startRendering(),new Promise((function(t,e){b=t}))}console.log("Didn't load note",n.instrument,m,g)}var a=function(t,e,n){for(var r=0;r<2;r++)for(var i=e.getChannelData(r),s=t.getChannelData(r),o=0;o<i.length;o++)s[o+n]+=i[o]};t.exports=o},e6cf:function(t,e,n){"use strict";var r,i,s,o,a=n("23e7"),c=n("c430"),l=n("da84"),u=n("d066"),h=n("fea9"),d=n("6eeb"),p=n("e2cc"),f=n("d44e"),m=n("2626"),g=n("861d"),v=n("1c0b"),b=n("19aa"),y=n("8925"),_=n("2266"),w=n("1c7e"),x=n("4840"),k=n("2cf4").set,T=n("b575"),S=n("cdf9"),O=n("44de"),C=n("f069"),E=n("e667"),A=n("69f3"),M=n("94ca"),N=n("b622"),j=n("605d"),I=n("2d00"),P=N("species"),L="Promise",D=A.get,F=A.set,B=A.getterFor(L),R=h,V=l.TypeError,H=l.document,q=l.process,z=u("fetch"),W=C.f,G=W,U=!!(H&&H.createEvent&&l.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,$="unhandledrejection",X="rejectionhandled",K=0,Z=1,Q=2,J=1,tt=2,et=M(L,(function(){var t=y(R)!==String(R);if(!t){if(66===I)return!0;if(!j&&!Y)return!0}if(c&&!R.prototype["finally"])return!0;if(I>=51&&/native code/.test(R))return!1;var e=R.resolve(1),n=function(t){t((function(){}),(function(){}))},r=e.constructor={};return r[P]=n,!(e.then((function(){}))instanceof n)})),nt=et||!w((function(t){R.all(t)["catch"]((function(){}))})),rt=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},it=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;T((function(){var r=t.value,i=t.state==Z,s=0;while(n.length>s){var o,a,c,l=n[s++],u=i?l.ok:l.fail,h=l.resolve,d=l.reject,p=l.domain;try{u?(i||(t.rejection===tt&&ct(t),t.rejection=J),!0===u?o=r:(p&&p.enter(),o=u(r),p&&(p.exit(),c=!0)),o===l.promise?d(V("Promise-chain cycle")):(a=rt(o))?a.call(o,h,d):h(o)):d(r)}catch(f){p&&!c&&p.exit(),d(f)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ot(t)}))}},st=function(t,e,n){var r,i;U?(r=H.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!Y&&(i=l["on"+t])?i(r):t===$&&O("Unhandled promise rejection",n)},ot=function(t){k.call(l,(function(){var e,n=t.facade,r=t.value,i=at(t);if(i&&(e=E((function(){j?q.emit("unhandledRejection",r,n):st($,n,r)})),t.rejection=j||at(t)?tt:J,e.error))throw e.value}))},at=function(t){return t.rejection!==J&&!t.parent},ct=function(t){k.call(l,(function(){var e=t.facade;j?q.emit("rejectionHandled",e):st(X,e,t.value)}))},lt=function(t,e,n){return function(r){t(e,r,n)}},ut=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=Q,it(t,!0))},ht=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw V("Promise can't be resolved itself");var r=rt(e);r?T((function(){var n={done:!1};try{r.call(e,lt(ht,n,t),lt(ut,n,t))}catch(i){ut(n,i,t)}})):(t.value=e,t.state=Z,it(t,!1))}catch(i){ut({done:!1},i,t)}}};et&&(R=function(t){b(this,R,L),v(t),r.call(this);var e=D(this);try{t(lt(ht,e),lt(ut,e))}catch(n){ut(e,n)}},r=function(t){F(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:K,value:void 0})},r.prototype=p(R.prototype,{then:function(t,e){var n=B(this),r=W(x(this,R));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=j?q.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=K&&it(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=D(t);this.promise=t,this.resolve=lt(ht,e),this.reject=lt(ut,e)},C.f=W=function(t){return t===R||t===s?new i(t):G(t)},c||"function"!=typeof h||(o=h.prototype.then,d(h.prototype,"then",(function(t,e){var n=this;return new R((function(t,e){o.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof z&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return S(R,z.apply(l,arguments))}}))),a({global:!0,wrap:!0,forced:et},{Promise:R}),f(R,L,!1,!0),m(L),s=u(L),a({target:L,stat:!0,forced:et},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),a({target:L,stat:!0,forced:c||et},{resolve:function(t){return S(c&&this===s?R:this,t)}}),a({target:L,stat:!0,forced:nt},{all:function(t){var e=this,n=W(e),r=n.resolve,i=n.reject,s=E((function(){var n=v(e.resolve),s=[],o=0,a=1;_(t,(function(t){var c=o++,l=!1;s.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,s[c]=t,--a||r(s))}),i)})),--a||r(s)}));return s.error&&i(s.value),n.promise},race:function(t){var e=this,n=W(e),r=n.reject,i=E((function(){var i=v(e.resolve);_(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e730:function(t,e,n){var r=n("5cbe"),i=n("fa8e"),s=function(t,e,n,s,o,a){for(var c=0;c<n.chord.length;c++)for(var l=n.chord[c].position,u=n.chord[c].rel_position,h=n.chord[c].name.split("\n"),d=h.length-1;d>=0;d--){var p,f,m,g=h[d],v=0;"left"===l||"right"===l||"below"===l||"above"===l?(f="annotationfont",m="annotation"):(f="gchordfont",m="chord");var b=t.attr(f,m),y=t.calc(g,f,m),_=y.width,w=y.height/i.STEP;switch(l){case"left":s+=_+7,v=-s,p=n.averagepitch,e.addExtra(new r(g,v,_+4,p,{type:"text",height:w,dim:b,position:"left"}));break;case"right":o+=4,v=o,p=n.averagepitch,e.addRight(new r(g,v,_+4,p,{type:"text",height:w,dim:b,position:"right"}));break;case"below":e.addRight(new r(g,0,0,void 0,{type:"text",position:"below",height:w,dim:b,realWidth:_}));break;case"above":e.addRight(new r(g,0,0,void 0,{type:"text",position:"above",height:w,dim:b,realWidth:_}));break;default:if(u){var x=u.y+3*i.STEP;e.addRight(new r(g,v+u.x,0,n.minpitch+x/i.STEP,{position:"relative",type:"text",height:w,dim:b}))}else{var k="above";n.positioning&&n.positioning.chordPosition&&(k=n.positioning.chordPosition),"hidden"!==k&&e.addCentered(new r(g,a/2,_,void 0,{type:"chord",position:k,height:w,dim:b,realWidth:_}))}}}return{roomTaken:s,roomTakenRight:o}};t.exports=s},e893:function(t,e,n){var r=n("5135"),i=n("56ef"),s=n("06cf"),o=n("9bf2");t.exports=function(t,e){for(var n=i(e),a=o.f,c=s.f,l=0;l<n.length;l++){var u=n[l];r(t,u)||a(t,u,c(e,u))}}},e8ab:function(t,e){var n={clone:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},cloneArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(n.clone(t[r]));return e},cloneHashOfHash:function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n.clone(t[r]));return e},cloneHashOfArrayOfHash:function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n.cloneArray(t[r]));return e},gsub:function(t,e,n){return t.split(e).join(n)},strip:function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},startsWith:function(t,e){return 0===t.indexOf(e)},endsWith:function(t,e){var n=t.length-e.length;return n>=0&&t.lastIndexOf(e)===n},each:function(t,e,n){for(var r=0,i=t.length;r<i;r++)e.apply(n,[t[r],r])},last:function(t){return 0===t.length?null:t[t.length-1]},compact:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},detect:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}};try{(function(t){t.forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}))})([Element.prototype,CharacterData.prototype,DocumentType.prototype])}catch(r){}t.exports=n},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e95a:function(t,e,n){var r=n("b622"),i=n("3f8c"),s=r("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[s]===t)}},eac1:function(t,e){var n=function(t,e){this.formatting=t,this.classes=e};n.prototype.updateFonts=function(t){t.gchordfont&&(this.formatting.gchordfont=t.gchordfont),t.tripletfont&&(this.formatting.tripletfont=t.tripletfont),t.annotationfont&&(this.formatting.annotationfont=t.annotationfont),t.vocalfont&&(this.formatting.vocalfont=t.vocalfont)},n.prototype.calc=function(t,e){var n;"string"===typeof t?(n=this.formatting[t],n=n?{face:n.face,size:Math.round(4*n.size/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:{face:"Arial",size:Math.round(16),decoration:"underline",style:"normal",weight:"normal"}):n={face:t.face,size:Math.round(4*t.size/3),decoration:t.decoration,style:t.style,weight:t.weight,box:t.box};var r=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;n.padding=n.size*r;var i={"font-size":n.size,"font-style":n.style,"font-family":n.face,"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(e)};return{font:n,attr:i}},t.exports=n},ead1:function(t,e){var n=function(){};function r(t,e){var n=0;return"note"!==t.type&&"bar"!==t.type||(n=e),-t.extraw+n}function i(t){return t.w}n.beginLayout=function(t,e){e.i=0,e.durationindex=0,e.startx=t,e.minx=t,e.nextx=t,e.spacingduration=0},n.layoutEnded=function(t){return t.i>=t.children.length},n.getNextX=function(t){return Math.max(t.minx,t.nextx)},n.getSpacingUnits=function(t){return Math.sqrt(8*t.spacingduration)},n.layoutOneItem=function(t,e,n,s){var o=n.children[n.i];if(!o)return 0;var a=t-n.minx,c=n.durationindex+o.duration>0?s:0,l=r(o,c);return a<l&&(0===n.i||"bar"!==o.type||"part"!==n.children[n.i-1].type&&"tempo"!==n.children[n.i-1].type)&&(t+=l-a),o.setX(t),n.spacingduration=o.duration,n.minx=t+i(o),n.i!==n.children.length-1&&(n.minx+=o.minspacing),this.updateNextX(t,e,n),t},n.shiftRight=function(t,e){var n=e.children[e.i];n&&(n.setX(n.x+t),e.minx+=t,e.nextx+=t)},n.updateNextX=function(t,e,n){n.nextx=t+e*Math.sqrt(8*n.spacingduration)},n.updateIndices=function(t){this.layoutEnded(t)||(t.durationindex+=t.children[t.i].duration,"bar"===t.children[t.i].type&&(t.durationindex=Math.round(64*t.durationindex)/64),t.i++)},t.exports=n},ece2:function(t,e){var n={};t.exports=n},ece5:function(t,e,n){var r=n("fa8e"),i=n("67ad"),s=n("d587"),o=n("1e04"),a=n("6e15"),c=n("f318"),l=n("037c"),u=n("c815"),h=n("11af"),d=n("0d41"),p=n("bd12"),f=n("eac1"),m=n("2a0d"),g=n("a053"),v=(n("2a55"),function(t,e){e=e||{},this.selectionColor=e.selectionColor,this.dragColor=e.dragColor?e.dragColor:e.selectionColor,this.dragging=!!e.dragging,this.selectTypes=e.selectTypes,this.responsive=e.responsive,this.space=3*r.SPACE,this.scale=e.scale?parseFloat(e.scale):0,this.classes=new p({shouldAddClasses:e.add_classes}),this.scale>.1||(this.scale=void 0),e.staffwidth?(this.staffwidthScreen=e.staffwidth,this.staffwidthPrint=e.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],e.clickListener&&this.addSelectListener(e.clickListener),this.renderer=new s(t),this.renderer.setPaddingOverride(e),e.showDebug&&(this.renderer.showDebug=e.showDebug),this.renderer.controller=this,this.renderer.foregroundColor=e.foregroundColor?e.foregroundColor:"currentColor",e.ariaLabel&&(this.renderer.ariaLabel=e.ariaLabel),this.renderer.minPadding=e.minPadding?e.minPadding:0,this.reset()});v.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0},v.prototype.engraveABC=function(t,e){void 0===t[0]&&(t=[t]),this.reset();for(var n=0;n<t.length;n++)void 0===e&&(e=n),this.getFontAndAttr=new f(t[n].formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper),this.engraveTune(t[n],e)},v.prototype.adjustNonScaledItems=function(t){this.width/=t,this.renderer.adjustNonScaledItems(t)},v.prototype.getMeasureWidths=function(t){this.reset(),this.getFontAndAttr=new f(t.formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper),this.setupTune(t,0),this.constructTuneElements(t),d(this.renderer,t,0,this.space);for(var e,n=[],r=!0,i=0;i<t.lines.length;i++){var s=t.lines[i];if(s.staff){if(r&&(e={left:0,measureWidths:[],total:0},n.push(e),r=!1),s.staffGroup.voices.length>0)for(var o=s.staffGroup.voices[0],a=!1,c=0,l=0;l<o.children.length;l++){var u=o.children[l];a||u.isClef||u.isKeySig||(a=!0,e.left=u.x,c=u.x),"bar"===u.type&&(e.measureWidths.push(u.x-c),e.total+=u.x-c,c=u.x)}}else r=!0}return n},v.prototype.setupTune=function(t,e){this.classes.reset(),this.renderer.newTune(t),this.engraver=new i(this.getTextSize,e,{bagpipes:t.formatting.bagpipes,flatbeams:t.formatting.flatbeams,graceSlurs:!1!==t.formatting.graceSlurs,percmap:t.formatting.percmap}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=t.getMeterFraction().num/t.getMeterFraction().den,t.formatting.staffwidth?this.width=1.33*t.formatting.staffwidth:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=t.formatting.scale?t.formatting.scale:this.scale;return"resize"===this.responsive&&(n=void 0),void 0===n&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n),n},v.prototype.constructTuneElements=function(t){var e,n;t.topText=new l(t.metaText,t.formatting,t.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize);var r=!1,i=!1;for(e=0;e<t.lines.length;e++)if(n=t.lines[e],n.staff)i=!0,n.staffGroup=this.engraver.createABCLine(n.staff,r?null:t.metaText.tempo),r=!0;else if(n.subtitle){if(i){var s=this.width/2+this.renderer.padding.left;n.nonMusic=new c(this.renderer.spacing.subtitle,t.formatting,n.subtitle,s,this.renderer.padding.left,this.getTextSize)}}else void 0!==n.text?(i=!0,n.nonMusic=new o(n.text,n.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):void 0!==n.separator&&n.separator.lineLength&&(i=!0,n.nonMusic=new a(n.separator.spaceAbove,n.separator.lineLength,n.separator.spaceBelow));t.bottomText=new u(t.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize)},v.prototype.engraveTune=function(t,e){var n=this.setupTune(t,e);this.constructTuneElements(t);var r=d(this.renderer,t,this.width,this.space),i=g(this.renderer,this.classes,t,this.width,r,this.responsive,n,this.selectTypes,e);this.staffgroups=i.staffgroups,this.selectables=i.selectables,h(this)},v.prototype.getDim=function(t){if(!t.dim){var e=t.svgEl.getBBox();t.dim={left:Math.round(e.x),top:Math.round(e.y),right:Math.round(e.x+e.width),bottom:Math.round(e.y+e.height)}}return t.dim},v.prototype.addSelectListener=function(t){this.listeners[this.listeners.length]=t},t.exports=v},ee1c:function(t,e,n){n("0a08");var r=n("7991"),i=n("7ec3"),s=n("0188"),o=n("7900"),a={};a.signature="abcjs-basic v"+r,Object.keys(i).forEach((function(t){a[t]=i[t]})),Object.keys(s).forEach((function(t){a[t]=s[t]})),a.renderAbc=n("0842"),a.TimingCallbacks=n("2c7f");var c=n("1ce3");a.setGlyph=c.setSymbol;var l=n("245c"),u=n("0323"),h=n("2a58"),d=n("7204"),p=n("609f"),f=n("671d"),m=n("a3bf"),g=n("4919"),v=n("af2b"),b=n("7558"),y=n("92be");a.synth={CreateSynth:l,instrumentIndexToName:u,pitchToNoteName:h,SynthController:b,SynthSequence:d,CreateSynthControl:p,registerAudioContext:f,activeAudioContext:m,supportsAudio:g,playEvent:v,getMidiFile:y,sequence:o},a["Editor"]=n("d9b5"),a["EditArea"]=n("b721"),t.exports=a},ef67:function(t,e){function n(t,e,n){var r=t.paper.rectBeneath(e);return n&&t.paper.text(n,{x:0,y:e.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),r}t.exports=n},f069:function(t,e,n){"use strict";var r=n("1c0b"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},f159:function(t,e,n){"use strict";n.d(e,"a",(function(){return V})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return R}));const r=(t,e)=>Array(Math.abs(e)+1).join(t);function i(t){return null!==t&&"object"===typeof t&&"string"===typeof t.name}function s(t){return null!==t&&"object"===typeof t&&"number"===typeof t.step&&"number"===typeof t.alt}const o=[0,2,4,-1,1,3,5],a=o.map(t=>Math.floor(7*t/12));function c(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=o[e]+7*n;if(void 0===r)return[i*s];const c=r-a[e]-4*n;return[i*s,i*c]}const l=[3,0,4,1,5,2,6];function u(t){const[e,n,r]=t,i=l[h(e)],s=Math.floor((e+1)/7);if(void 0===n)return{step:i,alt:s,dir:r};const o=n+4*s+a[i];return{step:i,alt:s,oct:o,dir:r}}function h(t){const e=(t+1)%7;return e<0?7+e:e}const d={empty:!0,name:"",pc:"",acc:""},p=new Map,f=t=>"CDEFGAB".charAt(t),m=t=>t<0?r("b",-t):r("#",t),g=t=>"b"===t[0]?-t.length:t.length;function v(t){const e=p.get(t);if(e)return e;const n="string"===typeof t?k(t):s(t)?v(T(t)):i(t)?v(t.name):d;return p.set(t,n),n}const b=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function y(t){const e=b.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function _(t){return v(u(t))}const w=(t,e)=>(t%e+e)%e,x=[0,2,4,5,7,9,11];function k(t){const e=y(t);if(""===e[0]||""!==e[3])return d;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,o=g(r),a=i.length?+i:void 0,l=c({step:s,alt:o,oct:a}),u=n+r+i,h=n+r,p=(x[s]+o+120)%12,f=void 0===a?w(x[s]+o,12)-1188:x[s]+o+12*(a+1),m=f>=0&&f<=127?f:null,v=void 0===a?null:440*Math.pow(2,(f-69)/12);return{empty:!1,acc:r,alt:o,chroma:p,coord:l,freq:v,height:f,letter:n,midi:m,name:u,oct:a,pc:h,step:s}}function T(t){const{step:e,alt:n,oct:r}=t,i=f(e);if(!i)return"";const s=i+m(n);return r||0===r?s+r:s}const S={empty:!0,name:"",acc:""},O="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",C="(AA|A|P|M|m|d|dd)([-+]?\\d+)",E=new RegExp("^"+O+"|"+C+"$");function A(t){const e=E.exec(""+t);return null===e?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}const M={};function N(t){return"string"===typeof t?M[t]||(M[t]=P(t)):s(t)?N(F(t)):i(t)?N(t.name):S}const j=[0,2,4,5,7,9,11],I="PMMPPMM";function P(t){const e=A(t);if(""===e[0])return S;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=I[i];if("M"===s&&"P"===r)return S;const o="M"===s?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=8===n||-8===n?n:l*(i+1),h=D(o,r),d=Math.floor((Math.abs(n)-1)/7),p=l*(j[i]+h+12*d),f=(l*(j[i]+h)%12+12)%12,m=c({step:i,alt:h,oct:d,dir:l});return{empty:!1,name:a,num:n,q:r,step:i,alt:h,dir:l,type:o,simple:u,semitones:p,chroma:f,coord:m,oct:d}}function L(t){const[e,n=0]=t,r=7*e+12*n<0,i=r?[-e,-n,-1]:[e,n,1];return N(u(i))}function D(t,e){return"M"===e&&"majorable"===t||"P"===e&&"perfectable"===t?0:"m"===e&&"majorable"===t?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*("perfectable"===t?e.length:e.length+1):0}function F(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,o=i<0?"-":"",a="M"===I[e]?"majorable":"perfectable",c=o+s+B(a,n);return c}function B(t,e){return 0===e?"majorable"===t?"M":"P":-1===e&&"majorable"===t?"m":e>0?r("A",e):r("d","perfectable"===t?e:e+1)}function R(t,e){const n=v(t),r=N(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,o=1===i.length?[i[0]+s[0]]:[i[0]+s[0],i[1]+s[1]];return _(o).name}function V(t,e){const n=v(t),r=v(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,o=s[0]-i[0],a=2===i.length&&2===s.length?s[1]-i[1]:-Math.floor(7*o/12);return L([o,a]).name}},f1ef:function(t,e){var n=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),void 0!==t.voiceNumber&&(this.voiceNumber=t.voiceNumber),void 0!==t.style&&(this.dotted=!0),this.internalNotes=[]};n.prototype.addInternalNote=function(t){this.internalNotes.push(t)},n.prototype.setEndAnchor=function(t){this.anchor2=t},n.prototype.setStartX=function(t){this.startLimitX=t},n.prototype.setEndX=function(t){this.endLimitX=t},n.prototype.setHint=function(){this.hint=!0},n.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(0===this.voiceNumber)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var t;t=this.anchor1?this.anchor1.pitch:this.anchor2?this.anchor2.pitch:14,this.anchor1&&"down"===this.anchor1.stemDir&&this.anchor2&&"down"===this.anchor2.stemDir?this.above=!0:this.anchor1&&"up"===this.anchor1.stemDir&&this.anchor2&&"up"===this.anchor2.stemDir?this.above=!1:this.anchor1&&this.anchor2?this.above=t>=6:this.anchor1?this.above="down"===this.anchor1.stemDir:this.anchor2?this.above="down"===this.anchor2.stemDir:this.above=t>=6}},n.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(0===this.voiceNumber)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var t=!1;this.anchor1&&"down"===this.anchor1.stemDir&&(t=!0),this.anchor2&&"down"===this.anchor2.stemDir&&(t=!0);for(var e=0;e<this.internalNotes.length;e++){var n=this.internalNotes[e];"down"===n.stemDir&&(t=!0)}this.above=t}},n.prototype.calcX=function(t,e){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.startX=t,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=e},n.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0},n.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&"up"===this.anchor1.stemDir&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var t=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,e=(this.anchor2.highestVert+this.anchor2.pitch)/2;this.above&&"up"===this.anchor2.stemDir&&!this.fixedY&&!t&&e<this.startY?(this.endY=e,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&t?this.anchor2.highestVert:this.anchor2.pitch}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)},n.prototype.avoidCollisionAbove=function(){if(this.above){for(var t=-50,e=0;e<this.internalNotes.length;e++)this.internalNotes[e].highestVert>t&&(t=this.internalNotes[e].highestVert);t>this.startY&&t>this.endY&&(this.startY=this.endY=t-1)}},t.exports=n},f204:function(t,e){var n="http://www.w3.org/2000/svg";function r(t){this.svg=a(),t.appendChild(this.svg)}function i(t,e,n){var r=n-t;return"M "+t+" "+e+" l "+r+" 0 l 0 1  l "+-r+" 0  z "}function s(t,e,n){var r=n-e;return"M "+t+" "+e+" l 0 "+r+" l 1 0  l 0 "+-r+"  z "}r.prototype.clear=function(){if(this.svg){var t=this.svg.parentNode;this.svg=a(),t&&(t.innerHTML="",t.appendChild(this.svg))}},r.prototype.setTitle=function(t){var e=document.createElement("title"),n=document.createTextNode(t);e.appendChild(n),this.svg.insertBefore(e,this.svg.firstChild)},r.prototype.setResponsiveWidth=function(t,e){if(this.svg.setAttribute("viewBox","0 0 "+t+" "+e),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style["display"]="inline-block",this.svg.style["position"]="absolute",this.svg.style["top"]="0",this.svg.style["left"]="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style["display"]="inline-block",this.svg.parentNode.style["position"]="relative",this.svg.parentNode.style["width"]="100%";var r=e/t*100;this.svg.parentNode.style["padding-bottom"]=r+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style["overflow"]="hidden"}},r.prototype.setSize=function(t,e){this.svg.setAttribute("width",t),this.svg.setAttribute("height",e)},r.prototype.setAttribute=function(t,e){this.svg.setAttribute(t,e)},r.prototype.setScale=function(t){1!==t?(this.svg.style.transform="scale("+t+","+t+")",this.svg.style["-ms-transform"]="scale("+t+","+t+")",this.svg.style["-webkit-transform"]="scale("+t+","+t+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")},r.prototype.insertStyles=function(t){var e=document.createElementNS(n,"style");e.textContent=t,this.svg.insertBefore(e,this.svg.firstChild)},r.prototype.setParentStyles=function(t){for(var e in t)t.hasOwnProperty(e)&&this.svg.parentNode&&(this.svg.parentNode.style[e]=t[e]);if(this.dummySvg){var n=document.querySelector("body");n.removeChild(this.dummySvg),this.dummySvg=null}},r.prototype.rect=function(t){var e=[],n=t.x,r=t.y,o=t.x+t.width,a=t.y+t.height;return e.push(i(n,r,o)),e.push(i(n,a,o)),e.push(s(o,r,a)),e.push(s(n,a,r)),this.path({path:e.join(" "),stroke:"none"})},r.prototype.dottedLine=function(t){var e=document.createElementNS(n,"line");e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2),e.setAttribute("stroke",t.stroke),e.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(e,this.svg.firstChild)},r.prototype.rectBeneath=function(t){var e=document.createElementNS(n,"rect");e.setAttribute("x",t.x),e.setAttribute("width",t.width),e.setAttribute("y",t.y),e.setAttribute("height",t.height),t.stroke&&e.setAttribute("stroke",t.stroke),t["stroke-opacity"]&&e.setAttribute("stroke-opacity",t["stroke-opacity"]),t.fill&&e.setAttribute("fill",t.fill),t["fill-opacity"]&&e.setAttribute("fill-opacity",t["fill-opacity"]),this.svg.insertBefore(e,this.svg.firstChild)},r.prototype.text=function(t,e,r){var i=document.createElementNS(n,"text");for(var s in i.setAttribute("stroke","none"),e)e.hasOwnProperty(s)&&i.setAttribute(s,e[s]);for(var o=(""+t).split("\n"),a=0;a<o.length;a++){var c=document.createElementNS(n,"tspan");c.textContent=o[a],c.setAttribute("x",e.x?e.x:0),0!==a&&c.setAttribute("dy","1.2em"),i.appendChild(c)}return r?r.appendChild(i):this.append(i),i},r.prototype.guessWidth=function(t,e){var n,r=this.createDummySvg(),i=this.text(t,e,r);try{n=i.getBBox(),n=isNaN(n.height)||!n.height?{width:e["font-size"]/2,height:e["font-size"]+2}:{width:n.width,height:n.height}}catch(s){n={width:e["font-size"]/2,height:e["font-size"]+2}}return r.removeChild(i),n},r.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=a();var t=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",t.join(""));var e=document.querySelector("body");e.appendChild(this.dummySvg)}return this.dummySvg};var o={};function a(){var t=document.createElementNS(n,"svg");return t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("role","img"),t.setAttribute("fill","currentColor"),t.setAttribute("stroke","currentColor"),t}r.prototype.getTextSize=function(t,e,n){if("number"===typeof t&&(t=""+t),!t||t.match(/^\s+$/))return{width:0,height:0};var r;if(t.length<20&&(r=t+JSON.stringify(e),o[r]))return o[r];var i,s=!n;n||(n=this.text(t,e));try{i=n.getBBox(),i=isNaN(i.height)||!i.height?this.guessWidth(t,e):{width:i.width,height:i.height}}catch(a){i=this.guessWidth(t,e)}return s&&(this.currentGroup?this.currentGroup.removeChild(n):this.svg.removeChild(n)),r&&(o[r]=i),i},r.prototype.openGroup=function(t){t=t||{};var e=document.createElementNS(n,"g");return t.klass&&e.setAttribute("class",t.klass),t.fill&&e.setAttribute("fill",t.fill),t.stroke&&e.setAttribute("stroke",t.stroke),t.prepend?this.svg.insertBefore(e,this.svg.firstChild):this.svg.appendChild(e),this.currentGroup=e,e},r.prototype.closeGroup=function(){var t=this.currentGroup;return this.currentGroup=null,t},r.prototype.path=function(t){var e=document.createElementNS(n,"path");for(var r in t)t.hasOwnProperty(r)&&("path"===r?e.setAttributeNS(null,"d",t.path):e.setAttributeNS(null,r,t[r]));return this.append(e),e},r.prototype.pathToBack=function(t){var e=document.createElementNS(n,"path");for(var r in t)t.hasOwnProperty(r)&&("path"===r?e.setAttributeNS(null,"d",t.path):e.setAttributeNS(null,r,t[r]));return this.prepend(e),e},r.prototype.append=function(t){this.currentGroup?this.currentGroup.appendChild(t):this.svg.appendChild(t)},r.prototype.prepend=function(t){this.currentGroup?this.currentGroup.appendChild(t):this.svg.insertBefore(t,this.svg.firstChild)},r.prototype.setAttributeOnElement=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttributeNS(null,n,e[n])},r.prototype.moveElementToChild=function(t,e){t.appendChild(e)},t.exports=r},f2d0:function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},f318:function(t,e){function n(t,e,n,r,i,s){this.rows=[],t&&this.rows.push({move:t});var o=e.titleleft?"start":"middle",a=e.titleleft?i:r;this.rows.push({left:a,text:n,font:"subtitlefont",klass:"text subtitle",anchor:o});var c=s.calc(n,"subtitlefont","text subtitle");this.rows.push({move:c.height})}t.exports=n},f38c:function(t,e,n){var r=n("29d0"),i=n("4f47");function s(t,e,n){this.elements=[],this.paper=t,this.tuneNumber=n,this.selectTypes=e}s.prototype.getElements=function(){return this.elements},s.prototype.add=function(t,e,n,r){if(this.canSelect(t)){var i;i=void 0===this.selectTypes?{selectable:!1,"data-index":this.elements.length}:{selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(e,i);var s={absEl:t,svgEl:e,isDraggable:n};void 0!==r&&(s.staffPos=r),this.elements.push(s)}},s.prototype.canSelect=function(t){return!1!==this.selectTypes&&(!(!t||!t.abcelem)&&(!0===this.selectTypes||(void 0===this.selectTypes?"note"===t.abcelem.el_type:this.selectTypes.indexOf(t.abcelem.el_type)>=0)))},s.prototype.wrapSvgEl=function(t,e){var n={tuneNumber:this.tuneNumber,abcelem:t,elemset:[e],highlight:r,unhighlight:i};this.add(n,e,!1)},t.exports=s},f3e2:function(t,e,n){var r=n("c8f1"),i=n("2429"),s=n("acb7"),o=function(t){for(var e=0;e<t.beams.length;e++)if("BeamElem"===t.beams[e].type){r(t.beams[e]),a(t.beams[e]);for(var n=0;n<t.beams[e].elems.length;n++)t.adjustRange(t.beams[e].elems[n])}for(t.staff.specialY.chordLines=l(t.children),e=0;e<t.otherchildren.length;e++){var i=t.otherchildren[e];"TripletElem"===i.type&&(s(i),t.adjustRange(i))}t.staff.top=Math.max(t.staff.top,t.top),t.staff.bottom=Math.min(t.staff.bottom,t.bottom)};function a(t){for(var e=1.5,n=0;n<t.elems.length;n++){var r=t.elems[n];if(r.top)for(var i=d(r,t),s=0;s<r.children.length;s++){var o=r.children[s];if("ornament"===o.klass&&o.bottom-e<i){var a=i-o.bottom+e;o.bottom+=a,o.top+=a,o.pitch+=a,i=r.top=o.top}}}}function c(t,e){var n=e.getChordDim();if(n){for(var r=0;r<t.length;r++){var i=t[r]<n.left;if(i)return r>0&&e.putChordInLane(r),void(t[r]=n.right)}t.push(n.right),e.putChordInLane(t.length-1)}}function l(t){var e,n,r,i=[0],s=[0];for(e=0;e<t.length;e++){for(n=0;n<t[e].children.length;n++)r=t[e].children[n],r.chordHeightAbove&&c(i,r);for(n=t[e].children.length-1;n>=0;n--)r=t[e].children[n],r.chordHeightBelow&&c(s,r)}return(i.length>1||s.length>1)&&h(t,i.length,s.length),{above:i.length,below:s.length}}function u(t){for(var e=0,n=0;n<t.children.length;n++){var r=t.children[n];r.chordHeightBelow&&e++}return e}function h(t,e,n){for(var r=0;r<t.length;r++){u(t[r]);for(var i=0;i<t[r].children.length;i++){var s=t[r].children[i];s.chordHeightAbove&&s.invertLane(e)}}}function d(t,e){return e=e.beams[0],i(e.startX,e.startY,e.endX,e.endY,t.x)}t.exports=o},f5df:function(t,e,n){var r=n("00ee"),i=n("c6b6"),s=n("b622"),o=s("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},f5f7:function(t,e){function n(t,e){if(e&&0!==t.lines.length){var n=t.deline({lineBreaks:!1}),s=i(n,e);t.lines=r(n,s),t.lineBreaks=s}}function r(t,e){for(var n=[],r=[],i=[],s=0;s<e.length;s++){var o=e[s];if(t[o.ogLine].staff){var a=t[o.ogLine].staff[o.staff];if(n[o.line]||(n[o.line]={staff:[]}),!n[o.line].staff[o.staff]){n[o.line].staff[o.staff]={voices:[]};for(var c=Object.keys(a),l=0;l<c.length;l++){var u="voices"===c[l];"meter"===c[l]&&0!==o.line&&(u=!0),u||(n[o.line].staff[o.staff][c[l]]=a[c[l]])}r[o.staff]&&(n[o.line].staff[o.staff].key=r[o.staff])}n[o.line].staff[o.staff].voices[o.voice]||(n[o.line].staff[o.staff].voices[o.voice]=[]),n[o.line].staff[o.staff].voices[o.voice]=t[o.ogLine].staff[o.staff].voices[o.voice].slice(o.start,o.end+1),i[10*o.staff+o.voice]&&n[o.line].staff[o.staff].voices[o.voice].unshift({el_type:"stem",direction:i[10*o.staff+o.voice].direction});for(var h=n[o.line].staff[o.staff].voices[o.voice],d=h.length-1;d>=0;d--)if("key"===h[d].el_type){r[o.staff]={root:h[d].root,acc:h[d].acc,mode:h[d].mode,accidentals:h[d].accidentals.filter((function(t){return"natural"!==t.acc}))};break}for(d=h.length-1;d>=0;d--)if("stem"===h[d].el_type){i[10*o.staff+o.voice]={direction:h[d].direction};break}}else n[o.line]=t[o.ogLine]}for(var p=0;p<n.length;p++)n[p].staff&&(n[p].staff=n[p].staff.filter((function(t){return null!=t})));return n}function i(t,e){for(var n=[],r=0,i=0,s=0,o=0;o<t.length;o++){var a=t[o];if(a.staff){var c=i,l=e[r];r++;for(var u=0;u<a.staff.length;u++)for(var h=a.staff[u],d=0;d<h.voices.length;d++){s=c;for(var p=0,f=0,m=h.voices[d],g=0,v=0;v<m.length;v++){var b=m[v];"bar"===b.el_type&&(l[f]===p&&(n.push({ogLine:o,line:s,staff:u,voice:d,start:g,end:v}),g=v+1,s++,i=Math.max(i,s),f++),p++)}n.push({ogLine:o,line:s,staff:u,voice:d,start:g,end:m.length}),s++,i=Math.max(i,s)}}else n.push({ogLine:o,line:s}),s++,i=Math.max(i,s)}return n}function s(t,e){for(var n=[],r=[],i=0,s=0;s<t.length;s++){var o=t[s],a=i+o;if(a<e)i=a;else{var c=e-i,l=a-e;c<l&&i>0?(n.push(s-1),r.push(Math.round(i-o)),i=o):s<t.length-1&&(n.push(s),r.push(Math.round(i)),i=0)}}return r.push(Math.round(i)),{lineBreaks:n,totals:r}}function o(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function a(t,e,n,r,i,s,a,c,l,u,h){for(var d=u;d<t.length;d++){var p=t[d];n+=p,r+=p;var f=Math.abs(n-e[c]),m=Math.abs(f-s)<e[0]/10;if(m)if(f<s){var g=o(i),v=o(l);v.push(d-1),g.push(r-p),h.push({accumulator:n,lineAccumulator:p,lineWidths:g,lastVariance:Math.abs(n-e[c+1]),highestVariance:Math.max(a,s),currLine:c+1,lineBreaks:v,startIndex:d+1})}else f>s&&d<t.length-1&&(g=o(i),v=o(l),h.push({accumulator:n,lineAccumulator:r,lineWidths:g,lastVariance:f,highestVariance:Math.max(a,f),currLine:c,lineBreaks:v,startIndex:d+1}));f>s?(l.push(d-1),c++,a=Math.max(a,s),s=Math.abs(n-e[c]),i.push(r-p),r=p):s=f}i.push(r)}function c(t,e,n,r){for(var i=Math.ceil(t.total/e),s=Math.floor(t.total/i),o=[],c=0;c<i;c++)o.push(s*(c+1));var l=[];l.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});var u=0;while(u<l.length)a(t.measureWidths,o,l[u].accumulator,l[u].lineAccumulator,l[u].lineWidths,l[u].lastVariance,l[u].highestVariance,l[u].currLine,l[u].lineBreaks,l[u].startIndex,l),u++;for(c=0;c<l.length;c++){var h=l[c];h.variances=[],h.aveVariance=0;for(var d=0;d<h.lineWidths.length;d++){var p=h.lineWidths[d];h.variances.push(p-o[0]),h.aveVariance+=Math.abs(p-o[0])}h.aveVariance=h.aveVariance/h.lineWidths.length,r.attempts.push({type:"optimizeLineWidths",lineBreaks:h.lineBreaks,variances:h.variances,aveVariance:h.aveVariance,widths:t.measureWidths})}var f=9999999,m=-1;for(c=0;c<l.length;c++)h=l[c],h.aveVariance<f&&(f=h.aveVariance,m=c);return{failed:!1,lineBreaks:l[m].lineBreaks,variance:l[m].highestVariance}}function l(t,e,n){for(var r=[],i=[],s=0,o=!1,a=0;a<t.length;a++)s+=t[a],s>e&&(o=!0),a%n===n-1&&(a!==t.length-1&&r.push(a),i.push(Math.round(s)),s=0);return{failed:o,totals:i,lineBreaks:r}}function u(t,e,n){var r={lineBreaks:t,staffwidth:e};for(var i in n)n.hasOwnProperty(i)&&"wrap"!==i&&"staffwidth"!==i&&(r[i]=n[i]);return{revisedParams:r}}function h(t,e,n){if(0===e.length||n.staffwidth<e[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:n};var r=n.scale?Math.max(n.scale,.1):1,i=n.wrap.minSpacing?Math.max(parseFloat(n.wrap.minSpacing),1):1,o=n.wrap.minSpacingLimit?Math.max(parseFloat(n.wrap.minSpacingLimit),1):i-.1,a=n.wrap.maxSpacing?Math.max(parseFloat(n.wrap.maxSpacing),1):void 0;n.wrap.lastLineLimit&&!a&&(a=Math.max(parseFloat(n.wrap.lastLineLimit),1));for(var h=n.wrap.preferredMeasuresPerLine?Math.max(parseInt(n.wrap.preferredMeasuresPerLine,10),0):void 0,d=[],p=[],f=0;f<e.length;f++){var m=e[f],g=n.staffwidth-m.left,v=g/i/r,b=g/a/r,y=g/o/r,_={widths:m,lineBreakPoint:v,minLineSize:b,attempts:[],staffWidth:n.staffwidth,minWidth:Math.round(y)},w=null;if(h){var x=l(m.measureWidths,v,h);_.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:h,lineBreaks:x.lineBreaks,failed:x.failed,totals:x.totals}),x.failed||(w=x.lineBreaks)}if(!w){var k=s(m.measureWidths,v);_.attempts.push({type:"Free Form",lineBreaks:k.lineBreaks,totals:k.totals}),w=k.lineBreaks,w.length>0&&m.measureWidths.length<25&&(k=c(m,v,w,_),_.attempts.push({type:"Optimize",failed:k.failed,reason:k.reason,lineBreaks:k.lineBreaks,totals:k.totals}),k.failed||(w=k.lineBreaks))}d.push(w),p.push(_)}var T=n.staffwidth,S=u(d,T,n);return S.explanation=p,S.reParse=!0,S}t.exports={wrapLines:n,calcLineWraps:h}},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),s=r("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},f83d:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return _})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return w})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return T})),n.d(e,"o",(function(){return C})),n.d(e,"p",(function(){return h})),n.d(e,"q",(function(){return x})),n.d(e,"r",(function(){return o})),n.d(e,"s",(function(){return E})),n.d(e,"t",(function(){return p}));const r=/\{([0-9a-zA-Z]+)\}/g;function i(t,...e){return 1===e.length&&T(e[0])&&(e=e[0]),e&&e.hasOwnProperty||(e={}),t.replace(r,(t,n)=>e.hasOwnProperty(n)?e[n]:"")}const s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=t=>s?Symbol(t):t,a=(t,e,n)=>c({l:t,k:e,s:n}),c=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),l=t=>"number"===typeof t&&isFinite(t),u=t=>"[object Date]"===O(t),h=t=>"[object RegExp]"===O(t),d=t=>C(t)&&0===Object.keys(t).length;function p(t,e){"undefined"!==typeof console&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const f=Object.assign;let m;const g=()=>m||(m="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{});function v(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const b=Object.prototype.hasOwnProperty;function y(t,e){return b.call(t,e)}const _=Array.isArray,w=t=>"function"===typeof t,x=t=>"string"===typeof t,k=t=>"boolean"===typeof t,T=t=>null!==t&&"object"===typeof t,S=Object.prototype.toString,O=t=>S.call(t),C=t=>"[object Object]"===O(t),E=t=>null==t?"":_(t)||C(t)&&t.toString===S?JSON.stringify(t,null,2):String(t);function A(){const t=new Map,e={events:t,on(e,n){const r=t.get(e),i=r&&r.push(n);i||t.set(e,[n])},off(e,n){const r=t.get(e);r&&r.splice(r.indexOf(n)>>>0,1)},emit(e,n){(t.get(e)||[]).slice().map(t=>t(n)),(t.get("*")||[]).slice().map(t=>t(e,n))}};return e}}).call(this,n("c8ba"))},fa8e:function(t,e){var n={FONTEM:360,FONTSIZE:30};n.STEP=93*n.FONTSIZE/720,n.SPACE=10,n.TOPNOTE=15,n.STAVEHEIGHT=100,n.INDENT=50,t.exports=n},fad5:function(t,e,n){var r=n("9514"),i=n("1c33");function s(t,e){var n,s=e.x;void 0===e.pitch&&window.console.error("Tempo Element y-coordinate not set."),e.tempo.el_type="tempo",t.paper.openGroup({klass:t.controller.classes.generate("tempo")});var o,a,c=t.calcY(e.pitch)+2;if(e.tempo.preString){o=i(t,{x:s,y:c,text:e.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,"dominant-baseline":"ideographic"}),a=t.controller.getTextSize.calc(e.tempo.preString,"tempofont","tempo",o);var l=a.width,u=l/e.tempo.preString.length;s+=l+u}if(e.note){e.note.setX(s);for(var h=0;h<e.note.children.length;h++)r(t,e.note.children[h],s);s+=e.note.w+5;var d="= "+e.tempo.bpm;o=i(t,{x:s,y:c,text:d,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0}),a=t.controller.getTextSize.calc(d,"tempofont","tempo",o);var p=a.width,f=p/d.length;s+=p+f}return e.tempo.postString&&i(t,{x:s,y:c,text:e.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0}),n=t.paper.closeGroup(),[n]}t.exports=s},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),s=n("e8b5"),o=n("23cb"),a=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),h=n("1dde"),d=h("slice"),p=u("species"),f=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,r,u,h=c(this),d=a(h.length),g=o(t,d),v=o(void 0===e?d:e,d);if(s(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?i(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(h,g,v);for(r=new(void 0===n?Array:n)(m(v-g,0)),u=0;g<v;g++,u++)g in h&&l(r,u,h[g]);return r.length=u,r}})},fba2:function(t,e,n){var r=n("06b3"),i=n("e8ab"),s=function(t){var e=this;function n(t,e){for(var n=e-1;n>0&&"bar"!==t[n].el_type;n--);return n}function s(t){for(var e=!0,n=0;n<t.length;n++){var r=t[n];if(r.staff){for(var i=0;i<r.staff.length;i++){var s=r.staff[i];if(s.title){for(var o=!1,a=0;a<s.title.length;a++)s.title[a]?(s.title[a]=e?s.title[a].name:s.title[a].subname,s.title[a]?o=!0:s.title[a]=""):s.title[a]="";o||delete s.title}}e=!1}}}this.reset=function(){t.version="1.1.0",t.media="screen",t.metaText={},t.formatting={},t.lines=[],t.staffNum=0,t.voiceNum=0,t.lineNum=0,t.runningFonts={},delete t.visualTranspose},this.setVisualTranspose=function(e){e&&(t.visualTranspose=e)},this.resolveOverlays=function(){for(var e=!1,r=[],s=0;s<t.lines.length;s++){var o=t.lines[s];if(o.staff)for(var a=0;a<o.staff.length;a++){for(var c=o.staff[a],l=[],u=0;u<c.voices.length;u++){var h=c.voices[u];l.push({hasOverlay:!1,voice:[],snip:[]}),r[s]=0;for(var d=0,p=!1,f=0,m=-1,g=0;g<h.length;g++){var v=h[g];if("overlay"!==v.el_type||p)"bar"===v.el_type?(p?(p=!1,l[u].snip.push({start:m,len:g-m}),l[u].voice.push(v)):(d>0&&l[u].voice.push({el_type:"note",duration:d,rest:{type:"invisible"},startChar:v.startChar,endChar:v.endChar}),l[u].voice.push(v)),d=0):"note"===v.el_type?p?l[u].voice.push(v):(d+=v.duration,r[s]+=v.duration):"scale"!==v.el_type&&"stem"!==v.el_type&&"overlay"!==v.el_type&&"style"!==v.el_type&&"transpose"!==v.el_type||l[u].voice.push(v);else{e=!0,p=!0,m=g,l[u].hasOverlay=!0,0===f&&(f=r[s]);for(var b=0;b<s;b++)r[b]&&t.lines[b].staff&&c.voices.length>=t.lines[b].staff[0].voices.length&&t.lines[b].staff[0].voices.push([{el_type:"note",duration:r[b],rest:{type:"invisible"},startChar:v.startChar,endChar:v.endChar}])}}l[u].hasOverlay&&0===l[u].snip.length&&l[u].snip.push({start:m,len:h.length-m})}for(u=0;u<l.length;u++){var y=l[u];if(y.hasOverlay){y.voice.splice(0,0,{el_type:"stem",direction:"down"}),c.voices.push(y.voice);for(var _=y.snip.length-1;_>=0;_--){var w=y.snip[_];c.voices[u].splice(w.start,w.len),c.voices[u].splice(w.start+1,0,{el_type:"stem",direction:"auto"});var x=n(c.voices[u],w.start);c.voices[u].splice(x,0,{el_type:"stem",direction:"up"})}for(_=0;_<c.voices[c.voices.length-1].length;_++){c.voices[c.voices.length-1][_]=i.clone(c.voices[c.voices.length-1][_]);var k=c.voices[c.voices.length-1][_];"bar"===k.el_type&&k.startEnding&&delete k.startEnding,"bar"===k.el_type&&k.endEnding&&delete k.endEnding}}}}}return e},this.cleanUp=function(e,n,o){this.closeLine(),delete t.runningFonts,t.metaText.tempo&&t.metaText.tempo.bpm&&!t.metaText.tempo.duration&&(t.metaText.tempo.duration=[t.getBeatLength()]);var a,c,l,u=!1;for(a=0;a<t.lines.length;a++)if(void 0!==t.lines[a].staff){var h=!1;for(c=0;c<t.lines[a].staff.length;c++)if(void 0===t.lines[a].staff[c])u=!0,t.lines[a].staff[c]=null;else for(l=0;l<t.lines[a].staff[c].voices.length;l++)void 0===t.lines[a].staff[c].voices[l]?t.lines[a].staff[c].voices[l]=[]:this.containsNotes(t.lines[a].staff[c].voices[l])&&(h=!0);h||(t.lines[a]=null,u=!0)}if(u&&(t.lines=i.compact(t.lines),i.each(t.lines,(function(t){t.staff&&(t.staff=i.compact(t.staff))}))),e)while(m(t.lines,e));if(n){for(u=!1,a=0;a<t.lines.length;a++)if(void 0!==t.lines[a].staff)for(c=0;c<t.lines[a].staff.length;c++){var d=!1;for(l=0;l<t.lines[a].staff[c].voices.length;l++)this.containsNotesStrict(t.lines[a].staff[c].voices[l])&&(d=!0);d||(u=!0,t.lines[a].staff[c]=null)}u&&i.each(t.lines,(function(t){t.staff&&(t.staff=i.compact(t.staff))}))}for(s(t.lines),a=0;a<t.lines.length;a++)if(t.lines[a].staff)for(c=0;c<t.lines[a].staff.length;c++)delete t.lines[a].staff[c].workingClef;while(this.resolveOverlays());function p(t,e,n){var r;o[e]||(o[e]=[]),o[e][n]||(o[e][n]=[]);for(var s=function(t,s,a){if(void 0===o[e][n][a]){for(r=0;r<o[e][n].length;r++)if(void 0!==o[e][n][r]){a=r;break}if(void 0===o[e][n][a]){var c=100*a+1;i.each(t.endSlur,(function(t){c===t&&--c})),o[e][n][a]=[c]}}for(var l,u=0;u<s;u++)l=o[e][n][a].pop(),t.endSlur.push(l);return 0===o[e][n][a].length&&delete o[e][n][a],l},a=function(t,r,s,a){t.startSlur=[],void 0===o[e][n][s]&&(o[e][n][s]=[]);for(var c=100*s+1,l=0;l<r;l++)a&&(i.each(a,(function(t){c===t&&++c})),i.each(a,(function(t){c===t&&++c})),i.each(a,(function(t){c===t&&++c}))),i.each(o[e][n][s],(function(t){c===t&&++c})),i.each(o[e][n][s],(function(t){c===t&&++c})),o[e][n][s].push(c),t.startSlur.push({label:c}),t.dottedSlur&&(t.startSlur[t.startSlur.length-1].style="dotted",delete t.dottedSlur),c++},c=0;c<t.length;c++){var l=t[c];if("note"===l.el_type){if(l.gracenotes)for(var u=0;u<l.gracenotes.length;u++){if(l.gracenotes[u].endSlur){var h=l.gracenotes[u].endSlur;l.gracenotes[u].endSlur=[];for(var d=0;d<h;d++)s(l.gracenotes[u],1,20)}l.gracenotes[u].startSlur&&(r=l.gracenotes[u].startSlur,a(l.gracenotes[u],r,20))}if(l.endSlur&&(r=l.endSlur,l.endSlur=[],s(l,r,0)),l.startSlur&&(r=l.startSlur,a(l,r,0)),l.pitches){for(var p=[],f=0;f<l.pitches.length;f++)if(l.pitches[f].endSlur){var m=l.pitches[f].endSlur;l.pitches[f].endSlur=[];for(var g=0;g<m;g++){var v=s(l.pitches[f],1,f+1);p.push(v)}}for(f=0;f<l.pitches.length;f++)l.pitches[f].startSlur&&(r=l.pitches[f].startSlur,a(l.pitches[f],r,f+1,p));l.gracenotes&&l.pitches[0].endSlur&&100===l.pitches[0].endSlur[0]&&l.pitches[0].startSlur&&(l.gracenotes[0].endSlur?l.gracenotes[0].endSlur.push(l.pitches[0].startSlur[0].label):l.gracenotes[0].endSlur=[l.pitches[0].startSlur[0].label],1===l.pitches[0].endSlur.length?delete l.pitches[0].endSlur:100===l.pitches[0].endSlur[0]?l.pitches[0].endSlur.shift():100===l.pitches[0].endSlur[l.pitches[0].endSlur.length-1]&&l.pitches[0].endSlur.pop(),1===o[e][n][1].length?delete o[e][n][1]:o[e][n][1].pop())}}}}function f(t){r.fixClef(t)}function m(t,e){for(a=0;a<t.length;a++)if(void 0!==t[a].staff)for(c=0;c<t[a].staff.length;c++){var n=[];for(l=0;l<t[a].staff[c].voices.length;l++)for(var r=t[a].staff[c].voices[l],s=0,o=0;o<r.length;o++)if("bar"===r[o].el_type){if(s++,s>=e&&o<r.length-1){var u=g(t,a);if(!u){var h=JSON.parse(JSON.stringify(t[a]));t.push(i.clone(h)),u=t[t.length-1];for(var d=0;d<u.staff.length;d++)for(var p=0;p<u.staff[d].voices.length;p++)u.staff[d].voices[p]=[]}var f=o+1,m=t[a].staff[c].voices[l].slice(f);return t[a].staff[c].voices[l]=t[a].staff[c].voices[l].slice(0,f),u.staff[c].voices[l]=n.concat(m.concat(u.staff[c].voices[l])),!0}}else r[o].duration||n.push(r[o])}return!1}function g(t,e){e++;while(t.length>e){if(t[e].staff)return t[e];e++}return null}for(t.lineNum=0;t.lineNum<t.lines.length;t.lineNum++){var v=t.lines[t.lineNum].staff;if(v)for(t.staffNum=0;t.staffNum<v.length;t.staffNum++)for(v[t.staffNum].clef&&f(v[t.staffNum].clef),t.voiceNum=0;t.voiceNum<v[t.staffNum].voices.length;t.voiceNum++){var b=v[t.staffNum].voices[t.voiceNum];p(b,t.staffNum,t.voiceNum);for(var y=0;y<b.length;y++)"clef"===b[y].el_type&&f(b[y]);if(b.length>0&&b[b.length-1].barNumber){var _=g(t.lines,t.lineNum);_&&(_.staff[0].barNumber=b[b.length-1].barNumber),delete b[b.length-1].barNumber}}}return delete t.staffNum,delete t.voiceNum,delete t.lineNum,delete t.potentialStartBeam,delete t.potentialEndBeam,delete t.vskipPending,o},this.reset(),this.getLastNote=function(){if(t.lines[t.lineNum]&&t.lines[t.lineNum].staff&&t.lines[t.lineNum].staff[t.staffNum]&&t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum])for(var e=t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum].length-1;e>=0;e--){var n=t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum][e];if("note"===n.el_type)return n}return null},this.addTieToLastNote=function(t){var e=this.getLastNote();return!!(e&&e.pitches&&e.pitches.length>0)&&(e.pitches[0].startTie={},t&&(e.pitches[0].startTie.style="dotted"),!0)},this.getDuration=function(t){return t.duration?t.duration:0},this.closeLine=function(){t.potentialStartBeam&&t.potentialEndBeam&&(t.potentialStartBeam.startBeam=!0,t.potentialEndBeam.endBeam=!0),delete t.potentialStartBeam,delete t.potentialEndBeam},this.appendElement=function(n,r,s,o){var a=t,c=function(t){var e=a.lines[a.lineNum].staff[a.staffNum];if(e){if(void 0!==t.pitches){var n=e.workingClef.verticalPos;i.each(t.pitches,(function(t){t.verticalPos=t.pitch-n}))}if(void 0!==t.gracenotes){var r=e.workingClef.verticalPos;i.each(t.gracenotes,(function(t){t.verticalPos=t.pitch-r}))}e.voices[a.voiceNum].push(t)}};o.el_type=n,null!==r&&(o.startChar=r),null!==s&&(o.endChar=s);var l=function(){a.potentialStartBeam.startBeam=!0,o.endBeam=!0,delete a.potentialStartBeam,delete a.potentialEndBeam},u=function(){void 0!==a.potentialStartBeam&&void 0!==a.potentialEndBeam&&(a.potentialStartBeam.startBeam=!0,a.potentialEndBeam.endBeam=!0),delete a.potentialStartBeam,delete a.potentialEndBeam};if("note"===n){var h=e.getDuration(o);h>=.25||o.force_end_beam_last&&void 0!==a.potentialStartBeam?u():o.end_beam&&void 0!==a.potentialStartBeam?void 0===o.rest?l():u():void 0===o.rest&&(void 0===a.potentialStartBeam?o.end_beam||(a.potentialStartBeam=o,delete a.potentialEndBeam):a.potentialEndBeam=o)}else u();delete o.end_beam,delete o.force_end_beam_last,c(o)},this.appendStartingElement=function(e,n,r,s){var o;this.closeLine(),"key"===e&&(o=s.impliedNaturals,delete s.impliedNaturals,delete s.explicitAccidentals);var a=i.clone(s);if(t.lines[t.lineNum]&&t.lines[t.lineNum].staff){t.lines[t.lineNum].staff.length<=t.staffNum&&(t.lines[t.lineNum].staff[t.staffNum]={},t.lines[t.lineNum].staff[t.staffNum].clef=i.clone(t.lines[t.lineNum].staff[0].clef),t.lines[t.lineNum].staff[t.staffNum].key=i.clone(t.lines[t.lineNum].staff[0].key),t.lines[t.lineNum].staff[0].meter&&(t.lines[t.lineNum].staff[t.staffNum].meter=i.clone(t.lines[t.lineNum].staff[0].meter)),t.lines[t.lineNum].staff[t.staffNum].workingClef=i.clone(t.lines[t.lineNum].staff[0].workingClef),t.lines[t.lineNum].staff[t.staffNum].voices=[[]]),"clef"===e&&(t.lines[t.lineNum].staff[t.staffNum].workingClef=a);for(var c=t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum],l=0;l<c.length;l++){if("note"===c[l].el_type||"bar"===c[l].el_type)return a.el_type=e,a.startChar=n,a.endChar=r,o&&(a.accidentals=o.concat(a.accidentals)),void c.push(a);if(c[l].el_type===e)return a.el_type=e,a.startChar=n,a.endChar=r,o&&(a.accidentals=o.concat(a.accidentals)),void(c[l]=a)}t.lines[t.lineNum].staff[t.staffNum][e]=s}},this.pushLine=function(e){t.vskipPending&&(e.vskip=t.vskipPending,delete t.vskipPending),t.lines.push(e)},this.addSubtitle=function(t){this.pushLine({subtitle:t})},this.addSpacing=function(e){t.vskipPending=e},this.addNewPage=function(t){this.pushLine({newpage:t})},this.addSeparator=function(t,e,n){this.pushLine({separator:{spaceAbove:Math.round(t),spaceBelow:Math.round(e),lineLength:Math.round(n)}})},this.addText=function(t){this.pushLine({text:t})},this.addCentered=function(t){this.pushLine({text:[{text:t,center:!0}]})},this.containsNotes=function(t){for(var e=0;e<t.length;e++)if("note"===t[e].el_type||"bar"===t[e].el_type)return!0;return!1},this.containsNotesStrict=function(t){for(var e=0;e<t.length;e++)if("note"===t[e].el_type&&void 0===t[e].rest)return!0;return!1},this.changeVoiceScale=function(t){e.appendElement("scale",null,null,{size:t})},this.startNewLine=function(n){var r=t;this.closeLine();var i=function(t){var n=r.lines[r.lineNum].staff[r.staffNum];if(n.voices[r.voiceNum]=[],n.title||(n.title=[]),n.title[r.voiceNum]={name:t.name,subname:t.subname},t.style&&e.appendElement("style",null,null,{head:t.style}),t.stem)e.appendElement("stem",null,null,{direction:t.stem});else if(r.voiceNum>0){if(void 0!==n.voices[0]){for(var i=!1,s=0;s<n.voices[0].length;s++)"stem"===n.voices[0].el_type&&(i=!0);if(!i){var o={el_type:"stem",direction:"up"};n.voices[0].splice(0,0,o)}}e.appendElement("stem",null,null,{direction:"down"})}t.scale&&e.appendElement("scale",null,null,{size:t.scale})},s=function(t){t.key&&t.key.impliedNaturals&&(t.key.accidentals=t.key.accidentals.concat(t.key.impliedNaturals),delete t.key.impliedNaturals),r.lines[r.lineNum].staff[r.staffNum]={voices:[],clef:t.clef,key:t.key,workingClef:t.clef},void 0!==t.stafflines&&(r.lines[r.lineNum].staff[r.staffNum].clef.stafflines=t.stafflines,r.lines[r.lineNum].staff[r.staffNum].workingClef.stafflines=t.stafflines),t.staffscale&&(r.lines[r.lineNum].staff[r.staffNum].staffscale=t.staffscale),t.annotationfont&&e.setLineFont("annotationfont",t.annotationfont),t.gchordfont&&e.setLineFont("gchordfont",t.gchordfont),t.tripletfont&&e.setLineFont("tripletfont",t.tripletfont),t.vocalfont&&e.setLineFont("vocalfont",t.vocalfont),t.bracket&&(r.lines[r.lineNum].staff[r.staffNum].bracket=t.bracket),t.brace&&(r.lines[r.lineNum].staff[r.staffNum].brace=t.brace),t.connectBarLines&&(r.lines[r.lineNum].staff[r.staffNum].connectBarLines=t.connectBarLines),t.barNumber&&(r.lines[r.lineNum].staff[r.staffNum].barNumber=t.barNumber),i(t),t.part&&e.appendElement("part",t.part.startChar,t.part.endChar,{title:t.part.title}),void 0!==t.meter&&(r.lines[r.lineNum].staff[r.staffNum].meter=t.meter),r.vskipPending&&(r.lines[r.lineNum].vskip=r.vskipPending,delete r.vskipPending)},o=function(t){r.lines[r.lineNum]={staff:[]},s(t)};void 0===t.lines[t.lineNum]?o(n):void 0===t.lines[t.lineNum].staff?(t.lineNum++,this.startNewLine(n)):void 0===t.lines[t.lineNum].staff[t.staffNum]?s(n):void 0===t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum]?i(n):this.containsNotes(t.lines[t.lineNum].staff[t.staffNum].voices[t.voiceNum])?(t.lineNum++,this.startNewLine(n)):n.part&&e.appendElement("part",n.part.startChar,n.part.endChar,{title:n.part.title})},this.setRunningFont=function(e,n){t.runningFonts[e]=n},this.setLineFont=function(e,n){if(t.runningFonts[e]){for(var r=!1,i=Object.keys(n),s=0;s<i.length;s++)t.runningFonts[e][i[s]]!==n[i[s]]&&(r=!0);r&&(t.lines[t.lineNum].staff[t.staffNum][e]=n)}t.runningFonts[e]=n},this.setBarNumberImmediate=function(t){var e=this.getCurrentVoice();if(e&&e.length>0){var n=e[e.length-1];if("bar"!==n.el_type)return t-1;void 0!==n.barNumber&&(n.barNumber=t)}return t},this.hasBeginMusic=function(){for(var e=0;e<t.lines.length;e++)if(t.lines[e].staff)return!0;return!1},this.isFirstLine=function(e){for(var n=e-1;n>=0;n--)if(void 0!==t.lines[n].staff)return!1;return!0},this.getCurrentVoice=function(){var e=t.lines[t.lineNum];if(!e)return null;var n=e.staff[t.staffNum];return n&&void 0!==n.voices[t.voiceNum]?n.voices[t.voiceNum]:null},this.setCurrentVoice=function(e,n){t.staffNum=e,t.voiceNum=n;for(var r=0;r<t.lines.length;r++)if(t.lines[r].staff&&(void 0===t.lines[r].staff[e]||void 0===t.lines[r].staff[e].voices[n]||!this.containsNotes(t.lines[r].staff[e].voices[n])))return void(t.lineNum=r);t.lineNum=r},this.addMetaText=function(e,n){void 0===t.metaText[e]?t.metaText[e]=n:t.metaText[e]+="\n"+n},this.addMetaTextArray=function(e,n){void 0===t.metaText[e]?t.metaText[e]=[n]:t.metaText[e].push(n)},this.addMetaTextObj=function(e,n){t.metaText[e]=n}};t.exports=s},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fd32:function(t,e,n){function r(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(r=n.next()).done);o=!0)if(s.push(r.value),e&&s.length===e)break}catch(c){a=!0,i=c}finally{try{o||null==n["return"]||n["return"]()}finally{if(a)throw i}}return s}}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var r=n("da84");t.exports=r.Promise}}]);
//# sourceMappingURL=chunk-vendors.d42424d1.js.map